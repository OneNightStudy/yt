(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe48089e","chunk-525c4680"],{"02f4":function(e,t,r){var a=r("4588"),o=r("be13");e.exports=function(e){return function(t,r){var i,n,s=String(o(t)),l=a(r),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l),i<55296||i>56319||l+1===c||(n=s.charCodeAt(l+1))<56320||n>57343?e?s.charAt(l):i:e?s.slice(l,l+2):n-56320+(i-55296<<10)+65536)}}},"23e3":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"my-tree"},e._l(e.treeData,function(t,a){return r("div",{key:a,staticClass:"brother"},[r("div",{staticClass:"judgeTJ"},[r("div",{directives:[{name:"show",rawName:"v-show",value:0==a,expression:"idx==0"}],staticClass:"judgeSet judgeTitle"},[e._m(0,!0),r("div",{staticClass:"judgeSetTwo"},[e._v("比较项")]),r("div",{staticClass:"judgeSetThree"},[e._v("比较符号")]),r("div",{staticClass:"judgeSetFour"},[e._v("比较项")]),r("div",{staticClass:"judgeSetfive"})])]),r("div",{staticClass:"judgeSet",class:"judge-"+a},[r("div",{staticClass:"judgeSetOne"},[r("Select",{directives:[{name:"show",rawName:"v-show",value:0!=a,expression:"idx!=0"}],staticStyle:{width:"80px"},attrs:{clearable:"",placeholder:"and/or"},model:{value:t.operator,callback:function(r){e.$set(t,"operator",r)},expression:"data.operator"}},e._l(e.operatorArray,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),r("div",{staticClass:"judgeSetTwo"},[r("Cascader",{class:[4==t.left[0]?"w100":"w200"],staticStyle:{display:"inline-block"},attrs:{data:e.getBcArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选"},model:{value:t.left,callback:function(r){e.$set(t,"left",r)},expression:"data.left"}}),4==t.left[0]?r("Input",{staticClass:"inputLeft",staticStyle:{display:"inline-block",width:"100px"},model:{value:t.leftConstant,callback:function(r){e.$set(t,"leftConstant",r)},expression:"data.leftConstant"}}):e._e()],1),r("div",{staticClass:"judgeSetThree"},[r("Select",{staticStyle:{width:"100px"},attrs:{clearable:""},model:{value:t.compare,callback:function(r){e.$set(t,"compare",r)},expression:"data.compare"}},e._l(e.compareArray,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),r("div",{staticClass:"judgeSetFour"},[r("Cascader",{class:[4==t.right[0]?"w100":"w200"],staticStyle:{display:"inline-block"},attrs:{data:e.getBcArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选"},model:{value:t.right,callback:function(r){e.$set(t,"right",r)},expression:"data.right"}}),4==t.right[0]?r("Input",{staticClass:"inputRight",staticStyle:{display:"inline-block",width:"100px"},model:{value:t.rightConstant,callback:function(r){e.$set(t,"rightConstant",r)},expression:"data.rightConstant"}}):e._e()],1),r("div",{staticClass:"judgeSetfive"},[r("Button",{attrs:{type:"primary",size:"small"},on:{click:function(r){r.stopPropagation(),e.$emit("addBrother",r,t)}}},[e._v("添加同级")]),r("Button",{attrs:{type:"primary",size:"small"},on:{click:function(r){r.stopPropagation(),e.$emit("addChild",r,t)}}},[e._v("添加下级")]),r("Button",{attrs:{type:"error",size:"small"},on:{click:function(r){r.stopPropagation(),e.$emit("deleteNode",r,t)}}},[e._v("删除")])],1)]),t.childConditions&&t.childConditions.length?r("div",{staticClass:"childConditions"},[r("div",{staticClass:"childOperator"},[r("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.childOperator,callback:function(r){e.$set(t,"childOperator",r)},expression:"data.childOperator"}},e._l(e.operatorArray,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),r("my-tree",{attrs:{treeData:t.childConditions},on:{addBrother:e.addBrother,addChild:e.addChild,deleteNode:e.deleteNode}})],1):e._e()])}))},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"judgeSetOne"},[r("span",[e._v("关系符号")])])}],i={name:"my-tree",props:{treeData:{type:Array,default:function(){return[{operator:2,compare:4,left:[],right:[],childOperator:0,childConditions:[]}]}}},data:function(){return{operatorArray:[{value:0,label:"and"},{value:1,label:"or"}],compareArray:[{value:0,label:">大于"},{value:1,label:">=大于等于"},{value:2,label:"<小于"},{value:3,label:"<=小于等于"},{value:4,label:"=等于"},{value:5,label:"<>不等于"},{value:7,label:"Like包含"},{value:8,label:"Not Like不包含"}]}},computed:{getBcArray:function(){return this.$store.state.yt.bcDiyArray}},methods:{format:function(e,t){if(e&&e.length>=1){var r=e.length-1;return 0==r?e[r]:e[r-1]+" / "+e[r]}},addBrother:function(e,t){this.$emit("addBrother",e,t)},addChild:function(e,t){this.$emit("addChild",e,t)},deleteNode:function(e,t){this.$emit("deleteNode",e,t)}}},n=i,s=(r("f843"),r("2877")),l=Object(s["a"])(n,a,o,!1,null,null,null);l.options.__file="myTree.vue";t["default"]=l.exports},"51b7":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Card",{staticClass:"name"},[r("h2",{staticStyle:{"text-align":"center","margin-top":"10px"}},[e._v("指令集配置")]),r("Form",{ref:"orderForm",attrs:{model:e.orderForm,"label-width":200,rules:e.orderFormValidate,id:"orderForm"}},[r("Collapse",{model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},[r("Panel",{attrs:{name:"1",id:"orderSetpanelName"}},[e._v("\n          命名配置\n          "),r("p",{attrs:{slot:"content"},slot:"content"},[r("span",[r("FormItem",{attrs:{label:"分类属性",prop:"keySelect"}},[r("Cascader",{staticStyle:{width:"300px"},attrs:{data:e.keyGetSelect,"change-on-select":"",clearable:"","element-id":"orderSetkeySelect"},model:{value:e.orderForm.keySelect,callback:function(t){e.$set(e.orderForm,"keySelect",t)},expression:"orderForm.keySelect"}})],1),r("FormItem",{attrs:{label:"指令集名称",prop:"orderSetName"}},[r("Input",{attrs:{maxlength:30,"element-id":"orderSetname"},model:{value:e.orderForm.orderSetName,callback:function(t){e.$set(e.orderForm,"orderSetName",t)},expression:"orderForm.orderSetName"}})],1),r("FormItem",{attrs:{label:"描述",prop:"remark"}},[r("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:10}},model:{value:e.orderForm.remark,callback:function(t){e.$set(e.orderForm,"remark",t)},expression:"orderForm.remark"}})],1)],1)])]),r("Panel",{attrs:{name:"2",id:"orderSetpanelOrder"}},[e._v("\n          指令修改\n          "),r("p",{attrs:{slot:"content"},slot:"content"},[r("span",[r("div",{staticClass:"orderTitle ovhd"},[e._v("指令操作: "),r("Button",{attrs:{size:"small",type:"primary","element-id":"orderAdd"},on:{click:function(t){e.listFormShow("新增")}}},[e._v("添加指令")])],1),r("Table",{attrs:{columns:e.orderColumns,data:e.orders,"highlight-row":""},on:{"on-current-change":e.currentRow}}),r("div",{staticClass:"orderTitle ovhd"},[e._v("解析器列表: ")]),r("Table",{attrs:{columns:e.jxqColumns,data:e.orders.arr}})],1)])]),r("Panel",{attrs:{name:"3",id:"panelOrderpanelJudge"}},[e._v("\n          判断及输出\n          "),r("p",{attrs:{slot:"content"},slot:"content"},[r("span",[r("div",{staticClass:"none"},[e._v(e._s(e.expression))]),r("div",{staticClass:"orderTitle ovhd"},[e._v("自定义计算量: "),r("Button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.judgeFormShow("新增")}}},[e._v("添加计算量公式")])],1),r("Table",{attrs:{columns:e.judgeColumns,data:e.calculates,"highlight-row":""},on:{"on-current-change":e.currentRow}}),r("div",{staticClass:"orderTitle ovhd margin-top-20"},[e._v("判断及输出编辑: "),r("Button",{attrs:{type:"primary",size:"small"},on:{click:e.judgeAdd}},[e._v("添加检查项")])],1),r("Collapse",{attrs:{accordion:""},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},e._l(e.judges,function(t,a){return r("Panel",{key:a,attrs:{name:""+(a+1),id:"panelOrderpanel-"+a}},[e._v("\n                    \n                    "+e._s(t.checkTitle)+"："),r("Button",{attrs:{type:"default",size:"small"},on:{click:function(t){t.stopPropagation(),e.reName(e.judges[a])}}},[e._v("重命名")]),r("Button",{attrs:{type:"error",size:"small",disabled:e.judges.length<=1},on:{click:function(t){t.stopPropagation(),e.judgeReduce(e.judges,a)}}},[e._v("删除该检查项")]),r("p",{attrs:{slot:"content"},slot:"content"},[r("span",e._l(t.judgeRules,function(o,i){return r("div",{staticStyle:{"margin-bottom":"20px"}},[r("div",{staticClass:"judgeRules ovhd"},[r("span",[e._v("\n                            判断规则"+e._s(i+1)+"：\n                            ")]),r("span",[r("Button",{attrs:{type:"primary",size:"small"},on:{click:function(r){e.judgeRulesAdd(t.judgeRules)}}},[e._v("添加规则")]),r("Button",{attrs:{type:"error",size:"small",disabled:t.judgeRules.length<=1,id:"panelOrderdelect-"+i},on:{click:function(r){e.judgeRulesReduce(t.judgeRules,i)}}},[e._v("删除该规则")]),r("Button",{directives:[{name:"show",rawName:"v-show",value:o.show,expression:"item.show"}],attrs:{type:"primary",size:"small",icon:"ios-arrow-up"},on:{click:function(e){o.show=!o.show}}}),r("Button",{directives:[{name:"show",rawName:"v-show",value:!o.show,expression:"!item.show"}],attrs:{type:"primary",size:"small",icon:"ios-arrow-down"},on:{click:function(e){o.show=!o.show}}})],1)]),r("div",{directives:[{name:"show",rawName:"v-show",value:o.show,expression:"item.show"}],staticClass:"judgeCheckBox"},[r("div",{staticClass:"dividerBottom"},[r("span",{staticStyle:{"margin-right":"200px"}},[r("span",[e._v("条件设置")])]),r("div",{staticClass:"margin-bottom-10"},[e._v("\n                                变量参数组合关系设置：\n                                "),r("span",{staticClass:"margin-left-10"},[e._v("\n                                  主维度：\n                                  "),r("Cascader",{staticStyle:{width:"250px",display:"inline-block"},attrs:{data:e.bcJudgeArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选,可以为空"},model:{value:o.chief,callback:function(t){e.$set(o,"chief",t)},expression:"item.chief"}})],1),r("span",[e._v("\n                                  副维度：\n                                  "),r("Cascader",{staticStyle:{width:"250px",display:"inline-block"},attrs:{data:e.bcJudgeArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选,可以为空"},model:{value:o.deputy,callback:function(t){e.$set(o,"deputy",t)},expression:"item.deputy"}})],1)]),r("Divider"),r("span",[r("Button",{directives:[{name:"show",rawName:"v-show",value:0==t.judgeRules[i].conditions.length,expression:"outPutItem.judgeRules[index].conditions.length == 0"}],attrs:{type:"primary",size:"small"},on:{click:function(r){e.conditionsAdd(t.judgeRules[i].conditions)}}},[e._v("添加条件")])],1)],1),r("div",{attrs:{id:"panelOrderopTree-"+a+"-"+i}},[r("my-tree",{attrs:{treeData:t.judgeRules[i].conditions},on:{addBrother:e.addBrother,addChild:e.addChild,deleteNode:e.deleteNode}})],1),r("div",{staticClass:"dividerBottom"},[e._v(" 判断结果 "),r("Divider")],1),r("div",{staticClass:"judgePD judgeBox"},[e._v("满足条件:\n                              "),r("RadioGroup",{attrs:{disabled:!0},model:{value:o.result,callback:function(t){e.$set(o,"result",t)},expression:"item.result"}},e._l(e.resultArray,function(t){return r("Radio",{key:t.value,attrs:{label:t.value}},[r("span",[e._v(e._s(t.label))])])})),e._v("\n                              结果补充描述:"),r("Input",{staticStyle:{width:"300px"},model:{value:o.desc,callback:function(t){e.$set(o,"desc",t)},expression:"item.desc"}})],1),r("div",{staticClass:"dividerBottom"},[e._v(" 输出设置 "),r("Divider")],1),r("div",{staticClass:"judgeSC judgeBox"},[r("CheckboxGroup",{model:{value:o.outPutRules,callback:function(t){e.$set(o,"outPutRules",t)},expression:"item.outPutRules"}},[r("Checkbox",{attrs:{label:"输出到网元报告"}}),r("Checkbox",{attrs:{label:"输出到汇总报告",id:"panelOrderoutPut-"+a+"-"+i}})],1),r("div",{staticStyle:{margin:"10px 0"}},[r("div",{staticClass:"none"},[e._v(e._s(e.judgeOutPutFormula))]),r("span",{staticStyle:{"margin-right":"20px"}},[e._v("输出描述")]),r("Button",{attrs:{type:"primary"},on:{click:function(t){e.scblFormShow(o.outputDeploies,a,i)}}},[e._v("设置")]),r("Button",{attrs:{type:"primary"},on:{click:function(e){o.outputDeploies=[],o.formula=""}}},[e._v("清空")])],1),r("div",[e._v(e._s(o.formula))])],1)])])}))])],1)}))],1)])])],1),r("Divider"),r("FormItem",["查看"!=e.btnName?r("Button",{attrs:{type:"primary",id:"orderFormSubmit1"},on:{click:function(t){e.orderFormSubmit("草稿")}}},[e._v("保存")]):e._e(),"查看"!=e.btnName?r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",id:"orderFormSubmit2"},on:{click:function(t){e.orderFormSubmit("待审核")}}},[e._v("提交")]):e._e(),r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"warning"},on:{click:e.cancelReg}},[e._v("取消")])],1)],1)],1),r("Modal",{attrs:{title:"指令"+e.listNowType,"footer-hide":"",width:"1000"},model:{value:e.listFormVisible,callback:function(t){e.listFormVisible=t},expression:"listFormVisible"}},[r("Form",{ref:"listForm",attrs:{model:e.listForm,"label-width":80,id:"panelOrderlistForm"}},[r("Divider",{attrs:{orientation:"left"}},[e._v("指令行修改")]),r("FormItem",{attrs:{label:"指令行",prop:"orderStr"}},[r("Input",{attrs:{"element-id":"orderStr"},model:{value:e.listForm.orderStr,callback:function(t){e.$set(e.listForm,"orderStr",t)},expression:"listForm.orderStr"}}),r("div",[r("div",{staticStyle:{margin:"10px 0"}},[r("span",[e._v("期望返回结束符：")]),r("Input",{staticStyle:{width:"100px"},model:{value:e.listForm.endFlag,callback:function(t){e.$set(e.listForm,"endFlag",t)},expression:"listForm.endFlag"}}),r("span",{staticClass:"margin-left-10"},[e._v("指令超时时间(s)：")]),r("Input",{staticStyle:{width:"100px"},model:{value:e.listForm.overTime,callback:function(t){e.$set(e.listForm,"overTime",t)},expression:"listForm.overTime"}})],1),0!=e.listNow?r("div",[r("Checkbox",{model:{value:e.listForm.isVariable,callback:function(t){e.$set(e.listForm,"isVariable",t)},expression:"listForm.isVariable"}},[e._v("启用变量参数")]),r("span",{staticStyle:{color:"gray"}},[e._v("（指令行中以<?bc1><?bc2><?bc3>表示变量参数，运行时代入值）")])],1):e._e(),e.listForm.isVariable?r("div",{staticClass:"margin-bottom-20"},[e._v("\n                  变量参数组合关系设置：\n                  "),r("div",{staticClass:"margin-left-6 margin-bottom-6"},[r("span",{staticClass:"margin-right-10 margin-left-10"},[e._v("主维度： ")]),r("Cascader",{staticStyle:{width:"300px",display:"inline-block"},attrs:{data:e.bcWdArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选,可以为空"},model:{value:e.listForm.chief,callback:function(t){e.$set(e.listForm,"chief",t)},expression:"listForm.chief"}})],1),r("div",[r("span",{staticClass:"margin-right-10 margin-left-10"},[e._v("副维度： ")]),r("Cascader",{staticStyle:{width:"300px",display:"inline-block"},attrs:{data:e.bcWdArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选,可以为空"},model:{value:e.listForm.deputy,callback:function(t){e.$set(e.listForm,"deputy",t)},expression:"listForm.deputy"}})],1)]):e._e(),e.listForm.isVariable?r("div",[e._v("\n                  变量参数组合：\n                  "),e._l(3,function(t){return r("div",{staticClass:"margin-bottom-6"},[r("span",{staticClass:"margin-right-10 margin-left-10"},[e._v("<?bc"+e._s(t)+">：")]),r("Cascader",{staticStyle:{width:"300px",display:"inline-block"},attrs:{data:e.bcArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选,可以为空"},model:{value:e.listForm["bc"+t],callback:function(r){e.$set(e.listForm,"bc"+t,r)},expression:"listForm['bc'+(index)]"}})],1)})],2):e._e()])],1),r("Divider",{attrs:{orientation:"left"}},[e._v("选择解析器")]),r("FormItem",{attrs:{label:"解析器属性"}},[r("Cascader",{staticStyle:{width:"300px",display:"inline-block"},attrs:{data:e.keyGetSelect,disabled:!0},model:{value:e.orderForm.keySelect,callback:function(t){e.$set(e.orderForm,"keySelect",t)},expression:"orderForm.keySelect"}}),r("Button",{directives:[{name:"show",rawName:"v-show",value:0==e.listForm.anaGroup.length,expression:"listForm.anaGroup.length==0"}],staticStyle:{"margin-left":"8px"},attrs:{type:"primary",id:"panelOrderanalyAdd"},on:{click:e.analyAdd}},[e._v("添加解析器")])],1),e._l(e.listForm.anaGroup,function(t,a){return r("div",[r("FormItem",{attrs:{label:"解析器"+(a+1)}},[r("Select",{staticStyle:{width:"300px"},attrs:{clearable:"",filterable:"",placeholder:"支持输入筛选,不能为空"},on:{"on-change":function(t){e.selectChange(t,a)}},model:{value:e.listForm.anaGroup[a],callback:function(t){e.$set(e.listForm.anaGroup,a,t)},expression:"listForm.anaGroup[index]"}},e._l(e.listInsert,function(t){return r("Option",{key:t.orderAnalysisId,attrs:{value:t.orderAnalysisId}},[e._v(e._s(t.orderAnalysisName))])})),r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.analyAdd}},[e._v("添加解析器")]),r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"error"},on:{click:function(t){e.analyReduce(a)}}},[e._v("删除该解析")])],1),r("FormItem",{attrs:{label:"解析器样例:",prop:"logOut"}},[r("Table",{staticStyle:{"margin-bottom":"20px"},attrs:{height:"150",columns:e.listForm.logOutColumns[a],data:e.listForm.logOut[a]}})],1)],1)}),r("Divider"),r("FormItem",[r("Button",{attrs:{type:"primary",id:"listFormSubmit"},on:{click:e.listFormSubmit}},[e._v("确定")]),r("Button",{staticStyle:{"margin-left":"8px"},on:{click:e.listFormInit}},[e._v("取消")])],1)],2)],1),r("Modal",{attrs:{title:"自定义计算量公式编辑","footer-hide":"",width:"900"},model:{value:e.judgeFormVisible,callback:function(t){e.judgeFormVisible=t},expression:"judgeFormVisible"}},[r("Form",{ref:"judgeForm",attrs:{model:e.judgeForm,"label-width":180}},[r("FormItem",{attrs:{label:"计算量名称"}},[r("Input",{staticStyle:{width:"300px"},attrs:{clearable:""},model:{value:e.judgeForm.calName,callback:function(t){e.$set(e.judgeForm,"calName",t)},expression:"judgeForm.calName"}})],1),r("FormItem",{attrs:{label:"输入数值常量"}},[r("Input",{staticStyle:{width:"300px"},attrs:{clearable:"",maxlength:20},model:{value:e.judgeForm.constant,callback:function(t){e.$set(e.judgeForm,"constant",t)},expression:"judgeForm.constant"}}),r("Icon",{attrs:{type:"ios-checkmark-circle",size:"24",color:"green"},on:{click:function(t){e.itemComfirm("3","judgeForm")}}}),r("span",{staticStyle:{color:"#999"}},[e._v("限20字符")])],1),r("FormItem",{attrs:{label:"计算项"}},[r("Cascader",{staticStyle:{width:"500px",display:"inline-block"},attrs:{data:e.bcCalArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选,可以为空"},model:{value:e.judgeForm.bc,callback:function(t){e.$set(e.judgeForm,"bc",t)},expression:"judgeForm.bc"}}),r("Icon",{attrs:{type:"ios-checkmark-circle",size:"24",color:"green"},on:{click:function(t){e.itemComfirm("2","judgeForm")}}})],1),r("FormItem",{attrs:{label:"计算符号"}},e._l(e.colorArray,function(t,a){return a<=5?r("div",{key:a+10,staticClass:"draButton drag-item",style:{color:"black",background:t.color},attrs:{draggable:"true"},on:{dragstart:function(r){e.dragstart(r,t,a)}}},[r("span",[e._v(e._s(t.name))])]):e._e()})),r("FormItem",{attrs:{label:"公式"}},[r("div",{on:{dragover:function(e){e.preventDefault()},drop:function(t){e.drop(t,"judgeForm")}}},[r("draggable",{staticClass:"list-group calJson",attrs:{element:"div",options:e.dragOptions,move:e.onMove},on:{end:e.dataDragEnd},model:{value:e.judgeForm.calJson,callback:function(t){e.$set(e.judgeForm,"calJson",t)},expression:"judgeForm.calJson"}},e._l(e.judgeForm.calJson,function(t,a){return r("span",{key:a,staticClass:"drag-item",class:"elementColor"+t.type},[e._v("\n                "+e._s(e.labelShow(t))+"\n                "),r("Icon",{attrs:{type:"md-close"},on:{click:function(t){t.stopPropagation(),e.delCard(a,"judgeForm")}}})],1)}))],1)]),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:e.judgeFormSubmit}},[e._v("确定")]),r("Button",{staticStyle:{"margin-left":"8px"},on:{click:e.judgeFormInit}},[e._v("取消")])],1)],1)],1),r("Modal",{attrs:{title:"输出变量项设置","footer-hide":"",width:"900"},model:{value:e.scblFormVisible,callback:function(t){e.scblFormVisible=t},expression:"scblFormVisible"}},[r("Form",{ref:"scblForm",attrs:{model:e.scblForm,"label-width":180}},[r("FormItem",{attrs:{label:"变量项"}},[r("Cascader",{staticStyle:{width:"300px",display:"inline-block"},attrs:{data:e.bcMsArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选,可以为空"},model:{value:e.scblForm.bc,callback:function(t){e.$set(e.scblForm,"bc",t)},expression:"scblForm.bc"}}),r("Icon",{attrs:{type:"ios-checkmark-circle",size:"24",color:"green"},on:{click:function(t){e.itemComfirm("2","scblForm")}}})],1),r("FormItem",{attrs:{label:"描述文字"}},[r("Input",{staticStyle:{width:"300px"},attrs:{clearable:"",maxlength:20},model:{value:e.scblForm.constant,callback:function(t){e.$set(e.scblForm,"constant",t)},expression:"scblForm.constant"}}),r("Icon",{attrs:{type:"ios-checkmark-circle",size:"24",color:"green"},on:{click:function(t){e.itemComfirm("5","scblForm")}}}),r("span",{staticStyle:{color:"#999"}},[e._v("限20字符")])],1),r("FormItem",{attrs:{label:"生成"}},[r("div",{on:{dragover:function(e){e.preventDefault()},drop:function(t){e.drop(t,"scblForm")}}},[r("draggable",{staticClass:"list-group outputDeploies",attrs:{element:"div",options:e.dragOptions,move:e.onMove},on:{end:e.dataDragEnd},model:{value:e.scblForm.outputDeploies,callback:function(t){e.$set(e.scblForm,"outputDeploies",t)},expression:"scblForm.outputDeploies"}},e._l(e.scblForm.outputDeploies,function(t,a){return r("span",{key:a,staticClass:"drag-item",class:"elementColor"+t.type},[e._v("\n                "+e._s(e.labelShow(t))+"\n              "),r("Icon",{attrs:{type:"md-close"},on:{click:function(t){t.stopPropagation(),e.delCard(a,"scblForm")}}})],1)}))],1)]),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:e.scblFormSubmit}},[e._v("确定")]),r("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.scblFormVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},o=[],i=r("53ca"),n=(r("7f7f"),r("7514"),r("be94")),s=(r("57e7"),r("6b54"),r("87b3"),r("f3e2"),r("55dd"),r("78ce"),r("6d67"),r("ac6a"),r("5df3"),r("f400"),r("ade3")),l=r("1516"),c=r.n(l),u=r("23e3"),d=function(e,t,r){if(t&&t.length<3)return r(new Error("必须选到最后一级"));r()},m={components:{draggable:c.a,"my-tree":u["default"]},data:function(){var e,t=this;return e={dataType:["neCategory","neType","neProducer"],addForm:{orderOpOrder:"",keySelect:[]},submitLoading:!1,maxLength:20,row:{},btnName:"查看",modal1:!1,value1:"1",value2:"1",listNow:0,listNowType:"",judgeNow:0,judgeNowType:"",scblNow:0,judgeOutPutNow:0,userInfo:JSON.parse(localStorage.getItem("userInfo")),keySelect:[]},Object(s["a"])(e,"dataType",["neCategory","neType","neProducer"]),Object(s["a"])(e,"orderForm",{keySelect:[],orderSetName:""}),Object(s["a"])(e,"orderFormValidate",{keySelect:[{required:!0,type:"array",message:"选择不能为空",trigger:"change"},{validator:d,type:"array",message:"必须选到最后一级"}],orderSetName:[{required:!0,message:"指令集名称不能为空",trigger:"blur"}]}),Object(s["a"])(e,"orderColumns",[{title:"指令编号",key:"orderNum"},{title:"指令",key:"orderStr"},{title:"变量参数",key:"variableParamString"},{title:"操作",key:"action",width:300,align:"center",render:function(e,r){var a=r.index,o=t.orders.length-1,i=!1,n=!1;return 1==t.orders.length?(i=!0,n=!0):0==a?i=!0:a==o&&(n=!0),e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.orderOp(r.row,r.index)}}},"修改"),e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.orderDel(r.row,r.index)}}},"删除"),e("Button",{props:{type:"primary",size:"small",disabled:i},style:{marginRight:"5px"},on:{click:function(){t.orderUp(t.orders,r.index)}}},"向上移动"),e("Button",{props:{type:"primary",size:"small",disabled:n},style:{marginRight:"5px"},on:{click:function(){t.orderDown(t.orders,r.index)}}},"向下移动")])}}]),Object(s["a"])(e,"orders",[]),Object(s["a"])(e,"jxqColumns",[{title:"指令解析编号",key:"num"},{title:"指令解析名称",key:"name"},{title:"解析输出",key:"outPut"}]),Object(s["a"])(e,"listFormVisible",!1),Object(s["a"])(e,"judgeFormVisible",!1),Object(s["a"])(e,"scblFormVisible",!1),Object(s["a"])(e,"orderTitle","指令修改"),Object(s["a"])(e,"listForm",{}),Object(s["a"])(e,"listInsert",[]),Object(s["a"])(e,"judgeColumns",[{title:"自定义计算量名称",key:"calName"},{title:"自定义计算公式",key:"formula"},{title:"操作",key:"action",width:300,align:"center",render:function(e,r){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.judgeOp(r.row,r.index)}}},"修改"),e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.judgeDel(r.row,r.index)}}},"删除")])}}]),Object(s["a"])(e,"judgeForm",{}),Object(s["a"])(e,"scblForm",{}),Object(s["a"])(e,"calculates",[]),Object(s["a"])(e,"resultArray",[{value:0,label:"正常"},{value:1,label:"异常"}]),Object(s["a"])(e,"colorArray",[{color:"#FFDF25",name:"+"},{color:"#FFFF66",name:"-"},{color:"#D0E17D",name:"*"},{color:"#CC9966",name:"/"},{color:"#EF5AA1",name:"("},{color:"#EF5AA1",name:")"},{color:"#CC6666",name:"变量"},{color:"#36A9CE",name:"常量"}]),Object(s["a"])(e,"elementColor","#47a9da"),Object(s["a"])(e,"judges",[]),Object(s["a"])(e,"judgeDefault",{}),Object(s["a"])(e,"judgeRulesDefault",{}),Object(s["a"])(e,"baseObj",{type:"",orderId:"",anaId:"",sysId:"",calId:"",colName:"",constant:"",sysFormat:"",anaGroup:[]}),Object(s["a"])(e,"sysArr",[]),Object(s["a"])(e,"changeData",["chief","deputy","bc1","bc2","bc3","left","right"]),Object(s["a"])(e,"bcWdArray",[]),Object(s["a"])(e,"bcArray",[]),Object(s["a"])(e,"bcCalArray",[]),Object(s["a"])(e,"bcJudgeArray",[]),Object(s["a"])(e,"bcDiyArray",[]),Object(s["a"])(e,"bcMsArray",[]),e},methods:{init:function(e,t){var r=this;this.row=e,this.btnName=t,"新增"==this.btnName?this.orderFormInit(!0):"查看"==this.btnName?(this.$Message.info({content:"请不要在页面内修改,查看无法做保存功能",duration:10,closable:!0}),this.initRequest()):"修改"==this.btnName?this.getRequest("/routinejob/orderSet/update?id="+this.row.orderSetId).then(function(e){0==e.code?r.initRequest():r.$Message.error({content:e.result,duration:10,closable:!0})}):this.initRequest()},initRequest:function(){var e=this;this.orderFormInit(!1),this.getRequest("/routinejob/orderSet/audit?id="+this.row.orderSetId).then(function(t){if(0==t.code){var r=t.content;e.$emit("on-show");var a={neCategory:r.neCategory,neType:r.neType,neProducer:r.neProducer};e.getRequest("/routinejob/orderAnalysis/listInsert",a).then(function(t){e.listInsert=t.content;var a=[];a.push(r.neCategory,r.neType,r.neProducer),e.orderForm.keySelect=a,e.orderForm.orderSetName=r.orderSetName,e.orderForm.remark=r.remark;var o=new Map;r.orders&&r.orders.length?(r.orders.map(function(t){t.isVariable=0==t.isVariable,e.changeBack(t),t.logOutColumns=[],t.logOut=[],t.orderAnalysisName=[],"复制"==e.btnName&&o.set(t.orderId,"O"+Date.now()+Math.ceil(1e4*Math.random()))}),r.orders.sort(function(e,t){return e.orderNum.slice(1)-t.orderNum.slice(1)})):r.orders=[],r.calculates&&r.calculates.length?"复制"==e.btnName&&r.calculates.map(function(e){o.set(e.calId,"C"+Date.now()+Math.ceil(1e4*Math.random()))}):r.calculates=[],o.forEach(function(t,a){e.idChange(t,a,r)}),r.judges&&r.judges.length&&r.judges.map(function(t){t.judgeRules.map(function(t){t.outPutRules=[],0==t.net&&t.outPutRules.push("输出到网元报告"),0==t.summary&&t.outPutRules.push("输出到汇总报告"),t.show=!0,e.changeBack(t),t.conditions.map(function(t){e.changeBack(t)})})}),e.orders=r.orders,e.calculates=r.calculates,e.judges=r.judges})}})},changeFun:function(e){var t=this;this.changeData.map(function(r){if(e[r]&&"[object Array]"===Object.prototype.toString.call(e[r])){var a=t.deepClone(t.baseObj);e[r].length&&(a.type=e[r][0],0==e[r][0]?(a.orderId=e[r][1],a.anaId=e[r][2],a.colName=e[r][3]):1==e[r][0]?(a.orderId=e[r][1],a.sysId=e[r][2],a.sysFormat=e[r][3]):2==e[r][0]?a.calId=e[r][1]:4==e[r][0]&&(a.type=e[r][1],a.constant=e[r+"Constant"],"3"==e[r][1]&&(a.constant*=1))),e[r]=a}e.childConditions&&e.childConditions.length&&e.childConditions.map(function(e){t.changeFun(e)})})},changeBack:function(e){var t=this;this.changeData.map(function(r){if(e[r]&&"[object Object]"===Object.prototype.toString.call(e[r])){var a=[];0==e[r].type||1==e[r].type?(a.push(""+e[r].type,e[r].orderId),null!==e[r].anaId&&""!==e[r].anaId?a.push(""+e[r].anaId,e[r].colName):null!==e[r].sysId&&""!==e[r].sysId&&a.push(""+e[r].sysId,""+e[r].sysFormat)):2==e[r].type?a.push(""+e[r].type,e[r].calId):3!=e[r].type&&4!=e[r].type&&5!=e[r].type||("left"==r||"right"==r?(a.push("4",""+e[r].type),e[r+"Constant"]=e[r].constant,"3"==e[r][1]&&(e[r+"Constant"]*=1)):a.push(""+e[r].type,e[r].constant)),e[r]=a}e.childConditions&&e.childConditions.length&&e.childConditions.map(function(e){t.changeBack(e)})})},orderFormSubmit:function(e){var t=this;this.$refs["orderForm"].validate(function(r){if(r){var a={};if(t.orderForm.keySelect&&"[]"!==JSON.stringify(t.orderForm.keySelect))for(var o=t.orderForm.keySelect,i=0,s=o.length;i<s;i++)a[t.dataType[i]]=o[i];var l=t.judges;l&&l.length>0&&t.judges.map(function(e,t){e.judgeRules.map(function(e,t){e.net=e.outPutRules.indexOf("输出到网元报告")>=0?0:1,e.summary=e.outPutRules.indexOf("输出到汇总报告")>=0?0:1})});var c=Object(n["a"])({},a,t.orderForm,{orderSetId:"",updater:t.userInfo.username,creater:t.userInfo.username,auditor:t.userInfo.username,auditStatus:e,orderSetName:t.orderForm.orderSetName,remark:t.orderForm.remark});c.orders=t.orders,c.calculates=t.calculates,c.judges=t.deepClone(t.judges),c.orders.map(function(e){e.isVariable=e.isVariable?0:1,t.changeFun(e)}),c.orders.sort(function(e,t){return e.orderNum.slice(1)-t.orderNum.slice(1)}),c.judges.map(function(e){e.judgeRules.map(function(e){t.changeFun(e),e.conditions.map(function(e){t.changeFun(e)})})}),localStorage.setItem("orderSet",JSON.stringify(c)),"修改"==t.btnName?t.getRequest("/routinejob/orderSet/update?id="+t.row.orderSetId).then(function(e){0==e.code?(c.orderSetId=e.content.orderSetId,t.putYTRequest("/routinejob/orderSet",c).then(function(e){0==e.code?(t.$Message.info("执行成功"),t.$emit("on-add")):t.$Message.warning({content:e.result,duration:10,closable:!0})})):t.$Message.warning({content:e.result,duration:10,closable:!0})}):t.postYTRequest("/routinejob/orderSet",c).then(function(e){0==e.code?(t.$Message.info("执行成功"),t.$emit("on-add")):t.$Message.warning({content:e.result,duration:10,closable:!0})})}})},reName:function(e){var t=e.checkTitle;this.$Modal.confirm({width:"500px",render:function(t){return t("span",[t("Input",{props:{value:e.checkTitle,maxlength:30,autofocus:!0},on:{input:function(t){e.checkTitle=t}}}),t("span",{style:{display:"inline-block",color:"#999",marginLeft:"7px",marginTop:"6px",fontSize:"12px"},domProps:{innerHTML:"标题限30字符"}})])},onOk:function(){},onCancel:function(){e.checkTitle=t}})},judgeAdd:function(){var e=this.deepClone(this.judgeDefault);this.judges.push(e)},judgeReduce:function(e,t){e.splice(t,1)},judgeRulesAdd:function(e){e.push(this.deepClone(this.judgeRulesDefault))},judgeRulesReduce:function(e,t){this.scblNow=t-1,e.splice(t,1)},conditionsAdd:function(e){var t=this.newNode();e.push(t)},currentRow:function(e){console.log(e)},format:function(e,t){if(e&&e.length>=1){var r=e.length-1;return e[r-1]+" / "+e[r]}},cancelReg:function(){var e=this;this.$Modal.confirm({title:"确定关闭该页面吗",onOk:function(){e.$emit("on-cancel")}})},orderFormInit:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$refs["orderForm"].resetFields(),this.orderForm={keySelect:[],orderSetName:""},this.orders=[],this.calculates=[],this.judgesInit(),e?this.$emit("on-show"):this.$emit("on-cancel")},judgesInit:function(e){var t=this.deepClone(this.judgeRulesDefault),r=this.deepClone(this.judgeRulesDefault);r.result=1,this.judges=[{checkTitle:"检查项1",judgeRules:[t,r]}]},analyAdd:function(){this.listForm.anaGroup.push("")},analyReduce:function(e){this.listForm.anaGroup.splice(e,1)},listFormInit:function(){this.listForm={orderStr:"",orderNum:"",endFlag:"",overTime:10,isVariable:!1,chief:[],deputy:[],bc1:[],bc2:[],bc3:[],anaGroup:[],orderAnalysisName:[],logOutColumns:[],logOut:[]},this.listFormVisible=!1},orderOp:function(e,t){this.listNow=t,0==t&&(e.isVariable=!1),this.row=e,this.listFormShow("修改")},orderSwap:function(e,t,r){e[t]=e.splice(r,1,e[t])[0]},orderUp:function(e,t){0!=t&&this.orderSwap(e,t,t-1)},orderDown:function(e,t){t!=e.length-1&&this.orderSwap(e,t,t+1)},orderDel:function(e,t){this.orders.splice(t,1)},judgeOp:function(e,t){this.judgeNow=t,this.judgeForm=this.deepClone(e),this.judgeFormShow("修改")},judgeDel:function(e,t){this.calculates.splice(t,1)},listFormShow:function(e){var t=this;this.listFormInit(),this.listNowType=e,"新增"==e?this.listNow=this.orders.length:this.listForm=this.deepClone(this.row);var r={},a=this.orderForm.keySelect;if(a&&"[]"!==JSON.stringify(a))for(var o=a,i=0,n=o.length;i<n;i++)r[this.dataType[i]]=o[i];this.listFormVisible=!0,this.getRequest("/routinejob/orderAnalysis/listInsert",r).then(function(e){t.listInsert=e.content})},listFormSubmit:function(){if(""!==this.listForm.orderStr){"新增"==this.listNowType?this.orders.length+1:"修改"==this.listNowType&&this.listNow+1;for(var e=this.deepClone(this.listForm),t=e.anaGroup.length-1;t>=0;t--)e.anaGroup[t]||(e.anaGroup.splice(t,1),e.logOutColumns.splice(t,1),e.orderAnalysisName.splice(t,1),e.logOut.splice(t,1));"新增"==this.listNowType?(e.orderId="O"+Date.now()+Math.ceil(1e4*Math.random()),this.orders.push(e)):"修改"==this.listNowType&&this.orders.splice(this.listNow,1,e),this.listFormInit()}else this.$Message.warning("指令行不能为空")},judgeFormShow:function(e){this.judgeNowType=e,"新增"==e&&this.judgeFormInit(),this.judgeFormVisible=!0},selectChange:function(e,t){var r=this.getListData(e,this.listInsert);r?(this.listForm.orderAnalysisName[t]=r.orderAnalysisName,this.listForm.logOutColumns[t]=this.deepClone(r.logOutColumns),this.listForm.logOut[t]=this.deepClone(r.logOut)):(this.listForm.orderAnalysisName[t]="",this.listForm.logOutColumns[t]=[],this.listForm.logOut[t]=[])},itemComfirm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",t=arguments.length>1?arguments[1]:void 0,r=this.deepClone(this.baseObj);"judgeForm"==t?("2"==e?"0"==this[t].bc[0]?(r.type=this[t].bc[0],r.orderId=this[t].bc[1],r.anaId=this[t].bc[2],r.colName=this[t].bc[3]):"1"==this[t].bc[0]?(r.type=this[t].bc[0],r.orderId=this[t].bc[1],r.sysId=this[t].bc[2],r.sysFormat=this[t].bc[3]):"6"==this[t].bc[0]&&(console.log(this[t].bc),r.type=this[t].bc[0],r.orderId=this[t].bc[1],r.anaId=this[t].bc[2],r.colName=this[t].bc[3]):"3"!=e&&"4"!=e&&"5"!=e||(r.type=e,r.constant=this[t].constant),this[t].calJson.push(r)):"scblForm"==t&&("2"==e?"0"==this[t].bc[0]?(r.type=this[t].bc[0],r.orderId=this[t].bc[1],r.anaId=this[t].bc[2],r.colName=this[t].bc[3]):"1"==this[t].bc[0]?(r.type=this[t].bc[0],r.orderId=this[t].bc[1],r.sysId=this[t].bc[2],r.sysFormat=this[t].bc[3]):"2"==this[t].bc[0]&&(r.type=this[t].bc[0],r.calId=this[t].bc[1]):"5"==e&&(r.type=e,r.constant=this[t].constant),this[t].outputDeploies.push(r))},judgeFormInit:function(){this.judgeForm={calName:"",bc:[],constant:"",calJson:[]},this.judgeFormVisible=!1},judgeFormSubmit:function(){if(""!==this.judgeForm.calName){"新增"==this.judgeNowType?this.calculates.length+1:"修改"==this.judgeNowType&&this.judgeNow+1;var e=this.judgeForm;"新增"==this.judgeNowType?(e.calId="C"+Date.now()+Math.ceil(1e4*Math.random()),this.calculates.push(e)):"修改"==this.judgeNowType&&this.calculates.splice(this.judgeNow,1,e),this.judgeFormInit(),this.judgeFormVisible=!1}else this.$Message.warning("名称不能为空")},scblFormShow:function(e,t,r){this.scblFormVisible=!0,this.scblForm={outputDeploies:e?this.deepClone(e):[]},this.judgeOutPutNow=t,this.scblNow=r},scblFormSubmit:function(){var e=this.judges[this.judgeOutPutNow].judgeRules[this.scblNow];e.outputDeploies=this.scblForm.outputDeploies,this.scblFormVisible=!1},getListData:function(e,t){var r={};return r=t.find(function(t,r){return t.orderAnalysisId==e}),r},getIndexByValue:function(e,t){var r=99;return t&&t.length&&t.find(function(t,a){t.value==e&&(r=a)}),r},getCalName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.calculates,r={};return r=t.find(function(t){return t.calId==e}),r?r.calName:"(该计算项不存在，请注意)"},labelShow:function(e){if(e.constant)return e.constant;if(e.colName)return e.colName;if(e.calId){if(this.calculates&&this.calculates.length>0)return this.getCalName(e.calId,this.calculates)}else if(e.sysId)return"3"==e.sysId?this.sysArr[e.sysId].label:this.sysArr[e.sysId].children[e.sysFormat].label},drop:function(e,t){if(e.dataTransfer.getData("item")){var r=this.deepClone(this.baseObj);r.type="4",r.constant=e.dataTransfer.getData("item"),this.colorArray.map(function(e,t){e.name==r.constant&&(r.color=e.color)}),"judgeForm"==t?this[t].calJson.push(r):"scblForm"==t&&this[t].outputDeploies.push(r)}},onMove:function(e){e.draggedContext,e.relatedContext;return!0},dragstart:function(e,t,r){e.dataTransfer.setData("item",t.name)},dataDragEnd:function(e){e.preventDefault()},delCard:function(e,t){"judgeForm"==t?this[t].calJson.splice(e,1):"scblForm"==t&&this[t].outputDeploies.splice(e,1)},addBrother:function(e,t){var r=this.getParentData(e.target);if(r){var a=r.indexOf(t);-1!==a&&r.splice(a+1,0,this.newNode())}},addChild:function(e,t){t.childConditions||this.$set(t,"childConditions",[]),t.childConditions.push(this.newNode())},deleteNode:function(e,t){var r=this.getParentData(e.target);if(r){var a=r.indexOf(t);-1!==a&&r.splice(a,1)}},newNode:function(){return{operator:0,compare:4,leftConstant:"",rightConstant:"",left:[],right:[],childOperator:0,childConditions:[]}},getParentData:function(e){while(e&&"BODY"!==e.tagName){if(e.__vue__&&"my-tree"===e.__vue__.$options.name)return e.__vue__.treeData;e=e.parentNode}return null},idChange:function(e,t,r){for(var a in r)"orderId"!=a&&"calId"!=a||r[a]!=t?"object"==Object(i["a"])(r[a])&&null!==r[a]&&this.idChange(e,t,r[a]):r[a]=e},sysArrCreat:function(){var e=["10:30:00","103000","10:30","1030","10:30 AM","10时30分0秒"],t=["20180828","2018/08/28","08-28-2018","08/28/2018","2018-08-28","180828","Aug 28 2018","Aug 28","2018&08&28","2018年8月"],r=["20180828103000","20180828 103000","2018-08-28 10:30:00","2018-08-28 10:30 AM","2018/08/28 10:30:00","2018/08/28 10:30 AM"],a=[],o=[],i=[];t.map(function(e,t){o.push({value:""+t,label:e})}),e.map(function(e,t){a.push({value:""+t,label:e})}),r.map(function(e,t){i.push({value:""+t,label:e})}),this.sysArr.push({value:"0",label:"指令发送的时间",children:a},{value:"1",label:"指令发送的日期",children:o},{value:"2",label:"指令发送的日期时间",children:i},{value:"3",label:"指令发送的网元"})}},computed:{keyGetSelect:function(){return this.$store.state.yt.keySelectArray},dragOptions:function(){return{animation:0,ghostClass:"ghost"}},expression:function(){var e=this;return this.calculates&&this.calculates.length>0&&this.calculates.map(function(t,r){var a="";t.calJson&&t.calJson.length&&t.calJson.map(function(t,r){"3"==t.type||"4"==t.type||"5"==t.type?(a+=t.constant,a+=" "):"0"!=t.type&&"1"!=t.type&&"2"!=t.type&&"6"!=t.type||(t.colName?a+=t.colName:t.sysId?"3"==t.sysId?a+=e.sysArr[t.sysId].label:a+=e.sysArr[t.sysId].children[t.sysFormat].label:t.calId&&e.calculates&&e.calculates.length>0&&(a+=e.getCalName(t.calId,e.calculates)),a+=" ")}),t.formula=a.slice(0,-1)}),this.calculates},judgeOutPutFormula:function(){var e=this,t=this.judges;return t&&t.length>0&&this.judges.map(function(t,r){t.judgeRules.map(function(t,a){var o="";t.outputDeploies.map(function(t,r){"3"==t.type||"4"==t.type||"5"==t.type?(o+=t.constant,o+=" "):"0"!=t.type&&"1"!=t.type&&"2"!=t.type||(t.colName?o+=t.colName:t.sysId?"3"==t.sysId?o+=e.sysArr[t.sysId].label:o+=e.sysArr[t.sysId].children[t.sysFormat].label:t.calId&&e.calculates&&e.calculates.length>0&&(o+=e.getCalName(t.calId,e.calculates)),o+=" ")}),e.$set(e.judges[r].judgeRules[a],"formula",o.slice(0,-1))})}),this.judges}},watch:{orders:function(){var e=this,t=this.orders,r=["bcWdArray","bcJudgeArray","bcArray","bcCalArray","bcMsArray","bcDiyArray"],a=["bcArray","bcCalArray","bcMsArray","bcDiyArray"];if(t&&t.length){this.orders.map(function(t,r){t.orderNum="O"+(r+1);var a=[],o=t.anaGroup;o&&o.length>0&&t.anaGroup.map(function(o,i){var n={},s="",l="";if(r>0)for(var c=1;c<=3;c++){var u="";u=t["bc"+c].length?0==t["bc"+c][0]?t["bc"+c][3]+"，":e.sysArr[t["bc"+c][2]].children[t["bc"+c][3]].label+"，":"",l+=u}if(t.variableParamString=l.slice(0,-1),e.listInsert&&e.listInsert.length){var d=e.getListData(o,e.listInsert);d&&(t.logOut[i]=e.deepClone(d.logOut),t.logOutColumns[i]=e.deepClone(d.logOutColumns),n.anaId=o,n.name=d.orderAnalysisName,n.num="".concat(t.orderNum,"-J").concat(i+1),d.logOutColumns.map(function(e,t){s+="".concat(e.key,"， ")}),n.outPut=s.slice(0,-2))}a.push(n)}),t.arr=a});var o=[];this.orders.map(function(e,t){var r=e.arr;r&&r.length>0&&e.arr.map(function(e,t){o.push(e)})}),this.orders.arr=o;var i=[],n=[],s=[],l=[];this.orders.map(function(t){var r=[],a=[],o=[];i.push({value:t.orderId,label:t.orderStr,children:r}),n.push({value:t.orderId,label:t.orderStr,children:a}),s.push({value:t.orderId,label:t.orderStr,children:o});var c=t.anaGroup;c&&c.length>0&&(t.anaGroup.map(function(t,i){if(e.listInsert&&e.listInsert.length){var n=e.getListData(t,e.listInsert);if(n){var s=[],l=[];r.push({value:""+t,label:n.orderAnalysisName,children:s}),a.push({value:""+t,label:n.orderAnalysisName}),o.push({value:""+t,label:n.orderAnalysisName,children:l}),l.push({value:n.orderAnalysisName+"行数",label:n.orderAnalysisName+"行数"});var c=n.logOutColumns;c&&c.length>0&&n.logOutColumns.map(function(e){s.push({value:e.key,label:e.key})})}}}),l.push({value:t.orderId,label:t.orderStr,children:e.sysArr}))});var c={value:"0",label:"解析变量",children:i},u={value:"0",label:"解析变量",children:n},d={value:"6",label:"解析结果行数",children:s},m=this.getIndexByValue("6",this.bcCalArray);99==m?this.bcCalArray.push(d):this.bcCalArray[m]=d,r.map(function(t,r){var a=e.getIndexByValue("0",e[t]),o=r<=1?u:c;99==a?e[t].push(o):e[t][a]=o});var p={value:"1",label:"系统变量",children:l};a.map(function(t,r){var a=e.getIndexByValue("1",e[t]);99==a?e[t].push(p):e[t][a]=p,e.$store.commit("setBcArray",e.bcDiyArray)})}else
/*!!data && data.length*/
r.map(function(t,r){var a=e.getIndexByValue("0",e[t]);99==a||e[t].splice(a,1)}),a.map(function(t,r){var a=e.getIndexByValue("1",e[t]);99==a||e[t].splice(a,1),e.$store.commit("setBcArray",e.bcDiyArray)}),this.bcCalArray=[],this.orders.arr=[]},calculates:function(){var e=this,t=this.calculates,r=["bcJudgeArray","bcMsArray","bcDiyArray"];if(t&&t.length>0){var a=[];this.calculates.map(function(e){a.push({value:e.calId,label:e.calName})});var o={value:"2",label:"自定义计算量",children:a};r.map(function(t,r){var a=e.getIndexByValue("2",e[t]);99==a?e[t].push(o):e[t][a]=o,e.$store.commit("setBcArray",e.bcDiyArray)})}else r.map(function(t,r){var a=e.getIndexByValue("2",e[t]);99==a||e[t].splice(a,1),e.$store.commit("setBcArray",e.bcDiyArray)})}},created:function(){var e=this.newNode();this.judgeRulesDefault={show:!0,chief:[],deputy:[],result:0,desc:"",outputDeploies:[],formula:"",outPutRules:["输出到网元报告"],conditions:[e]},this.judgeDefault={checkTitle:"检查项新增",judgeRules:[this.deepClone(this.judgeRulesDefault)]},this.bcDiyArray=[{value:"4",label:"常量",children:[{value:"5",label:"字符"},{value:"3",label:"数值"}]}],this.$store.commit("setBcArray",this.bcDiyArray),this.judgesInit(),this.listFormInit(),this.judgeFormInit(),this.sysArrCreat()},mounted:function(){document.body.ondrop=function(e){e.preventDefault(),e.stopPropagation()}}},p=m,h=r("2877"),f=Object(h["a"])(p,a,o,!1,null,null,null);f.options.__file="orderSetForm.vue";t["default"]=f.exports},"55dd":function(e,t,r){"use strict";var a=r("5ca1"),o=r("d8e8"),i=r("4bf8"),n=r("79e5"),s=[].sort,l=[1,2,3];a(a.P+a.F*(n(function(){l.sort(void 0)})||!n(function(){l.sort(null)})||!r("2f21")(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),o(e))}})},"5d81":function(e,t,r){var a=r("eb1c");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=r("499e").default;o("4661fbe6",a,!0,{sourceMap:!1,shadowMode:!1})},"5df3":function(e,t,r){"use strict";var a=r("02f4")(!0);r("01f9")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=a(t,r),this._i+=e.length,{value:e,done:!1})})},7514:function(e,t,r){"use strict";var a=r("5ca1"),o=r("0a49")(5),i="find",n=!0;i in[]&&Array(1)[i](function(){n=!1}),a(a.P+a.F*n,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(i)},b39a:function(e,t,r){var a=r("d3f4");e.exports=function(e,t){if(!a(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},be94:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var a=r("ade3");function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){Object(a["a"])(e,t,r[t])})}return e}},c26b:function(e,t,r){"use strict";var a=r("86cc").f,o=r("2aeb"),i=r("dcbc"),n=r("9b43"),s=r("f605"),l=r("4a59"),c=r("01f9"),u=r("d53b"),d=r("7a56"),m=r("9e1e"),p=r("67ab").fastKey,h=r("b39a"),f=m?"_s":"size",g=function(e,t){var r,a=p(t);if("F"!==a)return e._i[a];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,c){var u=e(function(e,a){s(e,u,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=a&&l(a,r,e[c],e)});return i(u.prototype,{clear:function(){for(var e=h(this,t),r=e._i,a=e._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete r[a.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var r=h(this,t),a=g(r,e);if(a){var o=a.n,i=a.p;delete r._i[a.i],a.r=!0,i&&(i.n=o),o&&(o.p=i),r._f==a&&(r._f=o),r._l==a&&(r._l=i),r[f]--}return!!a},forEach:function(e){h(this,t);var r,a=n(e,arguments.length>1?arguments[1]:void 0,3);while(r=r?r.n:this._f){a(r.v,r.k,this);while(r&&r.r)r=r.p}},has:function(e){return!!g(h(this,t),e)}}),m&&a(u.prototype,"size",{get:function(){return h(this,t)[f]}}),u},def:function(e,t,r){var a,o,i=g(e,t);return i?i.v=r:(e._l=i={i:o=p(t,!0),k:t,v:r,p:a=e._l,n:void 0,r:!1},e._f||(e._f=i),a&&(a.n=i),e[f]++,"F"!==o&&(e._i[o]=i)),e},getEntry:g,setStrong:function(e,t,r){c(e,t,function(e,r){this._t=h(e,t),this._k=r,this._l=void 0},function(){var e=this,t=e._k,r=e._l;while(r&&r.r)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?u(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,u(1))},r?"entries":"values",!r,!0),d(t)}}},e0b8:function(e,t,r){"use strict";var a=r("7726"),o=r("5ca1"),i=r("2aba"),n=r("dcbc"),s=r("67ab"),l=r("4a59"),c=r("f605"),u=r("d3f4"),d=r("79e5"),m=r("5cc5"),p=r("7f20"),h=r("5dbc");e.exports=function(e,t,r,f,g,b){var y=a[e],v=y,F=g?"set":"add",j=v&&v.prototype,C={},k=function(e){var t=j[e];i(j,e,"delete"==e?function(e){return!(b&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return b&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof v&&(b||j.forEach&&!d(function(){(new v).entries().next()}))){var w=new v,S=w[F](b?{}:-0,1)!=w,x=d(function(){w.has(1)}),_=m(function(e){new v(e)}),I=!b&&d(function(){var e=new v,t=5;while(t--)e[F](t,t);return!e.has(-0)});_||(v=t(function(t,r){c(t,v,e);var a=h(new y,t,v);return void 0!=r&&l(r,g,a[F],a),a}),v.prototype=j,j.constructor=v),(x||I)&&(k("delete"),k("has"),g&&k("get")),(I||S)&&k(F),b&&j.clear&&delete j.clear}else v=f.getConstructor(t,e,g,F),n(v.prototype,r),s.NEED=!0;return p(v,e),C[e]=v,o(o.G+o.W+o.F*(v!=y),C),b||f.setStrong(v,e,g),v}},eb1c:function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"\n.my-tree{width:100%\n}\n.my-tree .w100{width:100px\n}\n.my-tree .w200{width:200px\n}\n.my-tree .brother{display:flex;flex-direction:column\n}\n.my-tree .childConditions{margin-top:20px;display:flex\n}\n.my-tree .childConditions .childOperator{flex:0 0 130px\n}\n.my-tree .judgeTitle{background:#eee\n}\n.my-tree .judgeSet{display:flex;justify-content:flex-start;align-items:flex-end;padding:10px 0\n}\n.my-tree .judgeSet>div{flex:0 0 200px;text-align:center\n}\n.my-tree .judgeSet>div>div{text-align:left\n}\n.my-tree .judgeSet .judgeSetOne{flex:0 0 80px\n}\n.my-tree .judgeSet .judgeSetThree{flex:0 0 100px\n}\n.my-tree .judgeSet .judgeSetTwo{flex:0 0 300px\n}\n.my-tree .judgeSet .judgeSetFour{flex:0 1 400px\n}\n.my-tree .judgeSet .judgeSetFive{flex:0 0 100px\n}",""])},f400:function(e,t,r){"use strict";var a=r("c26b"),o=r("b39a"),i="Map";e.exports=r("e0b8")(i,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=a.getEntry(o(this,i),e);return t&&t.v},set:function(e,t){return a.def(o(this,i),0===e?0:e,t)}},a,!0)},f843:function(e,t,r){"use strict";var a=r("5d81"),o=r.n(a);o.a}}]);