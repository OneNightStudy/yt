(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10279ebe","chunk-830dff66","chunk-8bb2b642","chunk-4654ec23","chunk-1269b6cc"],{"08f0":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"DemoDragadd"}},[o("goo-flow",{ref:"gooFlow",attrs:{property:t.myProps,global:t.global,plugIns:t.plugIns}},[o("div",{staticStyle:{float:"right","margin-right":"15px"},attrs:{slot:"headerCustom"},slot:"headerCustom"},[t._v("拖拽式添加块状元素操作方式")])])],1)},i=[],n=o("2380"),r=o("5410"),s=o("6ed2"),l=o("f673"),p=o("9fec"),d=o("4b87"),h=o("645d"),u=o("bc3a"),c=o.n(u),f=o("70e5"),m={name:"DemoDragadd",components:{GooFlow:n["a"]},data:function(){return{myProps:{id:"aaaabbb",width:"900",height:"600",haveHead:!0,headLabel:!0,headBtns:["new","open","save","undo","redo","reload","print"],haveTool:!0,dragAddOper:!0,useOperStack:!0,haveMulti:!0,haveDirDashed:!0,haveSegment:!0,haveSegDashed:!0,toolBtns:["start round mix","end round","task","node","huber","router","plug2"],nodeCustoms:{huber:{class:"custom_huber",width:102,height:50},router:{class:"custom_router",width:115,height:52}},auth:f["a"]},global:r["a"],plugIns:[s["a"],l["a"],p["a"],d["a"],h["a"]]}},mounted:function(){var t=this.$refs.gooFlow;c.a.get("./static/demo/data2.json",{},{headers:{"Content-Type":"application/json"}}).then(function(e){t.loadData(e)}),t.bindOperEvent({onPrintClick:function(){console.dir(t.print),t.print()}})}},g=m,v=(o("6f7e"),o("2877")),w=Object(v["a"])(g,a,i,!1,null,null,null);w.options.__file="DemoDragadd.vue";e["default"]=w.exports},"09ae":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"DemoExport"}},[o("goo-flow",{ref:"gooFlow",attrs:{property:t.myProps,global:t.global,plugIns:t.plugIns}},[o("div",{staticStyle:{float:"right","margin-right":"15px"},attrs:{slot:"headerCustom"},slot:"headerCustom"},[o("button",{attrs:{type:"button"},on:{click:function(e){t.exportDiagram()}}},[t._v("导出流程图片")])])])],1)},i=[],n=o("2380"),r=o("5410"),s=o("6ed2"),l=o("f673"),p=o("9fec"),d=o("645d"),h=o("1971"),u=o("bc3a"),c=o.n(u),f=o("70e5"),m={name:"DemoExport",components:{GooFlow:n["a"]},data:function(){return{myProps:{id:"multi_demo",width:"900",height:"600",haveHead:!0,headLabel:!0,headBtns:["new","open","save","undo","redo","reload","print"],haveTool:!0,useOperStack:!0,haveMulti:!0,haveDirDashed:!0,haveSegment:!0,haveSegDashed:!0,toolBtns:["start round mix","end round","task","node","chat","state","plug","join","fork","complex mix"],toolTextWidth:60,auth:f["a"]},global:r["a"],plugIns:[s["a"],l["a"],p["a"],d["a"],h["a"]]}},methods:{exportDiagram:function(){this.$refs.gooFlow.exportDiagram("myFlow")}},mounted:function(){var t=this.$refs.gooFlow;c.a.get("./static/demo/data2.json",{},{headers:{"Content-Type":"application/json"}}).then(function(e){t.loadData(e)}),t.bindOperEvent({onPrintClick:function(){t.print()},onBtnSaveClick:function(){t.exportDiagram("myFlow")}})}},g=m,v=(o("666f"),o("2877")),w=Object(v["a"])(g,a,i,!1,null,null,null);w.options.__file="DemoExport.vue";e["default"]=w.exports},"0bb7":function(t,e,o){e=t.exports=o("2350")(!1),e.i(o("2d1f"),""),e.push([t.i,"",""])},"0f4e":function(t,e,o){var a=o("c423");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("499e").default;i("15c36db8",a,!0,{sourceMap:!1,shadowMode:!1})},"10df":function(t,e,o){e=t.exports=o("2350")(!1),e.i(o("2d1f"),""),e.push([t.i,"",""])},1850:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"DemoReadonly"}},[o("goo-flow",{ref:"gooFlow",attrs:{property:t.myProps,global:t.global,plugIns:t.plugIns}},[o("div",{staticStyle:{float:"right","margin-right":"15px"},attrs:{slot:"headerCustom"},slot:"headerCustom"},[t._v("只读模式-手动标注演示")])])],1)},i=[],n=o("2380"),r=o("5410"),s=o("6ed2"),l=o("f673"),p=o("9fec"),d=o("645d"),h=o("bc3a"),u=o.n(h),c=o("70e5"),f={name:"DemoReadonly",components:{GooFlow:n["a"]},data:function(){return{myProps:{id:"aaaabbb",width:"900",height:"600",haveHead:!0,headLabel:!0,haveTool:!1,auth:c["a"]},global:r["a"],plugIns:[s["a"],l["a"],p["a"],d["a"]]}},mounted:function(){var t=this.$refs.gooFlow;u.a.get("./static/demo/data2.json",{},{headers:{"Content-Type":"application/json"}}).then(function(e){t.loadData(e)})}},m=f,g=(o("46e4"),o("2877")),v=Object(g["a"])(m,a,i,!1,null,null,null);v.options.__file="DemoReadonly.vue";e["default"]=v.exports},"19bb":function(t,e,o){var a=o("1f39");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("499e").default;i("031257f8",a,!0,{sourceMap:!1,shadowMode:!1})},"1bfc":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"DemoBase"}},[o("goo-flow",{ref:"gooFlow",attrs:{property:t.myProps,global:t.global,plugIns:t.plugIns}},[o("div",{staticStyle:{float:"right","margin-right":"15px"},attrs:{slot:"headerCustom"},slot:"headerCustom"},[t._v("adfdsfasdfsdafasdf")])])],1)},i=[],n=o("2380"),r=o("5410"),s=o("6ed2"),l=o("f673"),p=o("9fec"),d=o("645d"),h=o("bc3a"),u=o.n(h),c=o("70e5"),f={name:"DemoBase",components:{GooFlow:n["a"]},data:function(){return{myProps:{id:"aaaabbb",width:"900",height:"600",haveHead:!0,headLabel:!0,headBtns:["new","open","save","undo","redo","reload","print"],haveTool:!0,useOperStack:!0,haveMulti:!0,haveDirDashed:!0,haveSegment:!0,haveSegDashed:!0,toolBtns:["start round mix","end round","task","node","chat","state","plug","join","fork","complex mix"],toolTextWidth:60,auth:c["a"]},global:r["a"],plugIns:[s["a"],l["a"],p["a"],d["a"]]}},mounted:function(){var t=this.$refs.gooFlow;u.a.get("/static/demo/data2.json",{},{headers:{"Content-Type":"application/json"}}).then(function(e){t.loadData(e)}),t.bindOperEvent({onPrintClick:function(){t.print()}})}},m=f,g=(o("75e4"),o("2877")),v=Object(g["a"])(m,a,i,!1,null,null,null);v.options.__file="DemoBase.vue";e["default"]=v.exports},"1d9b":function(t,e,o){"use strict";var a=o("0f4e"),i=o.n(a);i.a},"1f39":function(t,e,o){e=t.exports=o("2350")(!1),e.i(o("2d1f"),""),e.push([t.i,"\n.GooFlow .ico_huber{background:url(/static/img/gooflow_icon.png) no-repeat -116px -45px\n}\n.GooFlow .ico_huber,.GooFlow .ico_router{opacity:1!important;filter:Alpha(Opacity=100)!important\n}\n.GooFlow .ico_router{background:url(/static/img/gooflow_icon.png) no-repeat -97px -45px\n}\n.GooFlow .custom_huber{background:url(/static/img/gooflow_icon.png) no-repeat -1px -84px\n}\n.GooFlow .custom_huber,.GooFlow .custom_router{opacity:1!important;filter:Alpha(Opacity=100)!important\n}\n.GooFlow .custom_router{background:url(/static/img/gooflow_icon.png) no-repeat -106px -83px\n}\n.GooFlow .ico_plug2{background:url(/static/img/gooflow_icon.png) no-repeat -135px -45px;opacity:1!important;filter:Alpha(Opacity=100)!important\n}",""])},2381:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"DemoCustom"}},[o("goo-flow",{ref:"gooFlow",attrs:{property:t.myProps,global:t.global,plugIns:t.plugIns}},[o("div",{staticStyle:{float:"right","margin-right":"15px"},attrs:{slot:"headerCustom"},slot:"headerCustom"},[t._v("自定义背景图节点 "),o("button",{attrs:{type:"button"},on:{click:function(e){t.exportDiagram()}}},[t._v("导出流程图片")])])])],1)},i=[],n=o("2380"),r=o("5410"),s=o("6ed2"),l=o("f673"),p=o("9fec"),d=o("645d"),h=o("1971"),u=o("bc3a"),c=o.n(u),f=o("70e5"),m={name:"DemoCustom",components:{GooFlow:n["a"]},data:function(){return{myProps:{id:"aaaabbb",width:"900",height:"600",haveHead:!0,headLabel:!0,headBtns:["new","open","save","undo","redo","reload","print"],haveTool:!0,useOperStack:!0,haveMulti:!0,haveDirDashed:!0,haveSegment:!0,haveSegDashed:!0,toolBtns:["huber","router","plug2","complex mix"],nodeCustoms:{huber:{class:"custom_huber",width:102,height:50},router:{class:"custom_router",width:115,height:52}},auth:f["a"]},global:r["a"],plugIns:[s["a"],l["a"],p["a"],d["a"],h["a"]]}},methods:{exportDiagram:function(){this.$refs.gooFlow.exportDiagram("myFlow")}},mounted:function(){var t=this.$refs.gooFlow;c.a.get("./static/demo/data3.json",{},{headers:{"Content-Type":"application/json"}}).then(function(e){t.loadData(e)}),t.bindOperEvent({onPrintClick:function(){t.print()},onBtnSaveClick:function(){t.exportDiagram("myFlow")}})}},g=m,v=(o("8669"),o("2877")),w=Object(v["a"])(g,a,i,!1,null,null,null);w.options.__file="DemoCustom.vue";e["default"]=w.exports},"2ae9":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"DemoSpnode"}},[o("goo-flow",{ref:"gooFlow",attrs:{property:t.myProps,global:t.global,plugIns:t.plugIns}},[o("div",{staticStyle:{float:"right","margin-right":"15px"},attrs:{slot:"headerCustom"},slot:"headerCustom"},[t._v("特殊形状的节点 "),o("button",{attrs:{type:"button"},on:{click:function(e){t.exportDiagram()}}},[t._v("导出流程图片")])])])],1)},i=[],n=o("2380"),r=o("5410"),s=o("6ed2"),l=o("f673"),p=o("9fec"),d=o("645d"),h=o("1971"),u=o("bc3a"),c=o.n(u),f=o("70e5"),m={name:"DemoSpnode",components:{GooFlow:n["a"]},data:function(){return{myProps:{id:"aaaabbb",width:"900",height:"600",haveHead:!0,headLabel:!0,headBtns:["new","open","save","undo","redo","reload","print"],haveTool:!0,useOperStack:!0,haveMulti:!0,haveDirDashed:!0,haveSegment:!0,haveSegDashed:!0,toolBtns:["start round mix","end round","task","node","chat","state","plug","join","fork","complex mix"],toolTextWidth:60,auth:f["a"]},global:r["a"],plugIns:[s["a"],l["a"],p["a"],d["a"],h["a"]]}},methods:{exportDiagram:function(){this.$refs.gooFlow.exportDiagram("myFlow")}},mounted:function(){var t=this.$refs.gooFlow;c.a.get("./static/demo/data3.json",{},{headers:{"Content-Type":"application/json"}}).then(function(e){t.loadData(e)}),t.bindOperEvent({onPrintClick:function(){t.print()},onBtnSaveClick:function(){t.exportDiagram("myFlow")}})}},g=m,v=(o("1d9b"),o("2877")),w=Object(v["a"])(g,a,i,!1,null,null,null);w.options.__file="DemoSpnode.vue";e["default"]=w.exports},"2c3c":function(t,e,o){"use strict";o("28a5"),o("57e7"),o("7f7f");var a=o("53ca"),i="  ",n=i+i,r=n+i,s='<?xml version="1.0" encoding="UTF-8"?>\n<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"\n'+i+'xmlns:activiti="http://activiti.org/bpmn"\n'+i+'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n'+i+'targetNamespace="${targetNamespace}"\n'+i+'xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL\n'+i+'http://www.omg.org/spec/BPMN/2.0/20100501/BPMN20.xsd">\n',l="</definitions>";function p(t,e,o){var a=o.left+","+o.top+","+o.width+","+o.height;return n+"<"+e+' id="'+t+'" g="'+a+'"'}function d(t,e,o,n){var r=(n?"":"\n")+o+"<"+t,s="",l="",p=!1;for(var h in e)"object"==Object(a["a"])(e[h])?l+=d(h,e[h],o+i):"text"===h?(l+=e[h],p=!0):s+=" "+h+'="'+e[h]+'"';return""===l||p||(l+="\n"+o),r+(s+(""===l?"/>":">"+l+"</"+t+">"))}function h(t){return!isNaN(parseFloat(t))&&isFinite(t)?parseFloat(t):"true"===t||"false"!==t&&t}function u(t,e){for(var o=0;o<t.attributes.length;++o){var a=t.attributes[o];"id"!==a.nodeName&&(e[a.nodeName]=h(a.nodeValue))}if(1===t.childNodes.length&&"string"==typeof t.childNodes[0].data)e.text=t.childNodes[0].data;else for(var i=0;i<t.childNodes.length;++i){var n=t.childNodes[i];"string"!=typeof n.data&&(e[n.tagName]={},u(n,e[n.tagName]))}}e["a"]={flag:"xml",methods:{exportBpmnXML:function(t){void 0===t&&(t={});var e=s.replace("${targetNamespace}",this.prop.$extra.targetNamespace||"Examples");for(var o in this.prop.$extra)if("targetNamespace"!==o&&"id"!==o){var h=this.prop.$extra[o];e+="object"==Object(a["a"])(h)?d(o,h,i,!0)+"\n":i+"<"+o+">"+h+"</"+o+">\n"}var u=this.prop.$extra.id||"myProcess",c=this.prop.$title||"My Process";for(var f in e+=i+"<initNum>"+this.prop.$max+"</initNum>\n",e+=i+'<process id="'+u+'" name="'+c+'">\n',this.prop.$areas){var m=this.prop.$areas[f];e+=p(f,"swimlane",m),e+=' name="'+f+'" title="'+m.name+'"';var g="";for(var v in m)"left"!==v&&"top"!==v&&"width"!==v&&"height"!==v&&"name"!==v&&("object"==Object(a["a"])(m[v])?g+=d(v,m[v],r):e+=" "+v+'="'+m[v]+'"');e+=""===g?"/>\n":">"+g+"\n"+n+"</swimlane>\n"}for(var w in this.prop.$memos){var b=this.prop.$memos[w];e+=p(w,"memo",b),e+=">"+b.text+"\n"+n+"</memo>\n"}for(var x in this.prop.$nodes){var y=this.prop.$nodes[x],$=t[y.type]||y.type;e+=p(x,$,y);var _="";for(var D in y)"left"===D||"top"===D||"width"===D||"height"===D||"type"===D||("areaId"===D&&null!=y.areaId?e+=' swimlane="'+y.areaId+'"':"object"==Object(a["a"])(y[D])?_+=d(D,y[D],r):e+=" "+D+'="'+y[D]+'"');e+=""===_?"/>\n":">"+_+"\n"+n+"</"+$+">\n"}for(var F in this.prop.$lines){var M=this.prop.$lines[F];e+=n+'<sequenceFlow id="'+F+'" sourceRef="'+M.from+'" targetRef="'+M.to+'"';var k="";for(var O in M)"from"!==O&&"to"!==O&&("object"==Object(a["a"])(M[O])?k+=d(O,M[O],r):e+=" "+O+'="'+M[O]+'"');e+=""===k?"/>\n":">"+k+"\n"+n+"</sequenceFlow>\n"}return e+(i+"</process>\n")+l},loadBpmnXML:function(t,e){void 0===e&&(e={});var o={extra:{}};if("string"==typeof t){var i=t;window.ActiveXObject||"ActiveXObject"in window||navigator.userAgent.indexOf("Edge")>-1?(t=new ActivexObject("MSXML2.DOMDocument")).loadXML(i):t=(new DOMParser).parseFromString(i,"text/xml")}var n=t.getElementsByTagName("definitions")[0];o.extra.targetNamespace=n.getAttribute("targetNamespace");for(var r=0;r<n.childNodes.length;r++){var s=n.childNodes[r];if("string"!=typeof s.data){var l=s.tagName;if("process"!==l){if("initNum"===l){o.initNum=parseInt(s.textContent,10);continue}o.extra[l]={},s.childNodes.length>0&&"string"==typeof s.childNodes[0].data?o.extra[l]=s.childNodes[0].data:u(s,o.extra[l])}else{o.extra.id=s.getAttribute("id"),o.title=s.getAttribute("name"),o.lines={},o.nodes={},o.areas={};for(var p=0;p<s.childNodes.length;++p){var d=s.childNodes[p];if("string"!=typeof d.data){var h=d.tagName,c=d.getAttribute("id");if("swimlane"===h){o.areas[c]={},u(d,o.areas[c]),delete o.areas[c].id,o.areas[c].name=o.areas[c].title,delete o.areas[c].title;var f=o.areas[c].g.split(",");delete o.areas[c].g,o.areas[c].left=parseFloat(f[0]),o.areas[c].top=parseFloat(f[1]),o.areas[c].width=parseFloat(f[2]),o.areas[c].height=parseFloat(f[3])}else if("memo"===h){"object"!=Object(a["a"])(o.memos)&&(o.memos={}),o.memos[c]={},u(d,o.memos[c]),delete o.memos[c].id;var m=o.memos[c].g.split(",");delete o.memos[c].g,o.memos[c].left=parseFloat(m[0]),o.memos[c].top=parseFloat(m[1]),o.memos[c].width=parseFloat(m[2]),o.memos[c].height=parseFloat(m[3])}else if("sequenceFlow"===h)o.lines[c]={},u(d,o.lines[c]),delete o.lines[c].id,o.lines[c].from=o.lines[c].sourceRef,o.lines[c].to=o.lines[c].targetRef,delete o.lines[c].sourceRef,delete o.lines[c].targetRef;else{o.nodes[c]={},u(d,o.nodes[c]),delete o.nodes[c].id,void 0!==o.nodes[c].swimlane&&(o.nodes[c].areaId=o.nodes[c].swimlane,delete o.nodes[c].swimlane);var g=o.nodes[c].g.split(",");delete o.nodes[c].g,o.nodes[c].left=parseFloat(g[0]),o.nodes[c].top=parseFloat(g[1]),o.nodes[c].width=parseFloat(g[2]),o.nodes[c].height=parseFloat(g[3]),o.nodes[c].type=e[d.tagName]||d.tagName}}}}}}this.loadData(o)}}}},"456d":function(t,e,o){var a=o("4bf8"),i=o("0d58");o("5eda")("keys",function(){return function(t){return i(a(t))}})},"46e4":function(t,e,o){"use strict";var a=o("78e3"),i=o.n(a);i.a},"4b6a":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"DemoMulti"}},[o("goo-flow",{ref:"gooFlow",attrs:{property:t.myProps,global:t.global,plugIns:t.plugIns}},[o("div",{staticStyle:{float:"right","margin-right":"15px"},attrs:{slot:"headerCustom"},slot:"headerCustom"},[t._v("多选实验")])])],1)},i=[],n=o("2380"),r=o("5410"),s=o("6ed2"),l=o("f673"),p=o("9fec"),d=o("645d"),h=o("53ca"),u=(o("57e7"),o("28a5"),o("ac6a"),o("456d"),o("24f9")),c=o("752d");
/**
 * GooFlow-Vue - Web端流程设计器
 * @author foolegg126 (sdlddr)
 * @version v1.1.0
 * @license Commercially licensed to 宜通世纪科技股份有限公司-91440101731569620Y(自动运维系统)
 **/
Object.keys=Object.keys||function(t){var e=[];for(var o in t)t.hasOwnProperty(o)&&e.push(o);return e};var f={flag:"multi",prop:{$multiNodes:{},$multiLines:{}},events:{onBatchAdd:null,onBatchDel:null,onBatchMove:null,onBatchMark:null},methods:{_wallAllMulti:function(){if(this.prop.$multiNodes&&this.prop.$multiLines){if(0===Object.keys(this.prop.$multiNodes).length&&0===Object.keys(this.prop.$multiLines).length)return this.$refs.$multiGhost.hide(),void this.$refs.$multiOper.hide();var t=0,e=0,o=-1,a=-1;for(var i in this.prop.$multiNodes){var n=this.prop.$nodes[i];(-1===o||n.left<o)&&(o=n.left),(-1===a||n.top<a)&&(a=n.top),n.width+n.left>t&&(t=n.width+n.left),n.height+n.top>e&&(e=n.height+n.top)}for(var r in this.prop.$multiLines){var s=this.prop.$lines[r],l=this.$refs.$workArea.querySelector("#"+r),p=l.getAttribute("from").split(","),d=[];d[0]=parseFloat(p[0]),d[1]=parseFloat(p[1]);var h=l.getAttribute("to").split(","),u=[];u[0]=parseFloat(h[0]),u[1]=parseFloat(h[1]),"sl"===s.type||("tb"===s.type?(d[1]=s.M,u[1]=s.M):"lr"===s.type&&(d[0]=s.M,u[0]=s.M)),(-1===o||d[0]<o)&&(o=d[0]),(-1===o||u[0]<o)&&(o=u[0]),(-1===a||d[1]<a)&&(a=d[1]),(-1===a||u[1]<a)&&(a=u[1]),d[0]>t&&(t=d[0]),u[0]>t&&(t=u[0]),d[1]>e&&(e=d[1]),u[1]>e&&(e=u[1])}this.$refs.$multiGhost.show({left:o-2+"px",top:a-2+"px",width:t-o+4+"px",height:e-a+4+"px"}),this.$refs.$multiOper.show({left:t+4+"px",top:a-2+"px"})}},_addtoMultiList:function(t,e,o){var a=null;"node"===e?(this.prop.$multiNodes[t]=t,a=this.$refs.$workArea.querySelector("#"+t),u["a"].addClass(a,"item_focus"),a.style.borderColor=this.GooFlow.color.line):"line"===e&&(this.prop.$multiLines[t]=t,(a=this.$refs.$draw.querySelector("#"+t+" path[stroke-linecap='round']")).setAttribute("stroke","#ff8800"),this.prop.$lines[t].noArrow||a.setAttribute("marker-end","url(#arrow2)")),o&&this._wallAllMulti()},_removeFromMultiList:function(t,e,o){var a=null,i=null;"node"===e?(delete this.prop.$multiNodes[t],a=this.$refs.$workArea.querySelector("#"+t),u["a"].removeClass(a,"item_focus"),(i=this.prop.$nodes[t]).marked?(u["a"].addClass(a,"item_mark"),a.style.borderColor=this.GooFlow.color.mark):i.type.indexOf(" mix")>0?a.style.borderColor=this.GooFlow.color.mix:this.$nodeCustoms[this.prop.$nodes[t].type]?a.style.borderColor="transparent":a.style.borderColor=this.prop.$nodes[t].color||this.GooFlow.color.node):"line"===e&&(delete this.prop.$multiLines[t],i=this.prop.$lines[t],a=this.$refs.$draw.querySelector("#"+t+" path[stroke-linecap='round']"),i.marked||(a.setAttribute("stroke",i.color||this.GooFlow.color.line),i.noArrow||a.setAttribute("marker-end","url(#arrow1)"))),o&&this._wallAllMulti()},_clearMultiList:function(){for(var t in this.prop.$multiNodes)this._removeFromMultiList(t,"node");for(var e in this.prop.$multiLines)this._removeFromMultiList(e,"line");this._wallAllMulti()},_initMultiSelect:function(){var t=this;this.$refs.$workArea.addEventListener("mousedown",function(e){var o={X:0,Y:0};if("multi"===t.prop.$nowType){if(e.shiftKey)return!1;var a=e.target,i=a.tagName;if("svg"===i||"DIV"===i&&a.className.indexOf("GooFlow_work")>-1||"LABEL"===i){o=c["a"].getCoor(e,t.$refs.$workArea),t.$refs.$multiGhost.show({left:o.X+"px",top:o.Y+"px",width:"0",height:"0"});var n=!1;document.onmousemove=function(e){e||(e=window.event);var a=c["a"].getCoor(e,t.$refs.$workArea),i=a.X-o.X,r=a.Y-o.Y,s=t.$refs.$multiGhost.position();i<0&&(s.left=o.X+i,i*=-1),r<0&&(s.top=o.Y+r,r*=-1),n=!0,t.$refs.$multiGhost.css({left:s.left+"px",top:s.top+"px",width:i+"px",height:r+"px"})},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null;var o=t.$refs.$multiGhost.position(),a=t.$refs.$multiGhost.offsetSize(),i=o.left,r=o.top,s=a.width,l=a.height;if(t._clearMultiList(),n){for(var p in t.prop.$nodes){var d=t.prop.$nodes[p],h={left:d.left*t.scale,top:d.top*t.scale,right:(d.left+d.width)*t.scale,bottom:(d.top+d.height)*t.scale},u=h.left>=i&&h.left<=i+s||h.right>=i&&h.right<=i+s,f=h.top>=r&&h.top<=r+l||h.bottom>=r&&h.bottom<=r+l;if(!u||!f){var m=h.left<=i&&h.right>=i+s&&(r<=h.top&&r+l>=h.top||r<=h.bottom&&r+l>=h.bottom),g=h.top<=r&&h.bottom>=r+l&&(i<=h.left&&i+s>=h.left||i<=h.right&&i+s>=h.right);if(!m&&!g)continue}t._addtoMultiList(p,"node")}for(var v in t.prop.$lines){var w=void 0,b=void 0,x=void 0,y=t.prop.$lines[v],$=t.$refs.$draw.querySelector("#"+v),_=$.getAttribute("from").split(","),D=[];D[0]=parseFloat(_[0]),D[1]=parseFloat(_[1]);var F=$.getAttribute("to").split(","),M=[];M[0]=parseFloat(F[0]),M[1]=parseFloat(F[1]),"sl"===y.type||("tb"===y.type?(D[1]=y.M,M[1]=y.M):"lr"===y.type&&(D[0]=y.M,M[0]=y.M)),w=D[0]>=i&&D[0]<=i+s&&D[1]>=r&&D[1]<=r+l,b=M[0]>=i&&M[0]<=i+s&&M[1]>=r&&M[1]<=r+l,(w||b||("tb"===y.type?x=r<=M[1]&&M[1]<=r+l&&(D[0]<=i&&M[0]>=i+s||M[0]<=i&&D[0]>=i+s):"lr"===y.type&&(x=i<=M[0]&&M[0]<=i+s&&(D[1]<=r&&M[1]>=r+l||M[1]<=r&&D[1]>=r+l)),x))&&t._addtoMultiList(v,"line")}t._wallAllMulti(),c["a"].stopEventPop(e)}}}}})},batchMarkItem:function(t,e,o){if("function"!=typeof this.onBatchMark||!1!==this.onBatchMark(t,e,o)){if("object"==Object(h["a"])(t)&&"number"==typeof t.length&&t.length>0)for(var a=0;a<t.length;++a)this.markItem(t[a],o,!1,!0,!0);if("object"==Object(h["a"])(e)&&"number"==typeof e.length&&e.length>0)for(var i=0;i<e.length;++i)this.markItem(e[i],o,!1,!0,!0);"function"==typeof this.pushOper&&this.pushOper("batchMarkItem",[t,e,o]),this.prop.$navMap&&this.$nextTick(function(){this.refreshMap()})}},batchAddItem:function(t,e){if("function"!=typeof this.onBatchAdd||!1!==this.onBatchAdd(t,e)){var o=[],a=[];for(var i in t)this.addNode(i,t[i],!1,!0,!0),a.push(i);for(var n in e)this.addLine(n,e[n],!1,!0,!0),o.push(n);"function"==typeof this.pushOper&&this.prop.$editable&&this.pushOper("batchDelete",[a,o]),this.prop.$navMap&&this.$nextTick(function(){this.refreshMap()})}},batchDelete:function(t,e){if("function"!=typeof this.onBatchDel||!1!==this.onBatchDel(t,e)){var o={},a={};if("object"==Object(h["a"])(t)&&"number"==typeof t.length&&t.length>0)for(var i=0;i<t.length;++i)if(this.prop.$nodes[t[i]]&&null!=this.prop.$nodes[t[i]]){for(var n in a[t[i]]=JSON.parse(JSON.stringify(this.prop.$nodes[t[i]])),this.prop.$lines)this.prop.$lines[n].from!==t[i]&&this.prop.$lines[n].to!==t[i]||(o[n]=JSON.parse(JSON.stringify(this.prop.$lines[n])),this.delLine(n,!1,!0,!0),this.prop.$multiLines&&delete this.prop.$multiLines[n]);this.delNode(t[i],!1,!0,!0),this.prop.$multiNodes&&delete this.prop.$multiNodes[t[i]]}if("object"==Object(h["a"])(e)&&"number"==typeof e.length&&e.length>0)for(var r=0;r<e.length;++r)this.prop.$lines[e[r]]&&null!=this.prop.$lines[e[r]]&&(o[e[r]]=JSON.parse(JSON.stringify(this.prop.$lines[e[r]])),this.delLine(e[r],!1,!0,!0),this.prop.$multiLines&&delete this.prop.$multiLines[e[r]]);"function"==typeof this.pushOper&&this.prop.$editable&&this.pushOper("batchAddItem",[a,o]),this.prop.$navMap&&this.$nextTick(function(){this.refreshMap()})}},batchMove:function(t,e,o,a){if((0!==Object.keys(t).length||0!==Object.keys(e).length)&&"number"==typeof o&&"number"==typeof a&&("function"!=typeof this.onBatchMove||!1!==this.onBatchMove(t,e,o,a))){var i={},n={};if("object"==Object(h["a"])(t))for(var r in t){var s=this.prop.$nodes[r];s&&null!=s&&(this.moveNode(r,s.left+o,s.top+a,!1,!0,!0),i[r]=r)}if("object"==Object(h["a"])(e))for(var l in e){var p=this.prop.$lines[l];p&&null!=p&&("lr"!==p.type&&"tb"!==p.type||(this.setLineM(l,"lr"===p.type?o+p.M:a+p.M,!0,!1,!0),n[l]=l))}"function"==typeof this.pushOper&&this.prop.$editable&&this.pushOper("batchMove",[i,n,-1*o,-1*a]),this.prop.$navMap&&this.$nextTick(function(){this.refreshMap()})}}}},m=o("bc3a"),g=o.n(m),v=o("70e5"),w={name:"DemoMulti",components:{GooFlow:n["a"]},data:function(){return{myProps:{id:"multi_demo",width:"900",height:"600",haveHead:!0,headLabel:!0,headBtns:["new","open","save","undo","redo","reload","print"],haveTool:!0,useOperStack:!0,haveMulti:!0,haveDirDashed:!0,haveSegment:!0,haveSegDashed:!0,toolBtns:["start round mix","end round","task","node","chat","state","plug","join","fork","complex mix"],toolTextWidth:60,auth:v["a"]},global:r["a"],plugIns:[s["a"],l["a"],p["a"],d["a"],f]}},mounted:function(){var t=this.$refs.gooFlow;g.a.get("./static/demo/data2.json",{},{headers:{"Content-Type":"application/json"}}).then(function(e){t.loadData(e)}),t.bindOperEvent({onPrintClick:function(){t.print()}})}},b=w,x=(o("71fa"),o("2877")),y=Object(x["a"])(b,a,i,!1,null,null,null);y.options.__file="DemoMulti.vue";e["default"]=y.exports},"4b87":function(t,e,o){"use strict";o("57e7");var a=o("743b"),i=o("752d");
/**
 * GooFlow-Vue - Web端流程设计器
 * @author foolegg126 (sdlddr)
 * @version v1.1.0
 * @license Commercially licensed to 宜通世纪科技股份有限公司-91440101731569620Y(自动运维系统)
 **/e["a"]={flag:"dragadd",methods:{_initDragAddOper:function(){if(this.prop.$editable&&this.$refs.$tool){var t=this;Object(a["a"])(this.$refs.$tool.$el,"mousedown","li",{},function(e,o){var a=o.getAttribute("type"),n=o.title;if(t.prop.$dragAddOper&&"cursor"!==a&&"multi"!==a&&!i["a"].isDrawingLine(a)){var r="",s=i["a"].getCoor(e,t.$refs.$workArea),l=t.prop.$nodeCustoms[a],p={width:104,height:26,type:a,title:null!=n&&""!==n?n:"--------",left:s.X,top:s.Y,canOver:!0};if(void 0!==l&&null!=l){l.width&&(p.width=l.width),l.height&&(p.height=l.height);var d='<i class="'+l.class+'" style="width:'+p.width+"px;height:"+p.height+'px;"></i>';r='<table cellspacing="0" style="width:'+p.width*t.scale+"px;height:"+p.height*t.scale+'px;margin:-1px"><tr><td class="ico">'+d+"</td></tr></table>"}else p.type.indexOf(" round")>-1?(p.width=26,p.height=26,p.title=""):p.type.indexOf(" rhomb")>0?(p.width=30,p.height=30,p.title=""):"group"===p.type?(p.width=200,p.height=100):"memo"===p.type?(p.width=140,p.height=54):r='<table cellspacing="1" style="width:'+(p.width*t.scale-2)+"px;height:"+(p.height*t.scale-2)+'px;"><tr><td class="ico"><i class="ico_'+p.type+'"></i></td><td><div>'+p.title+"</div></td></tr></table>";""===r&&(r='<table cellspacing="0" style="width:'+(p.width*t.scale-2)+"px;height:"+(p.height*t.scale-2)+'px;"><tr><td class="ico"><i class="ico_'+p.type+'"></i> '+p.title+"</td></tr></table>"),t.$refs.$ghost.setData("type",a),t.$refs.$ghost.html(r),t.$refs.$ghost.css({cursor:"move"}),t._bindMoveEvent(e,p,function(e,o,a,i,n){if(o.$refs.$ghost.removeData("type"),!(i<0||n<0)&&e){if("group"===p.type){o.switchToolBtn("group");var r=["red","yellow","blue","green","milk"];o.addArea((new Date).getTime(),{name:o.prop.$areaPrefix+o.prop.$max,left:i/o.scale,top:n/o.scale,color:r[o.prop.$max%5],width:200,height:100})}else"memo"===p.type?(o.switchToolBtn("memo"),o.addMemo((new Date).getTime(),{text:"",left:i/o.scale,top:n/o.scale,width:140,height:54})):(o.switchToolBtn("cursor"),t.addNode((new Date).getTime(),{name:o.prop.$nodePrefix+o.prop.$max,left:i/o.scale,top:n/o.scale,width:p.width,height:p.height,type:p.type}));o.prop.$max++}},"move",p.width,p.height)}})}}}}},5824:function(t,e,o){e=t.exports=o("2350")(!1),e.i(o("2d1f"),""),e.push([t.i,"",""])},"5c89":function(t,e,o){e=t.exports=o("2350")(!1),e.i(o("2d1f"),""),e.push([t.i,"",""])},"5eda":function(t,e,o){var a=o("5ca1"),i=o("8378"),n=o("79e5");t.exports=function(t,e){var o=(i.Object||{})[t]||Object[t],r={};r[t]=e(o),a(a.S+a.F*n(function(){o(1)}),"Object",r)}},"655f":function(t,e,o){e=t.exports=o("2350")(!1),e.i(o("2d1f"),""),e.push([t.i,"",""])},"666f":function(t,e,o){"use strict";var a=o("6aa7"),i=o.n(a);i.a},"6aa7":function(t,e,o){var a=o("10df");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("499e").default;i("bcd1d750",a,!0,{sourceMap:!1,shadowMode:!1})},"6d24":function(t,e,o){e=t.exports=o("2350")(!1),e.i(o("2d1f"),""),e.push([t.i,"\n.GooFlow .ico_huber{background:url(/static/img/gooflow_icon.png) no-repeat -116px -45px\n}\n.GooFlow .ico_huber,.GooFlow .ico_router{opacity:1!important;filter:Alpha(Opacity=100)!important\n}\n.GooFlow .ico_router{background:url(/static/img/gooflow_icon.png) no-repeat -97px -45px\n}\n.GooFlow .custom_huber{background:url(/static/img/gooflow_icon.png) no-repeat -1px -84px\n}\n.GooFlow .custom_huber,.GooFlow .custom_router{opacity:1!important;filter:Alpha(Opacity=100)!important\n}\n.GooFlow .custom_router{background:url(/static/img/gooflow_icon.png) no-repeat -106px -83px\n}\n.GooFlow .ico_plug2{background:url(/static/img/gooflow_icon.png) no-repeat -135px -45px;opacity:1!important;filter:Alpha(Opacity=100)!important\n}",""])},"6f7e":function(t,e,o){"use strict";var a=o("a4fe"),i=o.n(a);i.a},"71fa":function(t,e,o){"use strict";var a=o("f731"),i=o.n(a);i.a},"75e4":function(t,e,o){"use strict";var a=o("8c50"),i=o.n(a);i.a},"78e3":function(t,e,o){var a=o("0bb7");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("499e").default;i("6f616598",a,!0,{sourceMap:!1,shadowMode:!1})},8669:function(t,e,o){"use strict";var a=o("19bb"),i=o.n(a);i.a},"8c50":function(t,e,o){var a=o("5c89");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("499e").default;i("07682cb8",a,!0,{sourceMap:!1,shadowMode:!1})},a4fe:function(t,e,o){var a=o("6d24");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("499e").default;i("a0ee490c",a,!0,{sourceMap:!1,shadowMode:!1})},ae9f:function(t,e,o){var a=o("655f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("499e").default;i("e9ae7a64",a,!0,{sourceMap:!1,shadowMode:!1})},bce3:function(t,e,o){"use strict";var a=o("ae9f"),i=o.n(a);i.a},c423:function(t,e,o){e=t.exports=o("2350")(!1),e.i(o("2d1f"),""),e.push([t.i,"",""])},d4fa:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"DemoXml"}},[o("goo-flow",{ref:"gooFlow",attrs:{property:t.myProps,global:t.global,plugIns:t.plugIns}},[o("div",{staticStyle:{float:"right","margin-right":"15px"},attrs:{slot:"headerCustom"},slot:"headerCustom"},[o("button",{attrs:{type:"button"},on:{click:function(e){t.loadXmlAjax()}}},[t._v("AJAX载入XML数据")]),o("button",{attrs:{type:"button"},on:{click:function(e){t.exportXml()}}},[t._v("导出XML数据")]),o("button",{attrs:{type:"button"},on:{click:function(e){t.DownloadFile("flowJson","json")}}},[t._v("下载JSON")]),o("button",{attrs:{type:"button"},on:{click:function(e){t.DownloadFile("flowXml","xml")}}},[t._v("下载XML")])])]),o("textarea",{staticStyle:{width:"900px",height:"300px"},attrs:{id:"xmlResult",readonly:""}})],1)},i=[],n=o("2380"),r=o("5410"),s=o("6ed2"),l=o("f673"),p=o("9fec"),d=o("645d"),h=o("1971"),u=o("2c3c"),c=o("bc3a"),f=o.n(c),m=o("70e5"),g={name:"DemoXml",components:{GooFlow:n["a"]},data:function(){return{myProps:{id:"aaaabbb",width:"900",height:"600",haveHead:!0,headLabel:!0,headBtns:["new","open","save","undo","redo","reload","print"],haveTool:!0,useOperStack:!0,haveMulti:!0,haveDirDashed:!0,haveSegment:!0,haveSegDashed:!0,toolBtns:["start round mix","end round","task","node","chat","state","plug","join","fork","complex mix"],toolTextWidth:60,auth:m["a"]},global:r["a"],plugIns:[s["a"],l["a"],p["a"],d["a"],h["a"],u["a"]]}},methods:{DownloadFile:function(t,e){this.$refs.gooFlow.exportDataFile(t,e)},exportXml:function(){document.getElementById("xmlResult").value=this.$refs.gooFlow.exportBpmnXML({"start round mix":"startEvent","end round mix":"endEvent"})},loadXmlAjax:function(){var t=this.$refs.gooFlow;f.a.get("./static/demo/data2.xml",{}).then(function(e){t.loadBpmnXML(e,{startEvent:"start round mix",endEvent:"end round mix"})})}},mounted:function(){this.loadXmlAjax()}},v=g,w=(o("bce3"),o("2877")),b=Object(w["a"])(v,a,i,!1,null,null,null);b.options.__file="DemoXml.vue";e["default"]=b.exports},db5a:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{padding:"20px"}},[o("div",{staticStyle:{"margin-bottom":"20px"}},t._l(t.arr,function(e,a){return o("Button",{key:a,attrs:{type:"primary"},on:{click:function(e){t.itemShow(a)}}},[t._v(t._s(e))])})),o("d1",{directives:[{name:"show",rawName:"v-show",value:t.show0,expression:"show0"}]}),o("d2",{directives:[{name:"show",rawName:"v-show",value:t.show1,expression:"show1"}]}),o("d3",{directives:[{name:"show",rawName:"v-show",value:t.show2,expression:"show2"}]}),o("d4",{directives:[{name:"show",rawName:"v-show",value:t.show3,expression:"show3"}]}),o("d5",{directives:[{name:"show",rawName:"v-show",value:t.show4,expression:"show4"}]}),o("d6",{directives:[{name:"show",rawName:"v-show",value:t.show5,expression:"show5"}]}),o("d7",{directives:[{name:"show",rawName:"v-show",value:t.show6,expression:"show6"}]}),o("d8",{directives:[{name:"show",rawName:"v-show",value:t.show7,expression:"show7"}]}),o("d9",{directives:[{name:"show",rawName:"v-show",value:t.show8,expression:"show8"}]})],1)},i=[],n=(o("6d67"),o("1bfc")),r=o("2381"),s=o("08f0"),l=o("09ae"),p=o("4b6a"),d=o("71ac"),h=o("1850"),u=o("2ae9"),c=o("d4fa"),f={components:{d1:n["default"],d2:r["default"],d3:s["default"],d4:l["default"],d5:p["default"],d6:d["default"],d7:h["default"],d8:u["default"],d9:c["default"]},data:function(){return{arr:["DemoBase","DemoCustom","DemoDragadd","DemoExport","DemoMulti","DemoNavmap","DemoReadonly","DemoSpnode","DemoXml"],show0:!0,show1:!1,show2:!1,show3:!1,show4:!1,show5:!1,show6:!1,show7:!1,show8:!1}},created:function(){},methods:{itemShow:function(t){var e=this;this.arr.map(function(t,o){e.$data["show"+o]=!1}),this.$data["show"+t]=!0}}},m=f,g=o("2877"),v=Object(g["a"])(m,a,i,!1,null,null,null);v.options.__file="demo.vue";e["default"]=v.exports},f731:function(t,e,o){var a=o("5824");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("499e").default;i("4057d35c",a,!0,{sourceMap:!1,shadowMode:!1})}}]);