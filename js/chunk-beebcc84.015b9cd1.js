(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-beebcc84","chunk-2d0b90a5","chunk-2d22d9c9"],{"30f8":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",[r("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.handleSearch}},[t._v(t._s(t.$t("search")))]),r("Button",{on:{click:t.handleReset}},[t._v(t._s(t.$t("reset")))])],1)},n=[],o={name:"search-button",props:{params:{type:Object,required:!0}},methods:{handleSearch:function(){this.params.pageNumber=1,this.params.pageSize=10,this.$emit("getList")},handleReset:function(){this.$emit("reset"),this.params.pageNumber=1,this.params.pageSize=10,this.$emit("getList")}}},s=o,l=r("2877"),i=Object(l["a"])(s,a,n,!1,null,null,null);i.options.__file="search-button.vue";e["default"]=i.exports},b0ca:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"healthMonitor"},[r("Row",[r("Col",[r("Card",[r("Row",[r("Form",{ref:"healthMonitorForm",attrs:{model:t.healthMonitorForm,inline:"","label-width":50}},[r("FormItem",{attrs:{label:t.$t("server"),prop:"serverId"}},[r("Select",{staticStyle:{width:"200px"},attrs:{clearable:""},model:{value:t.healthMonitorForm.serverId,callback:function(e){t.$set(t.healthMonitorForm,"serverId",e)},expression:"healthMonitorForm.serverId"}},t._l(t.serverList,function(e){return r("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),r("FormItem",{staticClass:"br",staticStyle:{"margin-left":"-35px"}},[r("search-button",{attrs:{params:t.healthMonitorForm},on:{reset:t.reset,getList:t.getHealthMonitorList}})],1)],1)],1),r("table-grid",{attrs:{loading:t.loading,columns:t.columns,data:t.data,total:t.total,tableAdd:t.tableAdd,tableDelAll:t.tableDelAll,params:t.healthMonitorForm,exportFromId:t.exportFromId},on:{getList:t.getHealthMonitorList}})],1)],1)],1)],1)},n=[],o=r("f7df"),s=r("30f8"),l=r("365c"),i={name:"health-monitor",components:{"table-grid":o["default"],"search-button":s["default"]},data:function(){var t=this;return{healthMonitorForm:{serverId:"",pageNumber:1,pageSize:10,sort:"createTime",order:"desc"},serverList:[],loading:!1,total:0,data:[],columns:[{type:"index",width:60,align:"center"},{title:this.$t("server"),key:"serverName",width:150,align:"center"},{title:this.$t("healthMonitor.storage"),key:"diskSpace",width:120,align:"center",render:function(t,e){var r=100-e.row.diskSpace;return t("span",r<20?{style:{color:"red"}}:{style:{color:"green"}},r+"%")}},{title:this.$t("healthMonitor.diskIO"),key:"diskIo",width:120,align:"center",render:function(t,e){var r=e.row.diskIo;return t("span",r>.8?{style:{color:"red"}}:{style:{color:"green"}},r+"%")}},{title:this.$t("healthMonitor.localBackup"),key:"localBackup",width:120,align:"center",render:function(e,r){var a=r.row.serverName;if("芳村01"===a||"清河东01"===a){var n=r.row.localBackup;return 0===n?e("span",{style:{color:"red"}},t.$t("abnormal")):1===n?e("span",{style:{color:"green"}},t.$t("normal")):e("span",t.$t("abnormal"))}return e("span","--")}},{title:this.$t("healthMonitor.nonLocalBackup"),key:"nonLocalBackup",width:140,align:"center",render:function(e,r){var a=r.row.remoteBackup;return 0===a?e("span",{style:{color:"red"}},t.$t("abnormal")):1===a?e("span",{style:{color:"green"}},t.$t("normal")):e("span",t.$t("abnormal"))}},{title:this.$t("createTime"),key:"createTime",sortable:!0,align:"center",sortType:"desc"}],tableAdd:!1,tableDelAll:!1,exportFromId:""}},methods:{init:function(){this.initServer(),this.getHealthMonitorList()},getHealthMonitorList:function(){var t=this;this.loading=!0,Object(l["pb"])(this.healthMonitorForm).then(function(e){t.loading=!1,0===e.code&&(t.data=e.content.content,t.total=e.content.totalElements)})},initServer:function(){var t=this;Object(l["E"])().then(function(e){0===e.code&&(t.serverList=e.content)})},reset:function(){this.$refs.healthMonitorForm.resetFields()}},mounted:function(){this.init()}},c=i,h=r("2877"),d=Object(h["a"])(c,a,n,!1,null,null,null);d.options.__file="healthMonitor.vue";e["default"]=d.exports},f7df:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Row",{staticClass:"br",staticStyle:{"margin-bottom":"2vh"}},[this.tableAdd?r("span",[r("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:t.add}},[t._v(t._s(t.$t("add")))])],1):t._e(),this.tableDelAll?r("span",[r("Button",{attrs:{type:"error",icon:"md-trash"},on:{click:t.delAll}},[t._v(t._s(t.$t("batchDelete")))])],1):t._e(),this.tableRefresh?r("span",[r("Button",{attrs:{type:"success",icon:"md-refresh"},on:{click:t.refresh}},[t._v(t._s(t.$t("refresh")))])],1):t._e(),""!==this.exportFromId?r("span",[r("export-button",{attrs:{exportParams:t.params,exportUrl:t.exportUrl,exportFromId:t.exportFromId}})],1):t._e()]),r("Row",[this.tableDelAll?r("span",[r("Alert",{attrs:{"show-icon":""}},[t._v("\n                "+t._s(t.$t("hasSelected"))+" "),r("span",{staticClass:"select-count"},[t._v(t._s(t.selectCount))]),t._v(" "+t._s(t.$t("items"))+"\n                "),r("a",{staticClass:"select-clear",on:{click:t.clearSelectAll}},[t._v(t._s(t.$t("clear")))])])],1):t._e()]),r("Row",[r("Table",{ref:"table",attrs:{loading:t.loading,border:"",columns:t.columns,data:t.data,sortable:"custom"},on:{"on-sort-change":t.changeSort,"on-selection-change":t.showSelect,"on-row-dblclick":t.dblclick}})],1),r("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[r("Page",{attrs:{current:t.pageNumber,total:t.total,"page-size":t.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1)},n=[],o=(r("ac6a"),r("f3e2"),r("c5f6"),r("365c")),s=r("3eac"),l={name:"table-grid",components:{"export-button":s["default"]},data:function(){return{pageNumber:1,pageSize:10,selectCount:0,selectList:[]}},props:{loading:{type:Boolean,required:!0},columns:{type:Array,required:!0},data:{type:Array,required:!0},total:{type:Number,required:!0},delAllUrl:{type:String,default:""},params:{type:Object,required:!0},exportUrl:{type:String,default:""},exportFromId:{type:String,default:""},tableAdd:{type:Boolean,default:!0},tableDelAll:{type:Boolean,default:!0},tableRefresh:{type:Boolean,default:!0}},methods:{add:function(){this.$emit("add")},delAll:function(){var t=this;""!==this.delAllUrl?this.selectCount<=0?this.$Message.warning(this.$t("deleteTip")):this.$Modal.confirm({title:this.$t("confirmDelete"),content:this.$t("deleteContent1")+this.selectCount+this.$t("deleteContent2")+"？",onOk:function(){var e="";t.selectList.forEach(function(t){e+=t.id+","}),e=e.substring(0,e.length-1);var r={ids:e};Object(o["p"])(t.delAllUrl,r).then(function(e){0===e.code&&(t.$Message.success(t.$t("deleteSuccess")),t.clearSelectAll(),t.$emit("getList"))})}}):this.$Message.warning(this.$t("deleteInvalidTip"))},refresh:function(){this.$emit("getList")},clearSelectAll:function(){this.$refs.table.selectAll(!1)},changeSort:function(t){this.params.sort=t.key,this.params.order=t.order,"normal"===t.order&&(this.params.order=""),this.$emit("getList")},showSelect:function(t){this.selectList=t,this.selectCount=t.length},changePage:function(t){this.params.pageNumber=t,this.$emit("getList"),this.clearSelectAll()},changePageSize:function(t){this.params.pageSize=t,this.$emit("getList")},dblclick:function(t,e,r){this.$emit("dblclick",t)}}},i=l,c=r("2877"),h=Object(c["a"])(i,a,n,!1,null,null,null);h.options.__file="table-grid.vue";e["default"]=h.exports}}]);