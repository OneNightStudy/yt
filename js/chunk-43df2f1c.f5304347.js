(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43df2f1c"],{9258:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Form",{ref:"triggerNodeForm",attrs:{model:e.triggerNodeForm,"label-width":100,id:"triggerNodeForm",rules:e.triggerNodeFormValidate}},[r("FormItem",{attrs:{label:"节点名称",prop:"name"}},[r("Input",{staticStyle:{width:"300px"},attrs:{clearable:""},model:{value:e.triggerNodeForm.name,callback:function(t){e.$set(e.triggerNodeForm,"name",t)},expression:"triggerNodeForm.name"}})],1),r("FormItem",{attrs:{label:"节点类型"}},[r("Input",{staticStyle:{width:"300px"},attrs:{disabled:""},model:{value:e.type1,callback:function(t){e.type1=t},expression:"type1"}})],1),r("FormItem",{attrs:{label:"节点说明",prop:"desc"}},[r("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",autosize:{minRows:3,maxRows:4},clearable:""},model:{value:e.triggerNodeForm.desc,callback:function(t){e.$set(e.triggerNodeForm,"desc",t)},expression:"triggerNodeForm.desc"}})],1),r("FormItem",{attrs:{label:"流程选择"}},[r("Cascader",{staticStyle:{width:"300px"},attrs:{data:e.processChoice},model:{value:e.right,callback:function(t){e.right=t},expression:"right"}})],1),r("FormItem",{attrs:{label:"赋值变量"}},[r("RadioGroup",{staticStyle:{width:"400px"},model:{value:e.triggerNodeForm.variable,callback:function(t){e.$set(e.triggerNodeForm,"variable",t)},expression:"triggerNodeForm.variable"}},[r("Radio",{attrs:{label:0}},[e._v("直接指定")]),r("Radio",{attrs:{label:1}},[e._v("变量指定")]),r("Radio",{attrs:{label:2}},[e._v("无")])],1)],1),"0"==e.triggerNodeForm.variable?r("FormItem",{attrs:{label:"参数"}},[r("Input",{staticStyle:{width:"300px"},attrs:{clearable:""},model:{value:e.triggerNodeForm.variableStr,callback:function(t){e.$set(e.triggerNodeForm,"variableStr",t)},expression:"triggerNodeForm.variableStr"}})],1):e._e(),"2"==e.triggerNodeForm.variable?r("FormItem",{attrs:{label:"参数"}},[r("Input",{staticStyle:{width:"300px"},attrs:{disabled:""}})],1):e._e(),"1"==e.triggerNodeForm.variable?r("FormItem",{attrs:{label:"变量"}},[r("Cascader",{class:["常量"==e.variableFive[0]?"w100":"w200"],staticStyle:{display:"inline-block"},attrs:{data:e.getProcessArray},model:{value:e.variableFive,callback:function(t){e.variableFive=t},expression:"variableFive"}}),"常量"==e.variableFive[0]?r("Input",{staticClass:"inputLeft",staticStyle:{display:"inline-block",width:"100px"},model:{value:e.leftConstant,callback:function(t){e.leftConstant=t},expression:"leftConstant"}}):e._e()],1):e._e()],1)],1)},i=[],s=r("99d3"),l={data:function(){return{type1:"",right:[],variableFive:[],leftConstant:"",triggerNodeForm:{variable:"0",processId:"",processName:"",variableFive:{}},triggerNodeFormValidate:{name:[{required:!0,message:"节点名称不能为空",trigger:"blur"},{max:20,message:"最多输入20个字符",trigger:"blur"}],desc:[{max:200,message:"最多输入200个字符",trigger:"blur"}]},processChoice:[],baseObj:{type:"",se:{},tr:{},fo:{},fv:{}}}},computed:{getProcessArray:function(){return this.$store.state.yt.processArray}},methods:{init:function(e){var t=this;this.getRequest("/operation/NodeTrigger/process?id="+e).then(function(e){0==e.code&&(t.processChoice=e.content)}),this.getRequest("/operation/NodeTrigger?id="+e).then(function(e){if(0==e.code){null==e.content.variable&&(e.content.variable="0"),t.triggerNodeForm=e.content,t.right=[];for(var r=t.processChoice,a=0;a<r.length;a++)for(var i=0;i<r[a].children.length;i++)parseInt(r[a].children[i].value)==e.content.processId&&t.right.push(""+r[a].label,""+r[a].children[i].value);if("1"==t.triggerNodeForm.variable){var l=Object(s["b"])(e.content.variableFive);"常量"==l[0]?(t.leftConstant=l[2],t.variableFive=t.deepClone(l),t.variableFive.splice(2,1)):t.variableFive=l}t.type1=Object(s["a"])(e.content)}})},getData:function(){for(var e=this.processChoice,t=0;t<e.length;t++)if(e[t].label==this.right[0])for(var r=0;r<e[t].children.length;r++)e[t].children[r].value==this.right[1]&&(this.triggerNodeForm.processId=e[t].children[r].value,this.triggerNodeForm.processName=e[t].children[r].label);if("1"==this.triggerNodeForm.variable){if("常量"==this.variableFive[0]){var a=this.deepClone(this.variableFive);a.push(this.leftConstant),this.triggerNodeForm.variableFive=Object(s["c"])(a)}else this.triggerNodeForm.variableFive=Object(s["c"])(this.variableFive);this.triggerNodeForm.variableStr=""}else"0"==this.triggerNodeForm.variable?this.triggerNodeForm.variableFive={}:(this.triggerNodeForm.variableFive={},this.triggerNodeForm.variableStr="");return this.triggerNodeForm}}},o=l,n=r("2877"),c=Object(n["a"])(o,a,i,!1,null,null,null);c.options.__file="trigger.vue";t["default"]=c.exports},"99d3":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return s});r("7f7f");var a=function(e){var t;switch(e.type){case 0:t="开始";break;case 1:t="结束";break;case 2:t="指令";break;case 3:t="指标";break;case 4:t="数据";break;case 5:t="报告";break;case 6:t="判断";break;case 7:t="循环";break;case 8:t="触发";break;default:break}return t},i=function(e){var t=e;switch(t.type){case 2:t.type="指令节点";break;case 3:t.type="指标节点";break;case 4:t.type="数据处理节点";break;case 5:t.type="循环节点";break;case 6:t.type="判断节点";break;case 7:t.type="报告节点";break;case 8:t.type="触发节点";break;case 9:t.type="系统变量";break;case 10:t.type="常量";break;case 11:t.type="节点属性";break;default:t.type="";break}var r=[];return r.push(""+t.type),"常量"==t.type?(t.se&&(0==parseInt(t.se.num)?r.push("字符"):1==parseInt(t.se.num)&&r.push("数值"),r.push(""+t.se.name)),r):(t.se&&r.push(""+t.se.name),t.tr&&r.push(""+t.tr.name),t.fo&&r.push(""+t.fo.name),t.fv&&r.push(""+t.fv.name),r)},s=function(e){var t={type:"",se:{},tr:{},fo:{},fv:{}};if(e.length){switch(e[0]){case"指令节点":t.type="2";break;case"指标节点":t.type="3";break;case"数据处理节点":t.type="4";break;case"循环节点":t.type="5";break;case"判断节点":t.type="6";break;case"报告节点":t.type="7";break;case"触发节点":t.type="8";break;case"系统变量":t.type="9";break;case"常量":t.type="10";break;case"节点属性":t.type="11";break;default:t.type=null;break}if("10"==t.type)return e.length>1?(t.se.name=e[1],"字符"==e[1]?(t.se.num="0",t.se.name=e[2]):"数值"==e[1]&&(t.se.num="1",t.se.name=e[2])):t.se=null,t.tr=null,t.fo=null,t.fv=null,t;e.length>1?(t.se.name=e[1],"网元变量"==e[1]||"数值"==e[1]||"开始节点"==e[1]?t.se.num="1":"循环节点"==e[1]?t.se.num="2":t.se.num="0"):t.se=null,e.length>2?(t.tr.name=e[2],"流程运行时间"==e[2]?t.tr.num="1":t.tr.num="0"):t.tr=null,e.length>3?(t.fo.name=e[3],"当前循环变量值"==e[3]?t.fo.num="1":t.fo.num="0"):t.fo=null,e.length>4?(t.fv.name=e[4],t.fv.num="0"):t.fv=null}else t.type=null;return t}}}]);