(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-105304f8"],{"2dca":function(t,e,o){var i=o("8cc3");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("499e").default;n("7593c7ba",i,!0,{sourceMap:!1,shadowMode:!1})},"8cc3":function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,"\n.orderOp .name .ivu-form-item{width:500px\n}\n.orderOp .ivu-divider-horizontal.ivu-divider-with-text-left:before{width:1%\n}\n.orderOp .ivu-divider-horizontal.ivu-divider-with-text-left .ivu-divider-inner-text,.orderOp .ivu-divider-horizontal.ivu-divider-with-text-right .ivu-divider-inner-text{font-weight:700\n}\n#orderModal .ivu-collapse .ivu-checkbox-group{display:inline-block\n}\n#orderModal .orderTitle{padding:7px 16px\n}\n#orderModal .dividerBottom{margin-bottom:20px\n}\n#orderModal .judgeBox{padding:0 20px 20px\n}\n#orderModal .judgeRules{padding:6px;line-height:30px\n}\n#orderModal .judgeCheckBox{padding:20px;border:1px solid #f90\n}\n.draButton{display:inline-block\n}\n.calJson,.outputDeploies{width:90%;display:flex;flex-wrap:wrap;min-height:40px;padding:10px 10px 0;border:1px solid #dcdee2;border-radius:4px\n}\n.calJson .no-move,.outputDeploies .no-move{transition:-webkit-transform 0s;transition:transform 0s;transition:transform 0s,-webkit-transform 0s\n}\n.calJson .ghost,.outputDeploies .ghost{opacity:.5;background:#c8ebfb\n}\n.calJson .elementColor0,.calJson .elementColor1,.calJson .elementColor2,.outputDeploies .elementColor0,.outputDeploies .elementColor1,.outputDeploies .elementColor2{background:#ea7e7e\n}\n.calJson .elementColor3,.calJson .elementColor4,.calJson .elementColor5,.outputDeploies .elementColor3,.outputDeploies .elementColor4,.outputDeploies .elementColor5{background:#e3e6de\n}\n.drag-item{padding:4px 18px;color:#000;border:1px solid #ccc;margin-right:10px;margin-bottom:10px;position:relative;cursor:pointer\n}\n.drag-item .ivu-icon{position:absolute;right:0;top:0;color:#fff;cursor:pointer;background:#096\n}",""])},c62b:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home-main"},[o("Row",[o("Col",[o("Card",[o("section",{staticClass:"searchArray"},[o("search-filter",{attrs:{filter:t.filterList,apiurl:"orderSet"},on:{getlist:t.getList}}),o("div",{staticClass:"btnArray"},[o("Button",{attrs:{type:"primary",icon:"md-add",id:"addNew"},on:{click:function(e){t.init({},"新增")}}},[t._v("新增")])],1)],1),o("Row",[o("Table",{ref:"table",attrs:{loading:t.loading,height:t.tableHeight,border:"",size:"small",columns:t.columns,data:t.data,"highlight-row":"",id:"orderSetTable"},on:{"on-row-dblclick":function(e){t.init(e,"查看")}}})],1),o("Row",{staticClass:"tablePage",attrs:{type:"flex",justify:"end"}},[o("Page",{attrs:{current:t.pageNumber,total:t.total,"page-size":t.pageSize,"page-size-opts":[20,50,100],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1)],1)],1),o("Modal",{attrs:{title:t.modalTitle,width:"800"},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[o("Table",{attrs:{columns:t.modalColumns,data:t.modalData}})],1),o("div",{staticClass:"orderOp"},[o("Modal",{attrs:{title:t.btnName,fullscreen:"",id:"orderModal","footer-hide":""},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[o("order-set-form",{ref:"orderSetForm",attrs:{id:"orderSetForm"},on:{"on-cancel":t.formHide,"on-add":t.formAdd,"on-show":t.formShow}})],1)],1)],1)},n=[],r=o("be94"),a=o("51b7"),s={components:{orderSetForm:a["default"]},data:function(){var t=this;return{filterList:["keySelect","query"],dataType:["neCategory","neType","neProducer"],filterData:{},pageNumber:1,pageSize:20,total:0,loading:!1,columns:[{type:"index",width:60,align:"center"},{title:"指令集名称",width:250,key:"orderSetName",sortable:!0},{title:"引用指令解析名称",width:350,key:"analysisNames"},{title:"描述信息",width:160,key:"remark"},{title:"操作",key:"action",fixed:"right",width:350,align:"center",render:function(e,o){var i="none";return 3!=t.$store.state.yt.userRole&&(i="inline-block"),e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.init(o.row,"修改")}}},"修改"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.init(o.row,"复制")}}},"复制"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.init(o.row,"查看")}}},"查看"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",display:i},on:{click:function(){t.audit(o.row)}}},"审核"),e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.del(o.row)}}},"删除"),e("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.stop(o.row)}}},"停用")])}},{title:"设备厂家",width:100,key:"neProducer"},{title:"网元类别",width:100,key:"neCategory"},{title:"网元类型",width:100,key:"neType"},{title:"指令集状态",width:160,key:"auditStatus",render:function(t,e){return"已审核"===e.row.auditStatus?t("div",[t("Tag",{props:{type:"dot",color:"success"}},e.row.auditStatus)]):"草稿"===e.row.auditStatus?t("div",[t("Tag",{props:{type:"dot",color:"info"}},e.row.auditStatus)]):t("div",[t("Tag",{props:{type:"dot",color:"error"}},e.row.auditStatus)])}},{title:"创建人员",width:160,key:"creater"},{title:"创建时间",width:160,key:"createTime",sortable:!0,render:function(e,o){return e("div",t.formatDate(new Date(o.row.createTime),"yyyy-MM-dd HH:mm:ss"))}},{title:"修改人员",width:100,key:"updater"},{title:"最近修改时间",width:160,key:"updateTime",sortable:!0,render:function(e,o){return e("div",t.formatDate(new Date(o.row.updateTime),"yyyy-MM-dd HH:mm:ss"))}},{title:"审核人员",width:160,key:"auditor"},{title:"审核时间",width:160,key:"auditTime",sortable:!0,render:function(e,o){return e("div",t.formatDate(new Date(o.row.updateTime),"yyyy-MM-dd HH:mm:ss"))}}],userInfo:JSON.parse(localStorage.getItem("userInfo")),data:[],tableHeight:450,modalVisible:!1,modalColumns:[{title:"地市",key:"operateCity"},{title:"网元类别",key:"neCategory"},{title:"网元类型",key:"neType"},{title:"设备厂家",key:"neProducer"},{title:"任务名",key:"routineJobName"},{title:"指令集",key:"neNames"},{title:"状态",key:"jobStatus"}],modalData:[],modalTitle:"错误信息",row:{},btnName:"查看",modal1:!1}},methods:{getList:function(t){var e=this;this.loading=!0,t&&(this.filterData=t);var o=Object(r["a"])({},this.filterData,{pageNumber:this.pageNumber,pageSize:this.pageSize});this.getRequest("/routinejob/orderSet",o).then(function(t){e.data=t.content.list,e.total=t.content.total,e.loading=!1})},changePage:function(t){this.pageNumber=t,this.$refs.table.selectAll(!1),this.getList()},changePageSize:function(t){this.pageSize=t,this.getList()},audit:function(t){var e=this;"已审核"===t.auditStatus?this.$Message.info({content:'你选择的任务已经是<span style="color:#f90"> '+t.auditStatus+" </span>态,无需重复操作",duration:10,closable:!0}):this.$Modal.confirm({title:"确定通过审核?",content:"建议审核前先查看",onOk:function(){e.putYTRequest("/routinejob/orderSet/audit?id="+t.orderSetId+"&auditor="+e.userInfo.username+"&message=已审核").then(function(o){0===o.code?(e.$Message.info({content:o.result,duration:10,closable:!0}),t.auditStatus="已审核"):e.$Message.error({content:o.result,duration:10,closable:!0})})}})},del:function(t){var e=this;this.$Modal.confirm({title:"删除",content:"您确认删除该条数据?",onOk:function(){e.deleteRequest("/routinejob/orderSet?id="+t.orderSetId+"&deleter="+e.userInfo.username).then(function(t){0===t.code?(e.$Message.success("删除成功"),e.getList()):(e.$Message.error({content:t.result,duration:10,closable:!0}),e.modalVisible=!0,e.modalData=t.content)})}})},stop:function(t){var e=this;"草稿"===t.auditStatus?this.$Message.info({content:'你选择的任务已经是<span style="color:#f90"> '+t.auditStatus+" </span>态,无需重复操作",duration:10,closable:!0}):this.$Modal.confirm({title:"停用",content:"您确认停用该条数据?",onOk:function(){e.putYTRequest("/routinejob/orderSet/stop?id="+t.orderSetId+"&updater="+e.userInfo.username).then(function(o){0===o.code?(e.$Message.success("停用成功"),t.auditStatus="草稿"):(e.$Message.error({content:o.result,duration:10,closable:!0}),e.modalVisible=!0,e.modalData=o.content)})}})},formShow:function(){this.modal1=!0},formHide:function(){this.modal1=!1},formAdd:function(){this.modal1=!1,this.getList()},init:function(t,e){this.getThreeAndFour(this),this.btnName=e,this.$refs.orderSetForm.init(t,e)}},computed:{},watch:{},created:function(){this.getList()},mounted:function(){this.tableHeight=window.innerHeight-270}},l=s,d=(o("d1bb"),o("2877")),u=Object(d["a"])(l,i,n,!1,null,null,null);u.options.__file="orderSet.vue";e["default"]=u.exports},d1bb:function(t,e,o){"use strict";var i=o("2dca"),n=o.n(i);n.a}}]);