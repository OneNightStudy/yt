(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-662a5877","chunk-98ccf10c"],{"081a":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-div ivu-input",attrs:{contenteditable:e.canEdit},domProps:{innerHTML:e._s(e.innerText)},on:{focus:e.changeFocus,blur:e.changeBlur,input:e.changeText}})},a=[],i=(r("a481"),{name:"editDiv",props:{value:{type:String,default:""},canEdit:{type:Boolean,default:!0}},data:function(){return{innerText:this.value,searchValue:"",isLocked:!1}},watch:{value:function(){this.isLocked&&this.innerText||(this.innerText=this.value)}},methods:{changeText:function(){var e=this,t=2e4;this.$el.innerText.length>t&&(this.$Message.error({content:"已经超出"+t+"个字符",duration:3}),this.$nextTick(function(){e.$el.innerText=e.$el.innerText.substring(0,t)})),this.$emit("input",this.$el.innerText)},changeBlur:function(){this.innerText=this.innerText.replace(/<span class=\"[0-9A-Za-z]*\">/g,"").replace(/<\/span>/g,""),this.isLocked=!1,this.$emit("input",this.$el.innerText)},changeFocus:function(){this.innerText=this.innerText.replace(/<span class=\"[0-9A-Za-z]*\">/g,"").replace(/<\/span>/g,""),this.innerText=this.innerText.replace(/[<>]/g,function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]}),this.isLocked=!0,this.$emit("input",this.$el.innerText)}}}),s=i,l=(r("faaa"),r("2877")),o=Object(l["a"])(s,n,a,!1,null,null,null);o.options.__file="vEditDiv.vue";t["default"]=o.exports},"28a5":function(e,t,r){r("214f")("split",2,function(e,t,n){"use strict";var a=r("aae3"),i=n,s=[].push,l="split",o="length",u="lastIndex";if("c"=="abbc"[l](/(b)*/)[1]||4!="test"[l](/(?:)/,-1)[o]||2!="ab"[l](/(?:ab)*/)[o]||4!="."[l](/(.?)(.?)/)[o]||"."[l](/()()/)[o]>1||""[l](/.?/)[o]){var c=void 0===/()??/.exec("")[1];n=function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!a(e))return i.call(r,e,t);var n,l,d,p,m,h=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,v=void 0===t?4294967295:t>>>0,y=new RegExp(e.source,g+"g");c||(n=new RegExp("^"+y.source+"$(?!\\s)",g));while(l=y.exec(r)){if(d=l.index+l[0][o],d>f&&(h.push(r.slice(f,l.index)),!c&&l[o]>1&&l[0].replace(n,function(){for(m=1;m<arguments[o]-2;m++)void 0===arguments[m]&&(l[m]=void 0)}),l[o]>1&&l.index<r[o]&&s.apply(h,l.slice(1)),p=l[0][o],f=d,h[o]>=v))break;y[u]===l.index&&y[u]++}return f===r[o]?!p&&y.test("")||h.push(""):h.push(r.slice(f)),h[o]>v?h.slice(0,v):h}}else"0"[l](void 0,0)[o]&&(n=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function(r,a){var i=e(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,i,a):n.call(String(i),r,a)},n]})},"2b44":function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"\n.edit-div{width:100%;height:100%;overflow:auto;word-break:break-all;outline:none;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;white-space:pre-wrap;text-align:left\n}\n.edit-div[contenteditable=true]{user-modify:read-write-plaintext-only;-webkit-user-modify:read-write-plaintext-only\n}\n.edit-div[contenteditable=true]:empty:before{content:attr(placeholder);display:block;color:#ccc\n}",""])},"2e8f":function(e,t,r){"use strict";var n=r("342d"),a=r.n(n);a.a},"342d":function(e,t,r){var n=r("5399");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("499e").default;a("4efa8ba0",n,!0,{sourceMap:!1,shadowMode:!1})},5399:function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,'\n#orderAnalysisForm .filter{-webkit-filter:grayscale(100%) opacity(.5);filter:grayscale(100%) opacity(.5)\n}\n#orderAnalysisForm .ivu-collapse .ivu-checkbox-group{display:inline-block\n}\n#orderAnalysisForm .regLog .ivu-input{min-height:200px;max-height:500px;overflow-y:scroll;color:#000\n}\n#orderAnalysisForm .regLog .gray{background:grey!important\n}\n#orderAnalysisForm .regLog .light1{background:#f40!important\n}\n#orderAnalysisForm .regLog .light0{background:#ff0!important\n}\n#orderAnalysisForm .regLog .ivu-form-item-content{text-align:center\n}\n#orderAnalysisForm .name .ivu-form-item{width:500px\n}\n#orderAnalysisForm .ivu-divider-horizontal.ivu-divider-with-text-left:before{width:1%\n}\n#orderAnalysisForm .ivu-divider-horizontal.ivu-divider-with-text-left .ivu-divider-inner-text,#orderAnalysisForm .ivu-divider-horizontal.ivu-divider-with-text-right .ivu-divider-inner-text{font-weight:700\n}\n#orderAnalysisForm .ffc{background:#ffc\n}\n#orderAnalysisForm .rulesCard{position:fixed;right:1%\n}\n#orderAnalysisForm .rulesCard .ivu-card-body{padding:10px 16px\n}\n#orderAnalysisForm .rulesCard .listArray{display:flex;flex-flow:row wrap;justify-content:center\n}\n#orderAnalysisForm .rulesCard .ivu-radio-wrapper{margin-right:40px\n}\n#orderAnalysisForm .rulesCard .ivu-radio-group{vertical-align:top\n}\n#orderAnalysisForm .rulesCard .rulesNum{display:flex\n}\n#orderAnalysisForm .rulesCard .rulesNum .ivu-checkbox-group-item{display:block;height:30px;line-height:30px\n}\n#orderAnalysisForm .rulesCard .rulesNum .ivu-checkbox-wrapper,#orderAnalysisForm .rulesCard .rulesNum .ivu-radio-wrapper{font-size:14px\n}\n#orderAnalysisForm .endLine .ivu-input-wrapper,#orderAnalysisForm .rulesLengthInput .ivu-input-wrapper,#orderAnalysisForm .startLine .ivu-input-wrapper{width:40px\n}\n#orderAnalysisForm .flip-list-move{transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s,-webkit-transform .5s\n}\n#orderAnalysisForm .no-move{transition:-webkit-transform 0s;transition:transform 0s;transition:transform 0s,-webkit-transform 0s\n}\n#orderAnalysisForm .ghost{opacity:.5;background:#f40!important\n}\n#orderAnalysisForm .list-group{min-height:50px;margin-top:20px;overflow:hidden\n}\n#orderAnalysisForm .list-group>div:not(".clearfloat"){min-height:20px\n}\n#orderAnalysisForm .list-group>span{display:flex;flex-wrap:wrap;padding:6px\n}\n#orderAnalysisForm .list-group .list-group-item{width:140px;color:#000\n}\n#orderAnalysisForm .list-group .list-group-item.cardOn{box-shadow:0 0 2px #57a3f3;border:1px solid #57a3f3\n}\n#orderAnalysisForm .list-group .list-card{padding:20px 14px\n}\n#orderAnalysisForm .list-group-item{cursor:move;width:120px;margin:0 20px 20px 0;text-align:center;position:relative;top:0;left:0;overflow:hidden\n}\n#orderAnalysisForm .list-group-item .ivu-icon{position:absolute;right:4px;top:4px;color:#fff;cursor:pointer;background:#096\n}\n#orderAnalysisForm .list-group-item .propsTxt{padding-bottom:10px\n}\n#orderAnalysisForm .list-group-item .propsTxt>div{text-overflow:ellipsis;overflow:hidden\n}\n#orderAnalysisForm .list-group-item .bottomColor{width:100%;padding-bottom:0;cursor:pointer;position:absolute;left:0;bottom:0;display:flex\n}\n#orderAnalysisForm .list-group-item .bottomColor>div{flex:auto;height:20px;border-top:1px solid #eee\n}\n#orderAnalysisForm .bottomWGray{background:#fff\n}\n#orderAnalysisForm .bottomDark{background:#2b85e4\n}\n#orderAnalysisForm .bottomWarning{background:#f90\n}\n#orderAnalysisForm .bottomWGray20{background:#fff\n}\n#orderAnalysisForm .bottomDark20{background:rgba(43,133,228,.4)\n}\n#orderAnalysisForm .bottomWarning20{background:rgba(255,153,0,.4)\n}\n#orderAnalysisForm .list-card{padding:14px\n}\n#orderAnalysisForm .labelProps{text-align:center\n}\n#orderAnalysisForm .labelProps .ivu-icon{margin-left:10px;cursor:pointer\n}\n#orderAnalysisForm .ivu-modal-footer{text-align:left\n}\n#orderAnalysisForm .columnsNames,#orderAnalysisForm .mg10{margin-bottom:10px\n}\n@media screen and (max-height:800px){\n#orderAnalysisForm .rulesCard .ivu-card-body{padding:0 16px!important\n}\n#orderAnalysisForm .rulesCard .ivu-divider-horizontal.ivu-divider-with-text-center,#orderAnalysisForm .rulesCard .ivu-divider-horizontal.ivu-divider-with-text-left,#orderAnalysisForm .rulesCard .ivu-divider-horizontal.ivu-divider-with-text-right{margin:10px 0\n}\n#orderAnalysisForm .rulesCard .list-group-item{margin:0 10px 10px 0\n}\n#orderAnalysisForm .rulesCard .list-card{padding:8px\n}\n#orderAnalysisForm .rulesCard .rulesNum{padding:0 4px 6px\n}\n#orderAnalysisForm .rulesCard .ivu-radio-wrapper{margin-right:20px\n}\n}',""])},7514:function(e,t,r){"use strict";var n=r("5ca1"),a=r("0a49")(5),i="find",s=!0;i in[]&&Array(1)[i](function(){s=!1}),n(n.P+n.F*s,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(i)},"788d":function(e,t,r){var n=r("5ca1"),a=r("6821"),i=r("9def");n(n.S,"String",{raw:function(e){var t=a(e.raw),r=i(t.length),n=arguments.length,s=[],l=0;while(r>l)s.push(String(t[l++])),l<n&&s.push(String(arguments[l]));return s.join("")}})},"86d3":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",{attrs:{gutter:16}},[r("Col",{attrs:{span:"15"}},[r("Card",{staticClass:"name"},[r("h2",{staticStyle:{"text-align":"center","margin-top":"10px"}},[e._v("指令解析配置")]),r("Form",{ref:"opForm",attrs:{model:e.opForm,"label-width":200,rules:e.opFormValidate,id:"opForm"}},[r("Divider",{attrs:{orientation:"left"}},[e._v("命名配置")]),r("FormItem",{attrs:{label:"分类属性",prop:"keySelect"}},[r("Cascader",{attrs:{data:e.keyGetSelect,"element-id":"orderAnalysiskeySelect"},model:{value:e.opForm.keySelect,callback:function(t){e.$set(e.opForm,"keySelect",t)},expression:"opForm.keySelect"}})],1),r("FormItem",{attrs:{label:"指令解析名称",prop:"orderAnalysisName"}},[r("Input",{attrs:{maxlength:30,"element-id":"orderAnalysisname"},model:{value:e.opForm.orderAnalysisName,callback:function(t){e.$set(e.opForm,"orderAnalysisName",t)},expression:"opForm.orderAnalysisName"}})],1),r("FormItem",{attrs:{label:"描述",prop:"description"}},[r("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:e.opForm.description,callback:function(t){e.$set(e.opForm,"description",t)},expression:"opForm.description"}})],1),r("Divider",{attrs:{orientation:"left"}},[e._v("解析配置")]),r("div",{staticClass:"none"},[e._v(e._s(e.regCreate))]),r("div",{staticClass:"none"},[e._v(e._s(e.panelNumChange))]),r("div",{staticClass:"none"},[e._v(e._s(e.rolesSelectedChange))]),r("Collapse",{on:{"on-change":e.panelChange},model:{value:e.panelNum,callback:function(t){e.panelNum=t},expression:"panelNum"}},e._l(e.rulesArray,function(t,n){return r("Panel",{key:n,class:{ffc:t.select},attrs:{name:""+(n+1),id:"orderAnalysisjson-"+n}},[3!=n&&4!=n?r("label",{staticClass:"ivu-checkbox-wrapper ivu-checkbox-default",class:{"ivu-checkbox-wrapper-checked":t.select},on:{click:function(t){t.stopPropagation(),e.getRoles(t,n)}}},[r("span",{staticClass:"ivu-checkbox",class:{"ivu-checkbox-checked":t.select}},[r("span",{staticClass:"ivu-checkbox-inner"}),r("input",{staticClass:"ivu-checkbox-input",attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:t.select}})])]):e._e(),3==n||4==n?r("label",{staticClass:"ivu-checkbox-wrapper ivu-checkbox-default",class:{"ivu-checkbox-wrapper-checked":t.select}},[r("span",{staticClass:"ivu-checkbox",class:{"ivu-checkbox-checked":t.select}},[r("span",{staticClass:"ivu-checkbox-inner"}),r("input",{staticClass:"ivu-checkbox-input",attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:t.select}})])]):e._e(),r("span",[e._v(e._s(t.text))]),n<=3?r("p",{staticStyle:{overflow:"hidden",padding:"4px"},attrs:{slot:"content"},on:{dragover:function(e){e.preventDefault()},drop:function(t){e.drop(t,n)}},slot:"content"},[r("Checkbox",{class:{filter:e.$data["filter"+n].indexOf("过滤后第")>=0},attrs:{id:"orderAnalysismanual-"+n},on:{"on-change":function(t){e.Inputfocus(t,n)}},model:{value:e.$data["regSelected"+n],callback:function(t){e.$set(e.$data,"regSelected"+n,t)},expression:"$data['regSelected'+num]"}},[e._v("启用手动编辑表达式")]),0==n?r("CheckboxGroup",{model:{value:e.filter0,callback:function(t){e.filter0=t},expression:"filter0"}},[r("Checkbox",{attrs:{label:"过滤空白行"}}),r("Checkbox",{attrs:{label:"过滤规则所在整行"}})],1):e._e(),1==n?r("RadioGroup",{model:{value:e.filter1,callback:function(t){e.filter1=t},expression:"filter1"}},[r("Radio",{attrs:{label:"从过滤后第N行开始"}},[r("span",{staticClass:"startLine"},[e._v("\n                        从过滤后第\n                        "),r("Input",{model:{value:e.startLine,callback:function(t){e.startLine=t},expression:"startLine"}}),e._v("\n                        行开始\n                      ")],1)]),r("Radio",{class:{filter:e.$data["filter"+n].indexOf("过滤后第")>=0},attrs:{label:"从规则行开始"}}),r("Radio",{class:{filter:e.$data["filter"+n].indexOf("过滤后第")>=0},attrs:{label:"从规则行下一行开始"}})],1):e._e(),2==n?r("RadioGroup",{model:{value:e.filter2,callback:function(t){e.filter2=t},expression:"filter2"}},[r("Radio",{attrs:{label:"过滤后第N行结束"}},[r("span",{staticClass:"endLine"},[e._v("\n                        过滤后第\n                        "),r("Input",{model:{value:e.endLine,callback:function(t){e.endLine=t},expression:"endLine"}}),e._v("\n                        行结束\n                      ")],1)]),r("Radio",{class:{filter:e.$data["filter"+n].indexOf("过滤后第")>=0},attrs:{label:"到规则行上一行结束"}}),r("Radio",{class:{filter:e.$data["filter"+n].indexOf("过滤后第")>=0},attrs:{label:"到规则行结束"}})],1):e._e(),r("draggable",{staticClass:"list-group",class:[{filter:e.$data["regSelected"+n]||e.$data["filter"+n].indexOf("过滤后第")>=0}],attrs:{element:"div",move:e.onMove,options:e.dragOptions},on:{end:function(t){e.datadragEnd(t,n)}},model:{value:e.jsonArray[n],callback:function(t){e.$set(e.jsonArray,n,t)},expression:"jsonArray[num]"}},[r("transition-group",{attrs:{type:"transition",name:"flip-list"}},e._l(e.jsonArray[n],function(t,a){return r("div",{key:t.itemId,staticClass:"list-group-item ivu-card-bordered ivu-card list-card",class:[{cardOn:a==e.active&&n==e.panelNumNow-1},t.color],on:{click:function(t){t.stopPropagation(),e.cardOnToggle(a,n)}}},[r("Icon",{attrs:{type:"md-close"},on:{click:function(t){t.stopPropagation(),e.delCard(a,n)}}}),r("div",{staticClass:"propsTxt"},[r("div",[e._v(e._s(t.label))]),r("div",[e._v(e._s(t.name))]),r("div",[e._v(e._s(t.name1))]),r("div",[e._v(e._s(t.name2))])]),3==n?r("div",{staticClass:"bottomColor"},[r("div",{staticClass:"bottomWGray"}),r("div",{staticClass:"bottomDark"}),r("div",{staticClass:"bottomWarning"})]):e._e()],1)}))],1)],1):e._e(),n<=3?r("div",{attrs:{slot:"content"},slot:"content"},[e.$data["regSelected"+n]?r("Input",{ref:"regSelected"+n,refInFor:!0,class:{filter:e.$data["filter"+n].indexOf("过滤后第")>=0},staticStyle:{width:"70%","margin-right":"10px"},attrs:{"element-id":"orderAnalysismanualReg-"+n},model:{value:e.$data["regInput"+n],callback:function(t){e.$set(e.$data,"regInput"+n,t)},expression:"$data['regInput'+num]"}}):e._e(),e.$data["regSelected"+n]?e._e():r("Input",{class:{filter:e.$data["filter"+n].indexOf("过滤后第")>=0},staticStyle:{width:"70%","margin-right":"10px"},attrs:{disabled:""},model:{value:e.regArray[n],callback:function(t){e.$set(e.regArray,n,t)},expression:"regArray[num]"}}),t.select?r("Button",{attrs:{type:"primary"},on:{click:function(t){t.stopPropagation(),e.ruleTitle(n)}}},[e._v("测试")]):e._e()],1):e._e(),4==n?r("div",{attrs:{slot:"content"},slot:"content"},[0==e.columnsNames.length?r("Button",{attrs:{type:"primary"},on:{click:function(t){t.stopPropagation(),e.columnsNames.push({title:"列1",key:"列1",colName:"列1",typeSet:["3"]}),e.columnsNum=1}}},[e._v("添加列")]):e._e(),e._l(e.columnsNames,function(t,n){return n<e.columnsNum?r("div",{staticClass:"columnsNames mb10"},[r("span",[e._v("列"+e._s(n+1)+"名称：")]),r("Input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{"element-id":"orderAnalysisname-"+n},model:{value:t.colName,callback:function(r){e.$set(t,"colName",r)},expression:"item.colName"}}),r("Cascader",{staticStyle:{width:"250px",display:"inline-block"},attrs:{data:e.sysArr,clearable:"",filterable:""},model:{value:t.typeSet,callback:function(r){e.$set(t,"typeSet",r)},expression:"item.typeSet"}}),0==n?r("Icon",{attrs:{type:"md-add-circle",color:"#2d8cf0",size:"24"},on:{click:function(t){return t.stopPropagation(),e.rowsAdd(t)}}}):e._e(),n>0&&n==e.columnsNum-1?r("Icon",{attrs:{type:"md-close-circle",color:"#2d8cf0",size:"24"},on:{click:function(t){return t.stopPropagation(),e.rowsReduce(t)}}}):e._e()],1):e._e()})],2):e._e(),5==n?r("div",{attrs:{slot:"content"},slot:"content"},[r("CheckboxGroup",{model:{value:e.filter5,callback:function(t){e.filter5=t},expression:"filter5"}},e._l(e.logOutRegArray,function(t){return r("Checkbox",{key:t.label,attrs:{label:t.label}},[r("span",[e._v(e._s(t.label))])])}))],1):e._e()])})),r("Divider",{attrs:{orientation:"left"}},[e._v("样本测试")]),r("FormItem",{staticClass:"regLog",staticStyle:{width:"90%"},attrs:{label:"log样本",prop:"exampleLog"}},[r("v-edit-div",{attrs:{id:"orderAnalysisexampleLog"},model:{value:e.opForm.exampleLog,callback:function(t){e.$set(e.opForm,"exampleLog",t)},expression:"opForm.exampleLog"}}),r("Button",{staticClass:"outPutButton",attrs:{type:"success",id:"orderAnalysisoutPutButton"},on:{click:function(t){t.stopPropagation(),e.ruleTitle(4)}}},[e._v("解析样例")])],1),r("FormItem",{staticClass:"regLog",staticStyle:{width:"90%"},attrs:{label:"解析样例输出",prop:"logOut"}},[r("Table",{staticStyle:{"margin-bottom":"20px"},attrs:{columns:e.logOutColumns,data:e.opForm.logOut}}),"查看"!=e.btnName?r("Button",{attrs:{type:"primary"},on:{click:function(t){e.ruleTitle(5)}}},[e._v("保存")]):e._e(),"查看"!=e.btnName?r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary",id:"orderAnalysisformAdd"},on:{click:function(t){e.ruleTitle(6)}}},[e._v("提交")]):e._e(),r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"warning"},on:{click:e.cancelReg}},[e._v("取消")])],1)],1)],1)],1),r("Col",{staticClass:"rulesCard",attrs:{span:"9"}},[r("Card",{staticClass:"mg10"},[r("Divider",{attrs:{orientation:"left"}},[e._v("标签规则库")]),r("div",{staticClass:"listArray"},e._l(e.labelArray,function(t,n){return r("div",{key:n+10,staticClass:"list-group-item ivu-card ivu-card-bordered list-card",attrs:{draggable:"true"},on:{dragstart:function(r){e.dragstart(r,t,n)},click:function(t){e.dragClick(n)}}},[e._v("\n            "+e._s(t)+"\n          ")])}))],1),r("Card",[r("Divider",{attrs:{orientation:"left"}},[e._v("标签属性")]),r("div",{staticClass:"labelProps"},[r("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(e.active2Title))]),r("Button",{directives:[{name:"show",rawName:"v-show",value:e.active2<=10,expression:"active2<=10"}],attrs:{type:"success",size:"small"},on:{click:e.propsComfirm}},[e._v("应用"),r("Icon",{attrs:{type:"ios-checkmark-circle",size:"16"}})],1)],1),r("div",{staticStyle:{padding:"6px"}},[0==e.active2?r("Input",{model:{value:e.rulesTxt,callback:function(t){e.rulesTxt=t},expression:"rulesTxt"}}):e._e(),1==e.active2?r("div",{staticClass:"rulesNum"},[r("RadioGroup",{attrs:{vertical:""},model:{value:e.rulesNum,callback:function(t){e.rulesNum=t},expression:"rulesNum"}},e._l(e.rulesNumArray,function(t){return r("Radio",{key:t.value,attrs:{label:t.value}},[r("span",[e._v(e._s(t.label))])])})),r("RadioGroup",{attrs:{vertical:""},on:{"on-change":e.changeFloatNum},model:{value:e.rulesLength,callback:function(t){e.rulesLength=t},expression:"rulesLength"}},e._l(e.rulesLengthArray,function(t,n){return r("Radio",{key:t.value,attrs:{label:t.value}},[n<=2?r("span",[e._v(e._s(t.label))]):r("span",{staticClass:"rulesLengthInput"},[e._v(e._s(t.label)+"\n                  "),r("span",{staticStyle:{"margin-left":"30px"}},[r("Input",{ref:"rulesLengthInput1",refInFor:!0,attrs:{placeholder:"必填"},on:{"on-change":e.changeFloatNum,"on-focus":function(t){e.rulesLength="{2,}"}},model:{value:e.rulesLengthInput1,callback:function(t){e.rulesLengthInput1=t},expression:"rulesLengthInput1"}}),e._v(" - "),r("Input",{on:{"on-focus":function(t){e.rulesLength="{2,}"}},model:{value:e.rulesLengthInput2,callback:function(t){e.rulesLengthInput2=t},expression:"rulesLengthInput2"}})],1)])])})),r("CheckboxGroup",{model:{value:e.rulesFloat,callback:function(t){e.rulesFloat=t},expression:"rulesFloat"}},[r("Checkbox",{attrs:{label:"小数.",disabled:!("+"==e.rulesLength||e.rulesLength.indexOf("{")>=0&&e.rulesLengthInput1>0)}})],1)],1):e._e(),2==e.active2?r("RadioGroup",{model:{value:e.rulesSpe,callback:function(t){e.rulesSpe=t},expression:"rulesSpe"}},e._l(e.rulesSpeArray,function(t){return r("Radio",{key:t.value,attrs:{label:t.value}},[r("span",{staticStyle:{"font-size":"18px"}},[e._v(e._s(t.label))])])})):e._e(),e.active2>2&&e.active2<9?r("RadioGroup",{attrs:{vertical:""},model:{value:e.rulesLength,callback:function(t){e.rulesLength=t},expression:"rulesLength"}},e._l(e.rulesLengthArray,function(t,n){return r("Radio",{key:t.value,attrs:{label:t.value}},[n<=2?r("span",[e._v(e._s(t.label))]):r("span",{staticClass:"rulesLengthInput"},[e._v(e._s(t.label)+"\n                "),e.rulesLength.indexOf("{")>=0?r("span",{staticStyle:{"margin-left":"30px"}},[r("Input",{attrs:{placeholder:"必填"},model:{value:e.rulesLengthInput1,callback:function(t){e.rulesLengthInput1=t},expression:"rulesLengthInput1"}}),e._v(" - "),r("Input",{model:{value:e.rulesLengthInput2,callback:function(t){e.rulesLengthInput2=t},expression:"rulesLengthInput2"}})],1):e._e()])])})):9==e.active2?r("RadioGroup",{model:{value:e.rulesDate,callback:function(t){e.rulesDate=t},expression:"rulesDate"}},e._l(e.rulesDateArray,function(t){return r("Radio",{key:t.value,attrs:{label:t.value}},[r("span",[e._v(e._s(t.label))])])})):10==e.active2?r("RadioGroup",{attrs:{vertical:""},model:{value:e.rulesTime,callback:function(t){e.rulesTime=t},expression:"rulesTime"}},e._l(e.rulesTimeArray,function(t){return r("Radio",{key:t.value,attrs:{label:t.value}},[r("span",[e._v(e._s(t.label))])])})):e._e()],1)],1)],1)],1)},a=[],i=(r("ac6a"),r("f3e2"),r("7514"),r("28a5"),r("7f7f"),r("78ce"),r("be94"));r("57e7"),r("a481"),r("6d67"),r("788d");function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l=r("1516"),o=r.n(l),u=r("081a");function c(){var e=s(["[0-2]d=[0-5]d=[0-5]d"],["[0-2]\\d=[0-5]\\d=[0-5]\\d"]);return c=function(){return e},e}function d(){var e=s(["d{4}-[01]d-[0-3]d"],["\\d{4}-[01]\\d-[0-3]\\d"]);return d=function(){return e},e}function p(){var e=s(["*"],["\\*"]);return p=function(){return e},e}function m(){var e=s(["d"],["\\d"]);return m=function(){return e},e}function h(){var e=s(["[01]d-[0-3]d-d{4}"],["[01]\\d-[0-3]\\d-\\d{4}"]);return h=function(){return e},e}function g(){var e=s(["d{4}/[01]d/[0-3]d"],["\\d{4}/[01]\\d/[0-3]\\d"]);return g=function(){return e},e}function f(){var e=s(["d{4}[01]d[0-3]d"],["\\d{4}[01]\\d[0-3]\\d"]);return f=function(){return e},e}function v(){var e=s(["d{4}-[01]d-[0-3]d"],["\\d{4}-[01]\\d-[0-3]\\d"]);return v=function(){return e},e}function y(){var e=s(["[0-2]d:[0-5]ds+[AP]M"],["[0-2]\\d:[0-5]\\d\\s+[AP]M"]);return y=function(){return e},e}function b(){var e=s(["[0-2]d[0-5]d[0-5]d"],["[0-2]\\d[0-5]\\d[0-5]\\d"]);return b=function(){return e},e}function x(){var e=s(["[0-2]d:[0-5]d:[0-5]d"],["[0-2]\\d:[0-5]\\d:[0-5]\\d"]);return x=function(){return e},e}function A(){var e=s(["d{4}&[01]d&[0-3]d"],["\\d{4}&[01]\\d&[0-3]\\d"]);return A=function(){return e},e}function k(){var e=s(["w{3}s+w{3}s+d{1,2}s+d{1,2}:d{1,2}:d{1,2}s+d{4}"],["\\w{3}\\s+\\w{3}\\s+\\d{1,2}\\s+\\d{1,2}:\\d{1,2}:\\d{1,2}\\s+\\d{4}"]);return k=function(){return e},e}function w(){var e=s(["w{3}s+d{1,2}"],["\\w{3}\\s+\\d{1,2}"]);return w=function(){return e},e}function N(){var e=s(["w{3}s+d{1,2}s+d{4}"],["\\w{3}\\s+\\d{1,2}\\s+\\d{4}"]);return N=function(){return e},e}function S(){var e=s(["[01]d/[0-3]d/d{4}"],["[01]\\d/[0-3]\\d/\\d{4}"]);return S=function(){return e},e}function F(){var e=s(["[01]d-[0-3]d-d{4}"],["[01]\\d-[0-3]\\d-\\d{4}"]);return F=function(){return e},e}function L(){var e=s(["d{4}/[01]d/[0-3]d"],["\\d{4}/[01]\\d/[0-3]\\d"]);return L=function(){return e},e}function C(){var e=s(["d{4}[01]d[0-3]d"],["\\d{4}[01]\\d[0-3]\\d"]);return C=function(){return e},e}function _(){var e=s(["d{4}-[01]d-[0-3]d"],["\\d{4}-[01]\\d-[0-3]\\d"]);return _=function(){return e},e}function I(){var e=s(["}"],["\\}"]);return I=function(){return e},e}function O(){var e=s(["{"],["\\{"]);return O=function(){return e},e}function $(){var e=s(["]"],["\\]"]);return $=function(){return e},e}function T(){var e=s(["["],["\\["]);return T=function(){return e},e}function j(){var e=s([")"],["\\)"]);return j=function(){return e},e}function R(){var e=s(["("],["\\("]);return R=function(){return e},e}function D(){var e=s(["\\"],["\\\\"]);return D=function(){return e},e}function M(){var e=s(["+"],["\\+"]);return M=function(){return e},e}function P(){var e=s(["?"],["\\?"]);return P=function(){return e},e}function G(){var e=s(["|"],["\\|"]);return G=function(){return e},e}function z(){var e=s(["$"],["\\$"]);return z=function(){return e},e}function q(){var e=s(["."],["\\."]);return q=function(){return e},e}function E(){var e=s(["*"],["\\*"]);return E=function(){return e},e}function W(){var e=s(["-?d"],["-?\\d"]);return W=function(){return e},e}function B(){var e=s(["-d"],["-\\d"]);return B=function(){return e},e}function J(){var e=s(["d"],["\\d"]);return J=function(){return e},e}function V(){var e=s(["[0-2]d:[0-5]d:[0-5]d"],["[0-2]\\d:[0-5]\\d:[0-5]\\d"]);return V=function(){return e},e}function Z(){var e=s(["d{4}-[01]d-[0-3]d"],["\\d{4}-[01]\\d-[0-3]\\d"]);return Z=function(){return e},e}function Y(){var e=s(["*"],["\\*"]);return Y=function(){return e},e}function H(){var e=s(["d"],["\\d"]);return H=function(){return e},e}var K={components:{draggable:o.a,vEditDiv:u["default"]},data:function(){return{dataType:["neCategory","neType","neProducer"],data:[],modalVisible:!1,modalColumns:[{title:"网元类别",key:"neCategory"},{title:"网元类型",key:"neType"},{title:"设备厂家",key:"neProducer"},{title:"指令集",key:"orderSetName"},{title:"指令集状态",key:"auditStatus"}],modalData:[],modalTitle:"错误信息",userInfo:JSON.parse(localStorage.getItem("userInfo")),submitLoading:!1,maxLength:20,modal1:!1,row:{},btnName:"查看",keySelect:[],opForm:{keySelect:[],exampleLog:'<span class="gray">输入样本</span>\n限制在<span class="light1">20000字符内</span>,不能为空'},opFormValidate:{keySelect:[{required:!0,type:"array",message:"选择不能为空",trigger:"change"}],orderAnalysisName:[{required:!0,message:"指令解析名称不能为空",trigger:"blur"}],exampleLog:[{required:!0,message:"log样本不能为空",trigger:"blur"}]},sysArr:[],rulesArray:[{text:"过滤规则",reg:"过滤表达式",select:!1,disabled:!1},{text:"开始规则",reg:"开始表达式",select:!1,disabled:!1},{text:"结束规则",reg:"结束表达式",select:!1,disabled:!1},{text:"解析规则",reg:"解析表达式",select:!0,disabled:!0},{text:"列属性设置",reg:"解析表达式",select:!0,disabled:!0},{text:"输出调整",reg:"输出表达式",select:!1,disabled:!1}],labelArray:["指定文本","数字","特殊字符","非空字符串","任意字符","任意中文字符","字母","空格","换行","日期","时间","ip","空白行","开始","结束","任意多行"],valueArray:["","","","\\S",".","[\\u4e00-\\u9fa5]","[a-zA-Z]","\\s","[\\r\\n]","","","\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}","\\s*\\n","^","$","[\\s\\S]+?"],jsonArray:[],startLine:1,endLine:1,columnsNum:5,columnsNamesDefault:[{title:"列1",key:"列1",colName:"列1",typeSet:["3"]},{title:"列2",key:"列2",colName:"列2",typeSet:["3"]},{title:"列3",key:"列3",colName:"列3",typeSet:["3"]},{title:"列4",key:"列4",colName:"列4",typeSet:["3"]},{title:"列5",key:"列5",colName:"列5",typeSet:["3"]}],columnsNames:[],logOutColumns:[],filter0:["过滤空白行","过滤规则所在整行"],filter1:"从规则行开始",filter2:"到规则行结束",filter3:"",filter4:"",filter5:["自动补齐"],regSelected0:!1,regSelected1:!1,regSelected2:!1,regSelected3:!1,regSelected4:!1,regSelected5:!1,regInput0:"",regInput1:"",regInput2:"",regInput3:"",regInput4:"",regInput5:"",regArray:[],active:"-1",active2:"0",panelNum:["4"],panelNumNow:"4",rulesNum:String.raw(H()),rulesFloat:[],rulesSpe:String.raw(Y()),rulesTxt:"",rulesLength:"+",rulesLengthInput1:"2",rulesLengthInput2:"",rulesDate:String.raw(Z()),rulesTime:String.raw(V()),rulesNumArray:[{label:"正数",value:String.raw(J())},{label:"负数",value:String.raw(B())},{label:"正负数",value:String.raw(W())}],rulesSpeArray:[{label:"*",value:String.raw(E())},{label:".",value:String.raw(q())},{label:"$",value:String.raw(z())},{label:"|",value:String.raw(G())},{label:"?",value:String.raw(P())},{label:"+",value:String.raw(M())},{label:"\\",value:String.raw(D())},{label:"(",value:String.raw(R())},{label:")",value:String.raw(j())},{label:"[",value:String.raw(T())},{label:"]",value:String.raw($())},{label:"{",value:String.raw(O())},{label:"}",value:String.raw(I())}],rulesLengthArray:[{label:"长度1到多个",value:"+"},{label:"长度0到多个",value:"*"},{label:"长度0或1个",value:"?"},{label:"指定长度",value:"{2,}"}],rulesDateArray:[{label:"1970-01-01",value:String.raw(_())},{label:"19700101",value:String.raw(C())},{label:"1970/01/01",value:String.raw(L())},{label:"08-28-2018",value:String.raw(F())},{label:"08/28/2018",value:String.raw(S())},{label:"Jan 01 1970",value:String.raw(N())},{label:"Jan 01",value:String.raw(w())},{label:"Mon Jan 28 10:30:00 1970",value:String.raw(k())},{label:"1970&01&01",value:String.raw(A())}],rulesTimeArray:[{label:"10:30:00",value:String.raw(x())},{label:"103000",value:String.raw(b())},{label:"10:30 AM",value:String.raw(y())}],logOutRegArray:[{label:"自动补齐",value:String.raw(v())},{label:"去第一行",value:String.raw(f())},{label:"去最后一行",value:String.raw(g())},{label:"过滤重复行",value:String.raw(h())}]}},methods:{init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.opFormInit(),this.row=t,this.btnName=r,"新增"==this.btnName?this.$emit("on-show"):"查看"==this.btnName?(this.$Message.info({content:"请不要在页面内修改,查看无法做保存功能",duration:10,closable:!0}),this.initRequest()):"修改"==this.btnName?this.getRequest("/routinejob/orderAnalysis/checkOrderAnalysis?id="+this.row.orderAnalysisId).then(function(t){0==t.code?e.initRequest():e.$Message.error({content:t.result,duration:10,closable:!0})}):this.initRequest()},initRequest:function(){var e=this;this.getRequest("/routinejob/orderAnalysis/show?id="+this.row.orderAnalysisId).then(function(t){if(0==t.code){var r=t.content;if(r.logOutColumns&&r.logOutColumns.length?e.logOutColumns=e.deepClone(r.logOutColumns):e.logOutColumns=[],r.columnsNames&&r.columnsNames.length){var n=[];r.columnsNames.map(function(e){var t={};t.title=t.key=t.colName=e.colName,void 0!=e.type?(t.type=e.type,t.sysFormat=e.sysFormat?"":e.sysFormat):(t.type="3",t.sysFormat=""),t.typeSet=[""+t.type,""+t.sysFormat],n.push(t)}),e.columnsNames=n}else e.columnsNames=[];e.columnsNum=e.columnsNames.length,e.jsonArray=r.jsonArray,r.rulesArray[4]={text:"列属性设置",reg:"解析表达式",select:!0,disabled:!0},e.rulesArray=r.rulesArray;var a=[];a.push(r.neCategory,r.neType,r.neProducer),e.opForm.keySelect=a,"复制"==e.btnName?e.$set(e.opForm,"orderAnalysisName",r.orderAnalysisName+" - 副本"):e.opForm.orderAnalysisName=r.orderAnalysisName,e.opForm.description=r.description,r.exampleLog=r.exampleLog.replace(/<span class=\"[0-9A-Za-z]*\">/g,"").replace(/<\/span>/g,""),r.exampleLog=r.exampleLog.replace(/[<>]/g,function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"}[e]}),e.$set(e.opForm,"exampleLog",r.exampleLog),e.opForm.logOut=r.logOut?r.logOut:[];var i=r.regSelectedArray;e.rulesArray.map(function(t,n){if(e.regArray.push(""),i[n]&&(e["regSelected"+n]=i[n]),t.select){e["filter"+n]=r.filterArray[n];var a=r.filterArray;a.map(function(t,r){t.indexOf("从过滤后第")>=0&&1==r?(e["filter"+r]="从过滤后第N行开始",e.startLine=t.replace(/[^0-9]/gi,"")):t.indexOf("过滤后第")>=0&&2==r?(e["filter"+r]="过滤后第N行结束",e.endLine=t.replace(/[^0-9]/gi,"")):e["filter"+r]=t})}e["regInput"+n]=r.regInputArray[n]}),e.$emit("on-show")}})},ruleTitle:function(e){var t=this,r=this.opForm.exampleLog.replace(/<span class=\"[0-9A-Za-z]*\">/g,"").replace(/<\/span>/g,""),n={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};r=r.replace(/&(lt|gt|nbsp|amp|quot);/gi,function(e,t){return n[t]});var a=[],i=[],s="";this.rulesArray.map(function(e,r){e.select?1==r&&t["filter"+r].indexOf("从过滤后第")>=0?a.push("从过滤后第"+t.startLine+"行开始"):2==r&&t["filter"+r].indexOf("过滤后第")>=0?a.push("过滤后第"+t.endLine+"行结束"):4==r?a.push(t.columnsNames):a.push(t["filter"+r]):0==r||5==r?a.push([]):a.push(""),s=e.select?t["regSelected"+r]?t["regInput"+r]:t.regArray[r]:"",i.push(s)});var l={regArray:i,realFilterArray:a,exampleLog:r};console.log(l);var o="/testRegex/";switch(e){case 0:o+="filter";break;case 1:o+="start";break;case 2:o+="end";break;case 3:o+="parse";break;default:o+="parse";break}this.postYTRequest(o,l).then(function(r){0==r.status?(console.log(e),e<3?t.$set(t.opForm,"exampleLog",r.data):(t.$set(t.opForm,"logOut",r.data.tableData),r.data.logOutColumns&&(t.isRepeat(r.data.logOutColumns)&&t.$Message.error({content:"有相同列名,请注意",duration:10,closable:!0}),r.data.logOutColumns.length>5?r.data.logOutColumns.map(function(e){e.title=e.key=e.colName,e.width=150}):r.data.logOutColumns.map(function(e){e.title=e.key=e.colName}),t.logOutColumns=t.deepClone(r.data.logOutColumns),t.columnsNames=t.deepClone(r.data.logOutColumns),t.columnsNum=r.data.logOutColumns.length),5==e?t.saveReg("草稿"):6==e&&t.saveReg("生效"))):t.$Message.error(r.msg)})},isRepeat:function(e){var t={},r=[];for(var n in e.map(function(e,t){r.push(e.colName)}),r){if(t[r[n]])return!0;t[r[n]]=!0}return!1},saveReg:function(e){var t=this;this.$refs["opForm"].validate(function(r){if(r){if(t.isRepeat(t.columnsNames))return void t.$Message.error({content:"有相同列名,请修改后再提交",duration:10,closable:!0});var n={};if(t.opForm.keySelect&&"[]"!==JSON.stringify(t.opForm.keySelect))for(var a=t.opForm.keySelect,s=(v=0,a.length);v<s;v++)n[t.dataType[v]]=a[v];var l=[];t.logOutColumns.map(function(e){var t={};t.key=t.title=e.key,l.push(t)});var o=[];t.columnsNames.map(function(e){var t={};t.title=t.key=t.colName=e.colName,e.typeSet&&e.typeSet.length?(t.type=e.typeSet[0],t.sysFormat=e.typeSet[1]?e.typeSet[1]:""):(t.type="3",t.sysFormat=""),o.push(t)}),t["regArray"][4]=o,t["regInput4"]=o;var u=[],c=[],d=[],p=[],m=[],h="";t.rulesArray.map(function(e,r){e.select?1==r&&t["filter"+r].indexOf("从过滤后第")>=0?c.push("从过滤后第"+t.startLine+"行开始"):2==r&&t["filter"+r].indexOf("过滤后第")>=0?c.push("过滤后第"+t.endLine+"行结束"):4==r?c.push(o):c.push(t["filter"+r]):0==r||5==r?c.push([]):c.push(""),h=e.select?t["regSelected"+r]?t["regInput"+r]:t.regArray[r]:"",m.push(h),1==r&&t["filter"+r].indexOf("从过滤后第")>=0?u.push("从过滤后第"+t.startLine+"行开始"):2==r&&t["filter"+r].indexOf("过滤后第")>=0?u.push("过滤后第"+t.endLine+"行结束"):u.push(t["filter"+r]),d.push(t["regInput"+r]),p.push(t["regSelected"+r])});var g=Object(i["a"])({},t.opForm,n,{regArray:m,updater:t.userInfo.username,analysisStatus:e,creater:t.userInfo.username,jsonArray:t.jsonArray,rulesArray:t.rulesArray,filterArray:u,realFilterArray:c,regInputArray:d,regSelectedArray:p,columnsNames:o,logOutColumns:l});console.log(g),localStorage.setItem("para",JSON.stringify(g)),"修改"==t.btnName?t.getRequest("/routinejob/orderAnalysis/checkOrderAnalysis?id="+t.row.orderAnalysisId).then(function(e){0==e.code?(g.orderAnalysisId=e.content.orderAnalysisId,t.putYTRequest("/routinejob/orderAnalysis",g).then(function(e){0==e.code?(t.$Message.info("执行成功"),t.opFormInit(),t.$emit("on-add")):t.$Message.warning(e.result)})):t.$Message.warning(e.result)}):t.postYTRequest("/routinejob/orderAnalysis",g).then(function(e){0==e.code?(t.$Message.info("执行成功"),t.opFormInit(),t.$emit("on-add")):t.$Message.warning(e.result)})}else{for(var f=document.querySelectorAll(".ivu-modal-body"),v=0;v<f.length;v++)f[v].scrollTop=100;t.$Message.error("请完善信息")}})},drop:function(e,t){if(e.dataTransfer.getData("item")){this.active=this.jsonArray[t].length+1;var r={},n=this.active2;r.label=e.dataTransfer.getData("item"),r.value=this.valueArray[n],r.color="bottomWGray20",r.itemId=Date.now()+Math.ceil(1e4*Math.random()),this.jsonArray[t].push(r),this.cardOnToggle(this.active-1,t),this.propsComfirm()}},dragstart:function(e,t,r){this.active=-1,this.active2=r,e.dataTransfer.setData("item",t)},datadragEnd:function(e,t){this.panelNumNow=t+1,e.preventDefault(),this.active=e.newIndex,this.active2=this.labelArray.indexOf(this.jsonArray[this.panelNumNow-1][this.active].label),this.active2Label()},dragClick:function(e){this.active=-1,this.active2=e},onMove:function(e){e.draggedContext,e.relatedContext;return!0},changeFloatNum:function(){"+"==this.rulesLength||this.rulesLength.indexOf("{")>=0&&this.rulesLengthInput1>0||this.rulesFloat.splice(this.rulesFloat.indexOf("小数."),1)},cardOnToggle:function(e,t){var r=event.target.className,n=!!r&&("bottomWGray"==r||"bottomWarning"==r||"bottomDark"==r);n?(this.panelNumNow=t+1,this.active=e,this.active2=this.labelArray.indexOf(this.jsonArray[this.panelNumNow-1][this.active].label),this.jsonArray[this.panelNumNow-1][this.active].color=event.target.className+"20"):t!=this.panelNumNow-1?(this.panelNumNow=t+1,this.active=e,this.active2=this.labelArray.indexOf(this.jsonArray[this.panelNumNow-1][this.active].label)):this.active==e?this.active=-1:(this.active=e,this.active2=this.labelArray.indexOf(this.jsonArray[this.panelNumNow-1][this.active].label)),this.active2Label()},delCard:function(e,t){var r=this;this.panelNumNow=t+1,this.active=e,this.active2=this.labelArray.indexOf(this.jsonArray[this.panelNumNow-1][this.active].label),this.active2Label(),this.$Modal.confirm({title:"注意",content:"<p>确定要删除该规则吗</p>",onOk:function(){r.jsonArray[t].splice(e,1),r.active=-1},onCancel:function(){}})},panelChange:function(e){this.active=-1},Inputfocus:function(e,t){var r=this;e&&this.$nextTick(function(){r.$refs["regSelected"+t][0].focus()})},getRoles:function(e,t){this.rulesArray[t].select=!!e.target.checked},active2Label:function(){if(!(this.active<0)&&this.jsonArray[this.panelNumNow-1][this.active].key){var e=this.jsonArray[this.panelNumNow-1][this.active],t=e.key;if(0==this.active2)this.rulesTxt=t;else if(1==this.active2){this.rulesNum=this.getValue(e.name,this.rulesNumArray),this.rulesLength=this.getValue(e.name1,this.rulesLengthArray),this.rulesFloat=e.name2.split(" ");var r=t.indexOf(",");r>=0&&(this.rulesLengthInput1=t.slice(t.indexOf("{")+1,r),this.rulesLengthInput2=t.slice(r+1,t.indexOf("}")))}else 2==this.active2?this.rulesSpe=t:this.active2>=3&&this.active2<=8?t.indexOf("{")>=0?(t=t.replace("{","").replace("}","").split(","),this.rulesLengthInput1=t[0],this.rulesLengthInput2=t[1]?t[1]:"",this.rulesLength="{2,}"):this.rulesLength=t:9==this.active2?this.rulesDate=t:10==this.active2&&(this.rulesTime=t)}},propsComfirm:function(){var e=this;if(-1!=this.active){var t=this.active2,r="",n="",a="",i="";if(0==t)r=this.rulesTxt,n=r;else if(1==t){var s=this.rulesNum;if(this.rulesLength.indexOf("{")>=0){if(!(this.rulesLengthInput1&&this.rulesLengthInput1>=0))return this.$Message.error("长度不能为空且不能为负"),void this.$nextTick(function(){e.$refs["rulesLengthInput1"][0].focus()});s+="{"+this.rulesLengthInput1+","+this.rulesLengthInput2+"}"}else s+=this.rulesLength;this.rulesFloat.join("").indexOf("小数")>=0&&(s+="\\.?\\d*"),this.rulesFloat.join("").indexOf("百分数")>=0&&(s+="\\%"),r=s,n=this.getLabel(this.rulesNum,this.rulesNumArray),a=this.getLabel(this.rulesLength,this.rulesLengthArray),i=this.rulesFloat.join(" "),this.$set(this.jsonArray[this.panelNumNow-1][this.active],"name1",a),this.$set(this.jsonArray[this.panelNumNow-1][this.active],"name2",i)}else if(2==t)r=this.rulesSpe,n=this.getLabel(this.rulesSpe,this.rulesSpeArray);else if(t>=3&&t<=8){s="";this.rulesLength.indexOf("{")>=0?s+="{"+this.rulesLengthInput1+","+this.rulesLengthInput2+"}":s+=this.rulesLength,r=s,n=this.getLabel(this.rulesLength,this.rulesLengthArray)}else 9==t?(r=this.rulesDate,n=this.getLabel(this.rulesDate,this.rulesDateArray)):10==t?(r=this.rulesTime,n=this.getLabel(this.rulesTime,this.rulesTimeArray)):11==t?(r=this.valueArray[t],n=r):12==t&&(r=this.valueArray[t],n=r);this.$set(this.jsonArray[this.panelNumNow-1][this.active],"key",r),this.$set(this.jsonArray[this.panelNumNow-1][this.active],"name",n),this.$Message.info("应用成功")}else this.$Message.error("未选择标签")},getLabel:function(e,t){var r={};return r=t.find(function(t){return t.value===e}),r.label?r.label:""},getValue:function(e,t){var r={};return r=t.find(function(t){return t.label===e}),r.value?r.value:""},rowsAdd:function(){this.columnsNum=this.columnsNum>=20?20:this.columnsNum+1,this.columnsNames.push({title:"列"+this.columnsNum,key:"列"+this.columnsNum,colName:"列"+this.columnsNum,typeSet:["3"]})},rowsReduce:function(){this.columnsNum<=1?this.columnsNum=1:(this.columnsNum--,this.columnsNames.splice(this.columnsNum,1))},opFormInit:function(){var e=this;this.$refs["opForm"].resetFields(),this.startLine=1,this.endLine=1,this.columnsNum=5,this.columnsNames=this.deepClone(this.columnsNamesDefault),this.logOutColumns=this.deepClone(this.columnsNamesDefault),this.filter0=["过滤空白行","过滤规则所在整行"],this.filter1="从规则行开始",this.filter2="到规则行结束",this.filter3="",this.filter4="",this.filter5=["自动补齐"],this.regSelected0=!1,this.regSelected1=!1,this.regSelected2=!1,this.regSelected3=!1,this.regSelected4=!1,this.regSelected5=!1,this.regInput0="",this.regInput1="",this.regInput2="",this.regInput3="",this.regInput4="",this.regInput5="",this.regArray=[],this.active="-1",this.active2="0",this.panelNum=["4"],this.panelNumNow="4",this.rulesNum=String.raw(m()),this.rulesFloat=[],this.rulesSpe=String.raw(p()),this.rulesTxt="",this.rulesLength="+",this.rulesLengthInput1="2",this.rulesLengthInput2="",this.rulesDate=String.raw(d()),this.rulesTime=String.raw(c()),this.rulesArray=[{text:"过滤规则",reg:"过滤表达式",select:!1,disabled:!1},{text:"开始规则",reg:"开始表达式",select:!1,disabled:!1},{text:"结束规则",reg:"结束表达式",select:!1,disabled:!1},{text:"解析规则",reg:"解析表达式",select:!0,disabled:!0},{text:"列属性设置",reg:"解析表达式",select:!0,disabled:!0},{text:"输出调整",reg:"输出表达式",select:!1,disabled:!1}],this.opForm={keySelect:[],exampleLog:'<span class="gray">输入样本</span>\n限制在<span class="light1">20000字符内</span>,不能为空',orderAnalysisName:"",description:"",logOut:[]},this.jsonArray=[],this.regArray=[],this.rulesArray.map(function(t,r){e.jsonArray.push([]),e.regArray.push("")})},cancelReg:function(){var e=this;this.$Modal.confirm({title:"确定关闭该页面吗",onOk:function(){e.$emit("on-cancel")}})}},computed:{keyGetSelect:function(){return this.$store.state.yt.keySelectArray},panelNumChange:function(){return this.panelNumNow=this.panelNum[this.panelNum.length-1]},rolesSelectedChange:function(){return this.rulesArray.map(function(e){return e.select?e.text:""})},dragOptions:function(){return{animation:0,ghostClass:"ghost"}},active2Title:function(){return this.labelArray[this.active2]},regCreate:function(){var e=this,t="",r=[],n=[];return this.jsonArray.forEach(function(a,i){t="",n=e.jsonArray[i],"[]"!==JSON.stringify(n)&&(n.forEach(function(e,t){e.itemId=e.itemId?e.itemId:Date.now()+Math.ceil(1e4*Math.random())+t,r[t]=e["value"]==e["key"]?e["value"]:e["value"]+e["key"]}),1==n.length?t+="bottomWGray20"==n[0].color?r[0]:"("+r[0]+")":n.forEach(function(e,a){0==a?t+="bottomWGray20"==e.color?r[a]:"("+r[a]+")":a>=1&&a<=n.length-1&&(e.color==n[a-1].color&&"bottomWGray20"!=e.color?t=t.slice(0,-1)+r[a]+")":t+="bottomWGray20"==e.color?r[a]:"("+r[a]+")")})),e.regArray[i]=t}),this.regArray}},created:function(){var e=this,t=[],r=["10:30:00","103000","10:30","1030","10:30 AM","10时30分0秒"],n=["20180828","2018/08/28","08-28-2018","08/28/2018","2018-08-28","180828","Aug 28 2018","Aug 28","2018&08&28","2018年8月"],a=["20180828103000","20180828 103000","2018-08-28 10:30:00","2018-08-28 10:30 AM","2018/08/28 10:30:00","2018/08/28 10:30 AM"],i=[],s=[],l=[];n.map(function(e,t){s.push({value:""+t,label:e})}),r.map(function(e,t){i.push({value:""+t,label:e})}),a.map(function(e,t){l.push({value:""+t,label:e})}),t=[{value:"0",label:"时间",children:i},{value:"1",label:"日期",children:s},{value:"2",label:"日期时间",children:l},{value:"3",label:"文本"},{value:"4",label:"整数"},{value:"5",label:"小数"}],this.sysArr=t,this.columnsNames=this.deepClone(this.columnsNamesDefault),this.logOutColumns=this.deepClone(this.columnsNamesDefault),this.rulesArray.map(function(t,r){e.jsonArray.push([]),e.regArray.push("")})},mounted:function(){document.body.ondrop=function(e){e.preventDefault(),e.stopPropagation()}}},Q=K,U=(r("2e8f"),r("2877")),X=Object(U["a"])(Q,n,a,!1,null,null,null);X.options.__file="orderAnalysisForm.vue";t["default"]=X.exports},a6ed:function(e,t,r){var n=r("2b44");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("499e").default;a("f89cde04",n,!0,{sourceMap:!1,shadowMode:!1})},be94:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r("ade3");function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),a.forEach(function(t){Object(n["a"])(e,t,r[t])})}return e}},faaa:function(e,t,r){"use strict";var n=r("a6ed"),a=r.n(n);a.a}}]);