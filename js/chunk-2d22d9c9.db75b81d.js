(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d9c9"],{f7df:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Row",{staticClass:"br",staticStyle:{"margin-bottom":"2vh"}},[this.tableAdd?s("span",[s("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:e.add}},[e._v(e._s(e.$t("add")))])],1):e._e(),this.tableDelAll?s("span",[s("Button",{attrs:{type:"error",icon:"md-trash"},on:{click:e.delAll}},[e._v(e._s(e.$t("batchDelete")))])],1):e._e(),this.tableRefresh?s("span",[s("Button",{attrs:{type:"success",icon:"md-refresh"},on:{click:e.refresh}},[e._v(e._s(e.$t("refresh")))])],1):e._e(),""!==this.exportFromId?s("span",[s("export-button",{attrs:{exportParams:e.params,exportUrl:e.exportUrl,exportFromId:e.exportFromId}})],1):e._e()]),s("Row",[this.tableDelAll?s("span",[s("Alert",{attrs:{"show-icon":""}},[e._v("\n                "+e._s(e.$t("hasSelected"))+" "),s("span",{staticClass:"select-count"},[e._v(e._s(e.selectCount))]),e._v(" "+e._s(e.$t("items"))+"\n                "),s("a",{staticClass:"select-clear",on:{click:e.clearSelectAll}},[e._v(e._s(e.$t("clear")))])])],1):e._e()]),s("Row",[s("Table",{ref:"table",attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data,sortable:"custom"},on:{"on-sort-change":e.changeSort,"on-selection-change":e.showSelect,"on-row-dblclick":e.dblclick}})],1),s("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[s("Page",{attrs:{current:e.pageNumber,total:e.total,"page-size":e.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1)},l=[],r=(s("ac6a"),s("f3e2"),s("c5f6"),s("365c")),i=s("3eac"),n={name:"table-grid",components:{"export-button":i["default"]},data:function(){return{pageNumber:1,pageSize:10,selectCount:0,selectList:[]}},props:{loading:{type:Boolean,required:!0},columns:{type:Array,required:!0},data:{type:Array,required:!0},total:{type:Number,required:!0},delAllUrl:{type:String,default:""},params:{type:Object,required:!0},exportUrl:{type:String,default:""},exportFromId:{type:String,default:""},tableAdd:{type:Boolean,default:!0},tableDelAll:{type:Boolean,default:!0},tableRefresh:{type:Boolean,default:!0}},methods:{add:function(){this.$emit("add")},delAll:function(){var e=this;""!==this.delAllUrl?this.selectCount<=0?this.$Message.warning(this.$t("deleteTip")):this.$Modal.confirm({title:this.$t("confirmDelete"),content:this.$t("deleteContent1")+this.selectCount+this.$t("deleteContent2")+"ï¼Ÿ",onOk:function(){var t="";e.selectList.forEach(function(e){t+=e.id+","}),t=t.substring(0,t.length-1);var s={ids:t};Object(r["p"])(e.delAllUrl,s).then(function(t){0===t.code&&(e.$Message.success(e.$t("deleteSuccess")),e.clearSelectAll(),e.$emit("getList"))})}}):this.$Message.warning(this.$t("deleteInvalidTip"))},refresh:function(){this.$emit("getList")},clearSelectAll:function(){this.$refs.table.selectAll(!1)},changeSort:function(e){this.params.sort=e.key,this.params.order=e.order,"normal"===e.order&&(this.params.order=""),this.$emit("getList")},showSelect:function(e){this.selectList=e,this.selectCount=e.length},changePage:function(e){this.params.pageNumber=e,this.$emit("getList"),this.clearSelectAll()},changePageSize:function(e){this.params.pageSize=e,this.$emit("getList")},dblclick:function(e,t,s){this.$emit("dblclick",e)}}},o=n,c=s("2877"),d=Object(c["a"])(o,a,l,!1,null,null,null);d.options.__file="table-grid.vue";t["default"]=d.exports}}]);