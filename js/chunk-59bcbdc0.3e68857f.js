(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59bcbdc0","chunk-562c4a02"],{"02f4":function(e,t,r){var a=r("4588"),n=r("be13");e.exports=function(e){return function(t,r){var i,o,s=String(n(t)),l=a(r),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l),i<55296||i>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?e?s.charAt(l):i:e?s.slice(l,l+2):o-56320+(i-55296<<10)+65536)}}},"0bb0":function(e,t,r){"use strict";var a=r("0d7e"),n=r.n(a);n.a},"0d7e":function(e,t,r){var a=r("bd56");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("77697f48",a,!0,{sourceMap:!1,shadowMode:!1})},"55dd":function(e,t,r){"use strict";var a=r("5ca1"),n=r("d8e8"),i=r("4bf8"),o=r("79e5"),s=[].sort,l=[1,2,3];a(a.P+a.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!r("2f21")(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),n(e))}})},"5df3":function(e,t,r){"use strict";var a=r("02f4")(!0);r("01f9")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=a(t,r),this._i+=e.length,{value:e,done:!1})})},7514:function(e,t,r){"use strict";var a=r("5ca1"),n=r("0a49")(5),i="find",o=!0;i in[]&&Array(1)[i](function(){o=!1}),a(a.P+a.F*o,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(i)},"99d3":function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return n}),r.d(t,"c",function(){return i});r("7f7f");var a=function(e){var t;switch(e.type){case 0:t="开始";break;case 1:t="结束";break;case 2:t="指令";break;case 3:t="指标";break;case 4:t="数据";break;case 5:t="报告";break;case 6:t="判断";break;case 7:t="循环";break;case 8:t="触发";break;default:break}return t},n=function(e){var t=e;switch(t.type){case 2:t.type="指令节点";break;case 3:t.type="指标节点";break;case 4:t.type="数据处理节点";break;case 5:t.type="循环节点";break;case 6:t.type="判断节点";break;case 7:t.type="报告节点";break;case 8:t.type="触发节点";break;case 9:t.type="系统变量";break;case 10:t.type="常量";break;case 11:t.type="节点属性";break;default:t.type="";break}var r=[];return r.push(""+t.type),"常量"==t.type?(t.se&&(0==parseInt(t.se.num)?r.push("字符"):1==parseInt(t.se.num)&&r.push("数值"),r.push(""+t.se.name)),r):(t.se&&r.push(""+t.se.name),t.tr&&r.push(""+t.tr.name),t.fo&&r.push(""+t.fo.name),t.fv&&r.push(""+t.fv.name),r)},i=function(e){var t={type:"",se:{},tr:{},fo:{},fv:{}};if(e.length){switch(e[0]){case"指令节点":t.type="2";break;case"指标节点":t.type="3";break;case"数据处理节点":t.type="4";break;case"循环节点":t.type="5";break;case"判断节点":t.type="6";break;case"报告节点":t.type="7";break;case"触发节点":t.type="8";break;case"系统变量":t.type="9";break;case"常量":t.type="10";break;case"节点属性":t.type="11";break;default:t.type=null;break}if("10"==t.type)return e.length>1?(t.se.name=e[1],"字符"==e[1]?(t.se.num="0",t.se.name=e[2]):"数值"==e[1]&&(t.se.num="1",t.se.name=e[2])):t.se=null,t.tr=null,t.fo=null,t.fv=null,t;e.length>1?(t.se.name=e[1],"网元变量"==e[1]||"数值"==e[1]||"开始节点"==e[1]?t.se.num="1":"循环节点"==e[1]?t.se.num="2":t.se.num="0"):t.se=null,e.length>2?(t.tr.name=e[2],"流程运行时间"==e[2]?t.tr.num="1":t.tr.num="0"):t.tr=null,e.length>3?(t.fo.name=e[3],"当前循环变量值"==e[3]?t.fo.num="1":t.fo.num="0"):t.fo=null,e.length>4?(t.fv.name=e[4],t.fv.num="0"):t.fv=null}else t.type=null;return t}},b39a:function(e,t,r){var a=r("d3f4");e.exports=function(e,t){if(!a(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},bd56:function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"\n.my-tree{width:100%\n}\n.my-tree .w100{width:100px\n}\n.my-tree .w200{width:200px\n}\n.my-tree .brother{display:flex;flex-direction:column\n}\n.my-tree .childConditions{margin-top:20px;display:flex\n}\n.my-tree .childConditions .childOperator{flex:0 0 130px\n}\n.my-tree .judgeTitle{background:#eee\n}\n.my-tree .judgeSet{display:flex;justify-content:flex-start;align-items:flex-end;padding:10px 0\n}\n.my-tree .judgeSet>div{flex:0 0 200px;text-align:center\n}\n.my-tree .judgeSet>div>div{text-align:left\n}\n.my-tree .judgeSet .judgeSetOne{flex:0 0 80px\n}\n.my-tree .judgeSet .judgeSetThree{flex:0 0 100px\n}\n.my-tree .judgeSet .judgeSetTwo{flex:0 0 300px\n}\n.my-tree .judgeSet .judgeSetFour{flex:0 1 400px\n}\n.my-tree .judgeSet .judgeSetFive{flex:0 0 100px\n}",""])},be94:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var a=r("ade3");function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){Object(a["a"])(e,t,r[t])})}return e}},c26b:function(e,t,r){"use strict";var a=r("86cc").f,n=r("2aeb"),i=r("dcbc"),o=r("9b43"),s=r("f605"),l=r("4a59"),c=r("01f9"),d=r("d53b"),u=r("7a56"),p=r("9e1e"),m=r("67ab").fastKey,f=r("b39a"),h=p?"_s":"size",y=function(e,t){var r,a=m(t);if("F"!==a)return e._i[a];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,c){var d=e(function(e,a){s(e,d,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[h]=0,void 0!=a&&l(a,r,e[c],e)});return i(d.prototype,{clear:function(){for(var e=f(this,t),r=e._i,a=e._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete r[a.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var r=f(this,t),a=y(r,e);if(a){var n=a.n,i=a.p;delete r._i[a.i],a.r=!0,i&&(i.n=n),n&&(n.p=i),r._f==a&&(r._f=n),r._l==a&&(r._l=i),r[h]--}return!!a},forEach:function(e){f(this,t);var r,a=o(e,arguments.length>1?arguments[1]:void 0,3);while(r=r?r.n:this._f){a(r.v,r.k,this);while(r&&r.r)r=r.p}},has:function(e){return!!y(f(this,t),e)}}),p&&a(d.prototype,"size",{get:function(){return f(this,t)[h]}}),d},def:function(e,t,r){var a,n,i=y(e,t);return i?i.v=r:(e._l=i={i:n=m(t,!0),k:t,v:r,p:a=e._l,n:void 0,r:!1},e._f||(e._f=i),a&&(a.n=i),e[h]++,"F"!==n&&(e._i[n]=i)),e},getEntry:y,setStrong:function(e,t,r){c(e,t,function(e,r){this._t=f(e,t),this._k=r,this._l=void 0},function(){var e=this,t=e._k,r=e._l;while(r&&r.r)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?d(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=void 0,d(1))},r?"entries":"values",!r,!0),u(t)}}},dabb:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Card",{staticClass:"name"},[r("h2",{staticStyle:{"text-align":"center","margin-top":"10px"}},[e._v("指令集配置")]),r("Form",{ref:"orderForm",attrs:{model:e.orderForm,"label-width":200,rules:e.orderFormValidate}},[r("Collapse",{model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},[r("Panel",{attrs:{name:"1"}},[e._v("\n                节点属性\n                "),r("p",{attrs:{slot:"content"},slot:"content"},[r("span",[r("FormItem",{attrs:{label:"节点名称",prop:"name"}},[r("Input",{staticStyle:{width:"390px"},model:{value:e.orderForm.name,callback:function(t){e.$set(e.orderForm,"name",t)},expression:"orderForm.name"}})],1),r("FormItem",{attrs:{label:"节点类型"}},[r("Input",{staticStyle:{width:"390px"},attrs:{disabled:""},model:{value:e.type1,callback:function(t){e.type1=t},expression:"type1"}})],1),r("FormItem",{attrs:{label:"节点说明",prop:"desc"}},[r("Input",{staticStyle:{width:"390px"},attrs:{type:"textarea",autosize:{minRows:3,maxRows:10}},model:{value:e.orderForm.desc,callback:function(t){e.$set(e.orderForm,"desc",t)},expression:"orderForm.desc"}})],1)],1)])]),r("Panel",{attrs:{name:"2"}},[e._v("\n                指定指令执行网元\n                "),r("p",{attrs:{slot:"content"},slot:"content"},[r("span",[r("FormItem",{attrs:{label:"网元分类",prop:"keySelect"}},[r("Cascader",{staticStyle:{width:"390px"},attrs:{data:e.keyGetSelect,clearable:""},on:{"on-change":e.changekeySelect},model:{value:e.orderForm.keySelect,callback:function(t){e.$set(e.orderForm,"keySelect",t)},expression:"orderForm.keySelect"}})],1),r("FormItem",{attrs:{label:"执行网元指定"}},[r("RadioGroup",{staticStyle:{width:"780px"},on:{"on-change":function(t){e.modifyChange(t)}},model:{value:e.orderForm.appoint,callback:function(t){e.$set(e.orderForm,"appoint",t)},expression:"orderForm.appoint"}},[r("Radio",{staticStyle:{display:"inline-block",width:"82px"},attrs:{label:0}},[e._v("变量指定")]),"0"==e.appoint1?r("div",{staticStyle:{display:"inline-block"}},[r("Cascader",{class:["常量"==e.five[0]?"w100":"w200"],staticStyle:{display:"inline-block"},attrs:{data:e.getProcessArray},model:{value:e.five,callback:function(t){e.five=t},expression:"five"}}),"常量"==e.five[0]?r("Input",{staticClass:"inputLeft",staticStyle:{display:"inline-block",width:"100px"},model:{value:e.leftConstant,callback:function(t){e.leftConstant=t},expression:"leftConstant"}}):e._e()],1):e._e(),r("Radio",{staticStyle:{display:"inline-block","margin-left":"50px"},attrs:{label:1}},[e._v("运行时变量指定")])],1)],1),r("FormItem",{staticStyle:{"margin-left":"90px"},attrs:{label:"默认执行网元",prop:"defaultNet"}},[r("Input",{staticStyle:{width:"300px"},model:{value:e.orderForm.defaultNet,callback:function(t){e.$set(e.orderForm,"defaultNet",t)},expression:"orderForm.defaultNet"}})],1)],1)])]),r("Panel",{attrs:{name:"3"}},[e._v("\n                指令修改\n                "),r("p",{attrs:{slot:"content"},slot:"content"},[r("span",[r("div",{staticClass:"orderTitle ovhd"},[e._v("指令列表: "),r("Button",{attrs:{size:"small",type:"primary","element-id":"orderAdd"},on:{click:function(t){e.listFormShow("新增")}}},[e._v("添加指令")])],1),r("Table",{attrs:{columns:e.orderColumns,data:e.orders,"highlight-row":""},on:{"on-current-change":e.currentRow}}),r("div",{staticClass:"orderTitle ovhd"},[e._v("解析器列表: ")]),r("Table",{attrs:{columns:e.jxqColumns,data:e.orders.arr}})],1)])])],1),r("Divider"),r("FormItem")],1),r("Modal",{attrs:{title:"指令"+e.listNowType,"footer-hide":"",width:"1000",id:"listForm"},model:{value:e.listFormVisible,callback:function(t){e.listFormVisible=t},expression:"listFormVisible"}},[r("Form",{ref:"listForm",attrs:{model:e.listForm,"label-width":80}},[r("Divider",{attrs:{orientation:"left"}},[e._v("指令行修改")]),r("FormItem",{attrs:{label:"指令行",prop:"orderStr"}},[r("Input",{model:{value:e.listForm.orderStr,callback:function(t){e.$set(e.listForm,"orderStr",t)},expression:"listForm.orderStr"}}),r("div",[r("div",{staticStyle:{margin:"10px 0"}},[r("span",[e._v("期望返回结束符：")]),r("Input",{staticStyle:{width:"100px"},model:{value:e.listForm.endFlag,callback:function(t){e.$set(e.listForm,"endFlag",t)},expression:"listForm.endFlag"}}),r("span",{staticClass:"margin-left-10"},[e._v("指令超时时间(s)：")]),r("Input",{staticStyle:{width:"100px"},model:{value:e.listForm.overTime,callback:function(t){e.$set(e.listForm,"overTime",t)},expression:"listForm.overTime"}})],1),0!=e.listNow?r("div",[r("Checkbox",{model:{value:e.listForm.isVariable,callback:function(t){e.$set(e.listForm,"isVariable",t)},expression:"listForm.isVariable"}},[e._v("启用变量参数")]),r("span",{staticStyle:{color:"gray"}},[e._v("（指令行中以<?bc1><?bc2><?bc3>表示变量参数，运行时代入值）")])],1):e._e(),e.listForm.isVariable?r("div",{staticClass:"margin-bottom-20"},[e._v("\n                        变量参数组合关系设置：\n                        "),r("div",{staticClass:"margin-left-6 margin-bottom-6"},[r("span",{staticClass:"margin-right-10 margin-left-10"},[e._v("主维度： ")]),r("Cascader",{staticStyle:{width:"300px",display:"inline-block"},attrs:{data:e.getProcessArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选,可以为空"},model:{value:e.listForm.chief,callback:function(t){e.$set(e.listForm,"chief",t)},expression:"listForm.chief"}})],1),r("div",[r("span",{staticClass:"margin-right-10 margin-left-10"},[e._v("副维度： ")]),r("Cascader",{staticStyle:{width:"300px",display:"inline-block"},attrs:{data:e.getProcessArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选,可以为空"},model:{value:e.listForm.deputy,callback:function(t){e.$set(e.listForm,"deputy",t)},expression:"listForm.deputy"}})],1)]):e._e(),e.listForm.isVariable?r("div",[e._v("\n                        变量参数组合：\n                        "),e._l(3,function(t){return r("div",{staticClass:"margin-bottom-6"},[r("span",{staticClass:"margin-right-10 margin-left-10"},[e._v("<?bc"+e._s(t)+">：")]),r("Cascader",{staticStyle:{width:"300px",display:"inline-block"},attrs:{data:e.getProcessArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选,可以为空"},model:{value:e.listForm["bc"+t],callback:function(r){e.$set(e.listForm,"bc"+t,r)},expression:"listForm['bc'+(index)]"}})],1)})],2):e._e()])],1),r("Divider",{attrs:{orientation:"left"}},[e._v("选择解析器")]),r("FormItem",{attrs:{label:"解析器属性"}},[r("Cascader",{staticStyle:{width:"300px",display:"inline-block"},attrs:{data:e.keyGetSelect,disabled:!0},model:{value:e.orderForm.keySelect,callback:function(t){e.$set(e.orderForm,"keySelect",t)},expression:"orderForm.keySelect"}}),r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.analyAdd}},[e._v("添加解析器")])],1),e._l(e.listForm.anaGroup,function(t,a){return r("div",[r("FormItem",{attrs:{label:"解析器"+(a+1)}},[r("Select",{staticStyle:{width:"300px"},attrs:{clearable:"",filterable:"",placeholder:"支持输入筛选,不能为空"},on:{"on-change":function(t){e.selectChange(t,a)}},model:{value:e.listForm.anaGroup[a],callback:function(t){e.$set(e.listForm.anaGroup,a,t)},expression:"listForm.anaGroup[index]"}},e._l(e.listInsert,function(t){return r("Option",{key:t.orderAnalysisId,attrs:{value:t.orderAnalysisId}},[e._v(e._s(t.orderAnalysisName))])})),r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"primary"},on:{click:e.analyAdd}},[e._v("添加解析器")]),r("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"error"},on:{click:function(t){e.analyReduce(a)}}},[e._v("删除该解析")])],1),r("FormItem",{attrs:{label:"解析器样例:",prop:"logOut"}},[r("Table",{staticStyle:{"margin-bottom":"20px"},attrs:{height:"150",columns:e.listForm.logOutColumns[a],data:e.listForm.logOut[a]}})],1)],1)}),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:e.listFormSubmit}},[e._v("确定")])],1)],2)],1)],1)},n=[],i=(r("7514"),r("6b54"),r("87b3"),r("be94")),o=(r("57e7"),r("55dd"),r("78ce"),r("6d67"),r("ac6a"),r("5df3"),r("f400"),r("7f7f"),r("1516")),s=r.n(o),l=r("f247"),c=r("99d3"),d=function(e,t,r){if(t&&t.length<3)return r(new Error("必须选到最后一级"));r()},u={components:{draggable:s.a,"my-tree":l["default"]},data:function(){var e=this;return{dataCityType:["operateCity","neCategory","neType","neProducer"],dataType:["neCategory","neType","neProducer"],type1:"",leftConstant:"",keyGetSelect:[],orderForm:{keySelect:[]},orderFormValidate:{name:[{required:!0,message:"节点名称不能为空",trigger:"blur"}],desc:[{max:200,message:"最多输入200个字符",trigger:"blur"}],keySelect:[{required:!0,type:"array",message:"选择不能为空",trigger:"change"},{validator:d,type:"array",message:"必须选到最后一级"}]},orderColumns:[{title:"指令编号",key:"orderNum"},{title:"指令",key:"orderStr"},{title:"操作",key:"action",width:300,align:"center",render:function(t,r){var a=r.index,n=e.orders.length-1,i=!1,o=!1;return 1==e.orders.length?(i=!0,o=!0):0==a?i=!0:a==n&&(o=!0),t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.orderOp(r.row,r.index)}}},"修改"),t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.orderDel(r.row,r.index)}}},"删除"),t("Button",{props:{type:"primary",size:"small",disabled:i},style:{marginRight:"5px"},on:{click:function(){e.orderUp(e.orders,r.index)}}},"向上移动"),t("Button",{props:{type:"primary",size:"small",disabled:o},style:{marginRight:"5px"},on:{click:function(){e.orderDown(e.orders,r.index)}}},"向下移动")])}}],orders:[],jxqColumns:[{title:"指令解析编号",key:"num"},{title:"指令解析名称",key:"name"},{title:"解析输出",key:"outPut"}],value1:"1",btnName:"查看",listNowType:"",listFormVisible:!1,listForm:{},bcWdArray:[],listNow:0,appoint1:"",five:[],variableData:[],baseObj:{type:"",se:{},tr:{},fo:{},fv:{}},changeData:["chief","deputy","bc1","bc2","bc3","left","right"],row:{}}},created:function(){},computed:{getProcessArray:function(){return this.$store.state.yt.processArray}},methods:{init:function(e){var t=this;this.getRequest("/routinejob/net/four").then(function(e){t.$store.commit("keyGetCity",e.content),t.keyGetSelect=e.content}),this.getRequest("/operation/NodeInstruct?id="+e).then(function(e){if(0==e.code){t.type1=Object(c["a"])(e.content);var r=e.content;if(t.appoint1=e.content.appoint,"0"==e.content.appoint&&e.content.five){var a=e.content.five,n=[];switch(parseInt(a.type)){case 2:a.type="指令节点";break;case 3:a.type="指标节点";break;case 4:a.type="数据处理节点";break;case 5:a.type="循环节点";break;case 6:a.type="判断节点";break;case 7:a.type="报告节点";break;case 8:a.type="触发节点";break;case 9:a.type="系统变量";break;case 10:a.type="常量";break;case 11:a.type="节点属性";break;default:a.type="";break}n.push(""+a.type),a.se&&n.push(""+a.se.name),a.tr&&n.push(""+a.tr.name),a.fo&&n.push(""+a.fo.name),a.fv&&n.push(""+a.fv.name),t.five=n}var i=[];i.push(r.operateCity,r.neCategory,r.neType,r.neProducer);var o={neCategory:r.neCategory,neType:r.neType,neProducer:r.neProducer};t.getRequest("/routinejob/orderAnalysis/listInsert",o).then(function(e){t.listInsert=e.content;var a=[];a.push(r.neCategory,r.neType,r.neProducer),t.orderForm.keySelect=a,t.orderForm.orderSetName=r.orderSetName,t.orderForm.desc=r.desc;var n=new Map;r.orders&&r.orders.length?(r.orders.map(function(e){e.isVariable=0==e.isVariable,t.changeBack(e),e.logOutColumns=[],e.logOut=[],e.orderAnalysisName=[],"复制"==t.btnName&&n.set(e.orderId,"O"+Date.now()+Math.ceil(1e4*Math.random()))}),r.orders.sort(function(e,t){return e.orderNum.slice(1)-t.orderNum.slice(1)})):r.orders=[],t.orders=r.orders}),r.orders&&r.orders.length?(r.orders.map(function(e){e.isVariable=0==e.isVariable,t.changeBack(e),e.logOutColumns=[],e.logOut=[],e.orderAnalysisName=[],"复制"==t.btnName&&idArr.set(e.orderId,"O"+Date.now()+Math.ceil(1e4*Math.random()))}),r.orders.sort(function(e,t){return e.orderNum.slice(1)-t.orderNum.slice(1)})):r.orders=[],r.keySelect=i,t.orderForm=r,t.orders=r.orders}})},changekeySelect:function(e){for(var t=0,r=e.length;t<r;t++)this.orderForm[this.dataCityType[t]]=e[t]},getData:function(){var e=this;if(this.orderForm.orders.map(function(t){t.isVariable=t.isVariable?0:1,e.changeFun(t)}),this.orderForm.orders.sort(function(e,t){return e.orderNum.slice(1)-t.orderNum.slice(1)}),"0"==this.orderForm.appoint)if("常量"==this.five[0]){var t=this.deepClone(this.five);t.push(this.leftConstant),this.orderForm.five=Object(c["c"])(t)}else this.orderForm.five=Object(c["c"])(this.five);else this.orderForm.five={};return this.orderForm},initRequest:function(){this.orderFormInit(!1)},orderFormSubmit:function(e){var t=this;this.$refs["orderForm"].validate(function(r){if(r){var a={};if(t.orderForm.keySelect&&"[]"!==JSON.stringify(t.orderForm.keySelect))for(var n=t.orderForm.keySelect,o=0,s=n.length;o<s;o++)a[t.dataCityType[o]]=n[o];var l=t.judges;l&&l.length>0&&t.judges.map(function(e,t){e.judgeRules.map(function(e,t){e.net=e.outPutRules.indexOf("输出到网元报告")>=0?0:1,e.summary=e.outPutRules.indexOf("输出到汇总报告")>=0?0:1})});var c=Object(i["a"])({},a,t.orderForm,{orderSetId:"",updater:t.userInfo.username,creater:t.userInfo.username,auditor:t.userInfo.username,auditStatus:e,appoint:t.orderForm.appoint,remark:t.orderForm.remark});c.orders=t.orders,c.calculates=t.calculates,c.judges=t.deepClone(t.judges),c.orders.map(function(e){e.isVariable=e.isVariable?0:1,t.changeFun(e)}),c.orders.sort(function(e,t){return e.orderNum.slice(1)-t.orderNum.slice(1)}),c.judges.map(function(e){e.judgeRules.map(function(e){t.changeFun(e),e.conditions.map(function(e){t.changeFun(e)})})}),localStorage.setItem("orderSet",JSON.stringify(c)),"修改"==t.btnName?t.getRequest("/routinejob/orderSet/update?id="+t.row.orderSetId).then(function(e){0==e.code?(c.orderSetId=e.content.orderSetId,t.putYTRequest("/routinejob/orderSet",c).then(function(e){0==e.code?(t.$Message.info("执行成功"),t.$emit("on-add")):t.$Message.warning({content:e.result,duration:10,closable:!0})})):t.$Message.warning({content:e.result,duration:10,closable:!0})}):t.postYTRequest("/routinejob/orderSet",c).then(function(e){0==e.code?(t.$Message.info("执行成功"),t.$emit("on-add")):t.$Message.warning({content:e.result,duration:10,closable:!0})})}})},cancelReg:function(){var e=this;this.$Modal.confirm({title:"确定关闭该页面吗",onOk:function(){e.$emit("on-cancel")}})},orderFormInit:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$refs["orderForm"].resetFields(),this.orderForm={keySelect:[],orderSetName:""},this.orders=[],this.calculates=[],this.judgesInit(),e?this.$emit("on-show"):this.$emit("on-cancel")},judgesInit:function(e){var t=this.deepClone(this.judgeRulesDefault),r=this.deepClone(this.judgeRulesDefault);r.result=1,this.judges=[{checkTitle:"检查项1",judgeRules:[t,r]}]},currentRow:function(e){console.log(e)},listFormShow:function(e){var t=this;this.listFormInit(),this.listNowType=e,"新增"==e?this.listNow=this.orders.length:this.listForm=this.deepClone(this.row);var r={},a=this.orderForm.keySelect.slice(1);if(this.listForm.keySelect=a,a&&"[]"!==JSON.stringify(a))for(var n=a,i=0,o=n.length;i<o;i++)r[this.dataType[i]]=n[i];this.listFormVisible=!0,this.getRequest("/routinejob/orderAnalysis/listInsert",r).then(function(e){t.listInsert=e.content})},listFormInit:function(){this.listForm={orderStr:"",orderNum:"",endFlag:"",overTime:10,isVariable:!1,chief:{},deputy:{},bc1:{},bc2:{},bc3:{},anaGroup:[],orderAnalysisName:[],logOutColumns:[],logOut:[]},this.listFormVisible=!1},changeFun:function(e){var t=this;this.changeData.map(function(r){if(e[r]&&"[object Array]"===Object.prototype.toString.call(e[r])){var a=t.deepClone(t.baseObj);e[r].length&&(a.type=e[r][0],0==e[r][0]?(a.orderId=e[r][1],a.anaId=e[r][2],a.colName=e[r][3]):1==e[r][0]?(a.orderId=e[r][1],a.sysId=e[r][2],a.sysFormat=e[r][3]):2==e[r][0]?a.calId=e[r][1]:4==e[r][0]&&(a.type=e[r][1],a.constant=e[r+"Constant"],"3"==e[r][1]&&(a.constant*=1))),e[r]=a}e.childConditions&&e.childConditions.length&&e.childConditions.map(function(e){t.changeFun(e)})})},changeBack:function(e){var t=this;this.changeData.map(function(r){if(e[r]&&"[object Object]"===Object.prototype.toString.call(e[r])){var a=[];0==e[r].type||1==e[r].type?(a.push(""+e[r].type,e[r].orderId),null!==e[r].anaId&&""!==e[r].anaId?a.push(""+e[r].anaId,e[r].colName):null!==e[r].sysId&&""!==e[r].sysId&&a.push(""+e[r].sysId,""+e[r].sysFormat)):2==e[r].type?a.push(""+e[r].type,e[r].calId):3!=e[r].type&&4!=e[r].type&&5!=e[r].type||("left"==r||"right"==r?(a.push("4",""+e[r].type),e[r+"Constant"]=e[r].constant,"3"==e[r][1]&&(e[r+"Constant"]*=1)):a.push(""+e[r].type,e[r].constant)),e[r]=a}e.childConditions&&e.childConditions.length&&e.childConditions.map(function(e){t.changeBack(e)})})},orderOp:function(e,t){this.listNow=t,0==t&&(e.isVariable=!1),this.row=e,this.listFormShow("修改")},orderSwap:function(e,t,r){e[t]=e.splice(r,1,e[t])[0]},orderUp:function(e,t){0!=t&&this.orderSwap(e,t,t-1)},orderDown:function(e,t){t!=e.length-1&&this.orderSwap(e,t,t+1)},orderDel:function(e,t){this.orders.splice(t,1)},modifyChange:function(e){this.appoint1=e,"0"==e&&(this.five=[])},analyAdd:function(){this.listForm.anaGroup.push("")},analyReduce:function(e){this.listForm.anaGroup.splice(e,1)},listFormSubmit:function(){"新增"==this.listNowType?this.orders.length:"修改"==this.listNowType&&this.listNow;for(var e=this.deepClone(this.listForm),t=e.anaGroup.length-1;t>=0;t--)e.anaGroup[t]||(e.anaGroup.splice(t,1),e.logOutColumns.splice(t,1),e.orderAnalysisName.splice(t,1),e.logOut.splice(t,1));"新增"==this.listNowType?(e.orderId="O"+Date.now()+Math.ceil(1e4*Math.random()),this.orders.push(e)):"修改"==this.listNowType&&this.orders.splice(this.listNow,1,e),this.listFormInit()},getIndexByValue:function(e,t){var r=99;return t&&t.length&&t.find(function(t,a){t.value==e&&(r=a)}),r},getListData:function(e,t){var r={};return r=t.find(function(t,r){return t.orderAnalysisId==e}),r},selectChange:function(e,t){var r=this.getListData(e,this.listInsert);r?(this.listForm.orderAnalysisName[t]=r.orderAnalysisName,this.listForm.logOutColumns[t]=this.deepClone(r.logOutColumns),this.listForm.logOut[t]=this.deepClone(r.logOut)):(this.listForm.orderAnalysisName[t]="",this.listForm.logOutColumns[t]=[],this.listForm.logOut[t]=[])},format:function(e,t){if(e&&e.length>=1){var r=e.length-1;return e[r-1]+" / "+e[r]}}},watch:{orders:function(){var e=this,t=this.orders;if(t&&t.length){this.orders.map(function(t,r){t.orderNum="O"+(r+1);var a=[],n=t.anaGroup;n&&n.length>0&&t.anaGroup.map(function(n,i){var o={},s="",l="";if(r>0)for(var c=1;c<=3;c++){var d="";d=t["bc"+c].length?0==t["bc"+c][0]?t["bc"+c][3]+"，":e.sysArr[t["bc"+c][2]].children[t["bc"+c][3]].label+"，":"",l+=d}if(t.variableParamString=l.slice(0,-1),e.listInsert&&e.listInsert.length){var u=e.getListData(n,e.listInsert);u&&(t.logOut[i]=e.deepClone(u.logOut),t.logOutColumns[i]=e.deepClone(u.logOutColumns),o.anaId=n,o.name=u.orderAnalysisName,o.num="".concat(t.orderNum,"-J").concat(i+1),u.logOutColumns.map(function(e,t){s+="".concat(e.key,"， ")}),o.outPut=s.slice(0,-2))}a.push(o)}),t.arr=a});var r=[];this.orders.map(function(e,t){var a=e.arr;a&&a.length>0&&e.arr.map(function(e,t){r.push(e)})}),this.orders.arr=r}}}},p=u,m=r("2877"),f=Object(m["a"])(p,a,n,!1,null,null,null);f.options.__file="instruct.vue";t["default"]=f.exports},e0b8:function(e,t,r){"use strict";var a=r("7726"),n=r("5ca1"),i=r("2aba"),o=r("dcbc"),s=r("67ab"),l=r("4a59"),c=r("f605"),d=r("d3f4"),u=r("79e5"),p=r("5cc5"),m=r("7f20"),f=r("5dbc");e.exports=function(e,t,r,h,y,v){var g=a[e],b=g,k=y?"set":"add",F=b&&b.prototype,S={},C=function(e){var t=F[e];i(F,e,"delete"==e?function(e){return!(v&&!d(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!d(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!d(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof b&&(v||F.forEach&&!u(function(){(new b).entries().next()}))){var x=new b,w=x[k](v?{}:-0,1)!=x,_=u(function(){x.has(1)}),I=p(function(e){new b(e)}),j=!v&&u(function(){var e=new b,t=5;while(t--)e[k](t,t);return!e.has(-0)});I||(b=t(function(t,r){c(t,b,e);var a=f(new g,t,b);return void 0!=r&&l(r,y,a[k],a),a}),b.prototype=F,F.constructor=b),(_||j)&&(C("delete"),C("has"),y&&C("get")),(j||w)&&C(k),v&&F.clear&&delete F.clear}else b=h.getConstructor(t,e,y,k),o(b.prototype,r),s.NEED=!0;return m(b,e),S[e]=b,n(n.G+n.W+n.F*(b!=g),S),v||h.setStrong(b,e,y),b}},f247:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"my-tree"},e._l(e.treeData,function(t,a){return r("div",{key:a,staticClass:"brother"},[r("div",{staticClass:"judgeTJ"},[r("div",{directives:[{name:"show",rawName:"v-show",value:0==a,expression:"idx==0"}],staticClass:"judgeSet judgeTitle"},[e._m(0,!0),r("div",{staticClass:"judgeSetTwo"},[e._v("比较项")]),r("div",{staticClass:"judgeSetThree"},[e._v("比较符号")]),r("div",{staticClass:"judgeSetFour"},[e._v("比较项")]),r("div",{staticClass:"judgeSetfive"})])]),r("div",{staticClass:"judgeSet",class:"judge-"+a},[r("div",{staticClass:"judgeSetOne"},[r("Select",{directives:[{name:"show",rawName:"v-show",value:0!=a,expression:"idx!=0"}],staticStyle:{width:"80px"},attrs:{clearable:"",placeholder:"and/or"},model:{value:t.operator,callback:function(r){e.$set(t,"operator",r)},expression:"data.operator"}},e._l(e.operatorArray,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),r("div",{staticClass:"judgeSetTwo"},[r("Cascader",{class:["常量"==t.left[0]?"w100":"w200"],staticStyle:{display:"inline-block"},attrs:{data:e.getProcessArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选"},model:{value:t.left,callback:function(r){e.$set(t,"left",r)},expression:"data.left"}}),"常量"==t.left[0]?r("Input",{staticClass:"inputLeft",staticStyle:{display:"inline-block",width:"100px"},model:{value:t.leftConstant,callback:function(r){e.$set(t,"leftConstant",r)},expression:"data.leftConstant"}}):e._e()],1),r("div",{staticClass:"judgeSetThree"},[r("Select",{staticStyle:{width:"100px"},attrs:{clearable:""},model:{value:t.compare,callback:function(r){e.$set(t,"compare",r)},expression:"data.compare"}},e._l(e.compareArray,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),r("div",{staticClass:"judgeSetFour"},[r("Cascader",{class:["常量"==t.right[0]?"w100":"w200"],staticStyle:{display:"inline-block"},attrs:{data:e.getProcessArray,"render-format":e.format,clearable:"",filterable:"",placeholder:"支持输入筛选"},model:{value:t.right,callback:function(r){e.$set(t,"right",r)},expression:"data.right"}}),"常量"==t.right[0]?r("Input",{staticClass:"inputRight",staticStyle:{display:"inline-block",width:"100px"},model:{value:t.rightConstant,callback:function(r){e.$set(t,"rightConstant",r)},expression:"data.rightConstant"}}):e._e()],1),r("div",{staticClass:"judgeSetfive"},[r("Button",{attrs:{type:"primary",size:"small"},on:{click:function(r){r.stopPropagation(),e.$emit("addBrother",r,t)}}},[e._v("添加同级")]),r("Button",{attrs:{type:"primary",size:"small"},on:{click:function(r){r.stopPropagation(),e.$emit("addChild",r,t)}}},[e._v("添加下级")]),r("Button",{attrs:{type:"error",size:"small"},on:{click:function(r){r.stopPropagation(),e.$emit("deleteNode",r,t)}}},[e._v("删除")])],1)]),t.childConditions&&t.childConditions.length?r("div",{staticClass:"childConditions"},[r("div",{staticClass:"childOperator"},[r("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.childOperator,callback:function(r){e.$set(t,"childOperator",r)},expression:"data.childOperator"}},e._l(e.operatorArray,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),r("my-tree",{attrs:{treeData:t.childConditions},on:{addBrother:e.addBrother,addChild:e.addChild,deleteNode:e.deleteNode}})],1):e._e()])}))},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"judgeSetOne"},[r("span",[e._v("关系符号")])])}],i={name:"my-tree",props:{treeData:{type:Array,default:function(){return[{operator:2,compare:4,left:[],right:[],childOperator:0,childConditions:[]}]}}},data:function(){return{getBcArray:[],operatorArray:[{value:0,label:"and"},{value:1,label:"or"}],compareArray:[{value:0,label:">大于"},{value:1,label:">=大于等于"},{value:2,label:"<小于"},{value:3,label:"<=小于等于"},{value:4,label:"=等于"},{value:5,label:"<>不等于"},{value:7,label:"Like包含"},{value:8,label:"Not Like不包含"}]}},computed:{getProcessArray:function(){return this.$store.state.yt.processArray}},methods:{format:function(e,t){if(e&&e.length>=1){var r=e.length-1;return 0==r?e[r]:e[r-1]+" / "+e[r]}},addBrother:function(e,t){this.$emit("addBrother",e,t)},addChild:function(e,t){this.$emit("addChild",e,t)},deleteNode:function(e,t){this.$emit("deleteNode",e,t)}}},o=i,s=(r("0bb0"),r("2877")),l=Object(s["a"])(o,a,n,!1,null,null,null);l.options.__file="myTree.vue";t["default"]=l.exports},f400:function(e,t,r){"use strict";var a=r("c26b"),n=r("b39a"),i="Map";e.exports=r("e0b8")(i,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=a.getEntry(n(this,i),e);return t&&t.v},set:function(e,t){return a.def(n(this,i),0===e?0:e,t)}},a,!0)}}]);