(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bda7e0d"],{"2fea":function(t,e,a){"use strict";var r=a("6014"),s=a.n(r);s.a},"3fac":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-main"},[a("Row",[a("Row",[a("Col",{attrs:{span:"24"}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.$router.push("../reportNeResult")}}},[t._v("执行结果查询")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.$router.push("../reportCheck")}}},[t._v("检查结果查询")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.$router.push("../reportParse")}}},[t._v("解析数据查询")])],1)],1),a("Col",{attrs:{span:"11"}},[a("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartBar"}})]),a("Col",{attrs:{span:"12"}},[a("div",{staticStyle:{width:"98%",height:"400px"},attrs:{id:"chartLine"}})]),a("Col",{attrs:{span:"1"}})],1),a("Divider"),a("Row",[a("Col",{attrs:{span:"11"}},[a("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartPie"}})]),a("Col",{attrs:{span:"11"}},[a("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartColumn"}})]),a("Col",{attrs:{span:"2"}})],1)],1)},s=[],n=(a("7f7f"),a("6d67"),a("313e")),i=a.n(n),o={data:function(){return{chartColumn:null,strips:[{date:"2019-01-17",sePre:"10",fuPre:"6",success:30,failure:10,sum:40,category:"EPC"},{date:"2019-01-17",sePre:"20",fuPre:"30",success:40,failure:10,sum:50,category:"核心网"}],chartBar:null,bars:[{total:"138",city:"广州",success:38,failure:10},{total:11,city:"深圳",success:22,failure:10}],chartLine:null,lines:[{date:"2019-01-16",sePre:"10",success:30,failure:10,fuPre:"30",sum:30},{date:"2019-01-15",sePre:"0",success:0,failure:0,fuPre:"0",sum:0},{date:"2019-01-14",sePre:"20",success:10,failure:30,fuPre:"10",sum:20},{date:"2019-01-13",sePre:"0",success:0,failure:0,fuPre:"0",sum:0},{date:"2019-01-12",sePre:"0",success:30,failure:105,fuPre:"0",sum:10},{date:"2019-01-11",sePre:"0",success:0,failure:0,fuPre:"0",sum:0},{date:"2019-01-10",sePre:"0",success:0,failure:20,fuPre:"0",sum:0}],chartPie:null,cookies:[{reason:0,count:2},{reason:-1,count:120},{reason:-101,count:102},{reason:-103,count:102}]}},computed:{},methods:{drawBarChart:function(){this.chartBar=i.a.init(document.getElementById("chartBar"));var t=this.formatDate(new Date,"yyyy-MM-dd"),e={city:[],total:[],success:[],failure:[]};this.bars.map(function(t,a){for(var r in t)e[r].push(t[r])}),this.chartBar.setOption({title:{text:"今日例行作业任务执行概况",subtext:t,left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:t,left:"right"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value",boundaryLabel:[0,.01]},xAxis:{type:"category",data:e.city},series:[{name:"总数",type:"bar",data:e.total},{name:"成功",type:"bar",data:e.success},{name:"失败",type:"bar",data:e.failure}]})},drawLineChart:function(){this.chartLine=i.a.init(document.getElementById("chartLine"));this.formatDate(new Date,"yyyy-MM-dd");var t={date:[],sum:[],success:[],sePre:[],failure:[],fuPre:[]};this.lines.map(function(e,a){for(var r in e)t[r].push(e[r])}),this.chartLine.setOption({title:{text:"例行作业一周检查项结果趋势",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["检查正常项数占比(%)","检查异常项数占比(%)"],y:24},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t.date.reverse()},yAxis:{type:"value"},series:[{name:"检查正常项数占比(%)",type:"line",data:t.sePre.reverse()},{name:"检查异常项数占比(%)",type:"line",data:t.fuPre.reverse()}]})},drawPieChart:function(){this.chartPie=i.a.init(document.getElementById("chartPie"));var t=this.formatDate(new Date,"yyyy-MM-dd"),e=this.deepClone(this.cookies),a=[];e.map(function(t,e){t.value=t.count,0==t.reason?t.name="成功":1==t.reason?t.name="指令发送链接超时":2==t.reason?t.name="登录失败":3==t.reason?t.name="权限不足":4==t.reason?t.name="指令有误":5==t.reason?t.name="系统忙":10==t.reason?t.name="指令发送失败":11==t.reason?t.name="检查结果输出时检测到存在发送失败指令":-1==t.reason?t.name="未知错误":-2==t.reason?t.name="失败":-101==t.reason?t.name="该Token不存在或已失效":-102==t.reason?t.name="跳板机登录失败":-103==t.reason?t.name="网元登录失败":-104==t.reason?t.name="网元不存在":-10==t.reason&&(t.name="其他"),a.push(t.name)}),console.log(a),this.chartPie.setOption({title:{text:"今日例行作业执行失败原因分布",subtext:t,x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:a},series:[{name:"访问来源",type:"pie",radius:"55%",center:["50%","60%"],data:e,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},drawColumnChart:function(){this.chartColumn=i.a.init(document.getElementById("chartColumn"));this.formatDate(new Date,"yyyy-MM-dd");var t={date:[],sum:[],success:[],sePre:[],failure:[],fuPre:[],category:[]};this.strips.map(function(e,a){for(var r in e)t[r].push(e[r])}),this.chartColumn.setOption({title:{text:"今日例行作业检查结果",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["检查正常项数占比(%)","检查异常项数占比(%)"],y:24},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category",data:t.category},series:[{name:"检查正常项数占比(%)",type:"bar",stack:"总量",label:{normal:{show:!0,position:"insideRight"}},data:t.sePre},{name:"检查异常项数占比(%)",type:"bar",stack:"总量",label:{normal:{show:!0,position:"insideRight"}},data:t.fuPre}]})},drawCharts:function(){this.drawColumnChart(),this.drawBarChart(),this.drawLineChart(),this.drawPieChart()}},created:function(){var t=this;this.getRequest("/routinejob/report/view").then(function(e){0==e.code&&(t.bars=e.content.bars,t.cookies=e.content.cookies,t.lines=e.content.lines,t.strips=e.content.strips,t.drawCharts())})},mounted:function(){},updated:function(){}},c=o,u=(a("2fea"),a("2877")),l=Object(u["a"])(c,r,s,!1,null,null,null);l.options.__file="report.vue";e["default"]=l.exports},6014:function(t,e,a){var r=a("ba7d");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var s=a("499e").default;s("8c87d28c",r,!0,{sourceMap:!1,shadowMode:!1})},ba7d:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"",""])}}]);