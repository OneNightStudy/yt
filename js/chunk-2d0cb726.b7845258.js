(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cb726"],{"4a69":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-main"},[i("Row",[i("Col",[i("Card",[i("section",{staticClass:"searchArray"},[i("search-filter",{attrs:{filter:t.filterList,apiurl:"orderAnalysis"},on:{getlist:t.getList}}),i("div",{staticClass:"btnArray"},[i("Button",{attrs:{type:"primary",icon:"md-add",id:"addNew"},on:{click:function(e){t.init({},"新增")}}},[t._v("新增")])],1)],1),i("Row",[i("Table",{ref:"table",attrs:{loading:t.loading,height:t.tableHeight,border:"",size:"small",columns:t.columns,data:t.data,"highlight-row":"",id:"orderAnalysisTable"},on:{"on-row-dblclick":function(e){t.init(e,"查看")}}})],1),i("Row",{staticClass:"tablePage",attrs:{type:"flex",justify:"end"}},[i("Page",{attrs:{current:t.pageNumber,total:t.total,"page-size":t.pageSize,"page-size-opts":[20,50,100],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1)],1)],1),i("Modal",{attrs:{title:t.modalTitle,width:"800"},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[i("Table",{attrs:{columns:t.modalColumns,data:t.modalData}})],1),i("Modal",{attrs:{title:t.btnName,fullscreen:"","footer-hide":""},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[i("orderAnalysis-form",{ref:"orderAnalysisForm",attrs:{id:"orderAnalysisForm"},on:{"on-cancel":t.formHide,"on-add":t.formAdd,"on-show":t.formShow}})],1)],1)},o=[],n=i("be94"),s=i("86d3"),r={components:{orderAnalysisForm:s["default"]},data:function(){var t=this;return{filterList:["keySelect","query"],dataType:["neCategory","neType","neProducer"],filterData:{},pageNumber:1,pageSize:20,total:0,loading:!1,columns:[{type:"index",width:60,align:"center"},{title:"指令解析名称",width:250,key:"orderAnalysisName",sortable:!0},{title:"网元类别",width:100,key:"neCategory"},{title:"网元类型",width:100,key:"neType"},{title:"设备厂家",width:100,key:"neProducer"},{title:"创建人员",width:160,key:"creater"},{title:"创建时间",width:160,key:"createTime",sortable:!0,render:function(e,i){return e("div",t.formatDate(new Date(i.row.createTime),"yyyy-MM-dd HH:mm:ss"))}},{title:"修改人员",width:100,key:"updater"},{title:"最近修改时间",width:160,key:"updateTime",sortable:!0,render:function(e,i){return e("div",t.formatDate(new Date(i.row.updateTime),"yyyy-MM-dd HH:mm:ss"))}},{title:"指令解析状态",width:160,key:"analysisStatus",render:function(t,e){return"生效"===e.row.analysisStatus?t("div",[t("Tag",{props:{type:"dot",color:"success"}},e.row.analysisStatus)]):"草稿"===e.row.analysisStatus?t("div",[t("Tag",{props:{type:"dot",color:"info"}},e.row.analysisStatus)]):t("div",[t("Tag",{props:{type:"dot",color:"error"}},e.row.analysisStatus)])}},{title:"描述信息",width:250,key:"description"},{title:"操作",key:"action",fixed:"right",width:300,align:"center",render:function(e,i){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.init(i.row,"修改")}}},"修改"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.init(i.row,"复制")}}},"复制"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.init(i.row,"查看")}}},"查看"),e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.del(i.row)}}},"删除"),e("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.stop(i.row)}}},"停用")])}}],data:[],tableHeight:450,modalVisible:!1,modalColumns:[{title:"网元类别",key:"neCategory"},{title:"网元类型",key:"neType"},{title:"设备厂家",key:"neProducer"},{title:"指令集",key:"orderSetName"},{title:"指令集状态",key:"auditStatus"}],modalData:[],modalTitle:"错误信息",userInfo:JSON.parse(localStorage.getItem("userInfo")),maxLength:20,modal1:!1,row:{},btnName:"查看"}},methods:{getList:function(t){var e=this;this.loading=!0,t&&(this.filterData=t);var i=Object(n["a"])({},this.filterData,{pageNumber:this.pageNumber,pageSize:this.pageSize});this.getRequest("/routinejob/orderAnalysis",i).then(function(t){e.data=t.content.list,e.total=t.content.total,e.loading=!1})},changePage:function(t){this.pageNumber=t,this.$refs.table.selectAll(!1),this.getList()},changePageSize:function(t){this.pageSize=t,this.getList()},del:function(t){var e=this;this.$Modal.confirm({title:"删除",content:"您确认删除该条数据?",onOk:function(){e.deleteRequest("/routinejob/orderAnalysis?id="+t.orderAnalysisId+"&deleter="+e.userInfo.username).then(function(t){0===t.code?(e.$Message.success("删除成功"),e.getList()):(e.$Message.error({content:t.result,duration:10,closable:!0}),e.modalVisible=!0,e.modalData=t.content)})}})},stop:function(t){var e=this;"草稿"===t.analysisStatus?this.$Message.info({content:'你选择的任务已经是<span style="color:#f90"> '+t.analysisStatus+" </span>态,无需重复操作",duration:10,closable:!0}):this.$Modal.confirm({title:"停用",content:"您确认停用该条数据?",onOk:function(){e.putYTRequest("/routinejob/orderAnalysis/stop?id="+t.orderAnalysisId+"&updater="+e.userInfo.username).then(function(i){0===i.code?(e.$Message.success("停用成功"),t.analysisStatus="草稿"):(e.$Message.error({content:i.result,duration:10,closable:!0}),e.modalVisible=!0,e.modalData=i.content)})}})},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;this.getThreeAndFour(this),this.btnName=e,this.$refs.orderAnalysisForm.init(t,e)},formShow:function(){this.modal1=!0},formHide:function(){this.modal1=!1},formAdd:function(){this.modal1=!1,this.getList()}},computed:{},created:function(){this.getList()},mounted:function(){this.tableHeight=window.innerHeight-270}},l=r,d=i("2877"),c=Object(d["a"])(l,a,o,!1,null,null,null);c.options.__file="orderAnalysis.vue";e["default"]=c.exports}}]);